{"version":3,"sources":["webpack://tapering-antidepressant/webpack/runtime/chunk loaded","webpack://tapering-antidepressant/./src/App.tsx","webpack://tapering-antidepressant/./src/assets/icons.tsx","webpack://tapering-antidepressant/./src/components/Header.tsx","webpack://tapering-antidepressant/./src/components/NavBar.tsx","webpack://tapering-antidepressant/./src/components/PatientsList.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/Dosages.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/GoalDosageSettingForm.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/OralFormDosage.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/PillDosages.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/PillUnit.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/PrescriptionForm.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/PrescriptionSettingsForm.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/SelectGrowth.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/SelectInterval.tsx","webpack://tapering-antidepressant/./src/components/PrescriptionForm/actions.ts","webpack://tapering-antidepressant/./src/components/PrescriptionForm/reducer.ts","webpack://tapering-antidepressant/./src/components/Schedule/DateEditor.tsx","webpack://tapering-antidepressant/./src/components/Schedule/Modal/ProjectedScheduleTableRowEditingModal.tsx","webpack://tapering-antidepressant/./src/components/Schedule/Modal/modalReducer.ts","webpack://tapering-antidepressant/./src/components/Schedule/NotesToShare.tsx","webpack://tapering-antidepressant/./src/components/Schedule/NumberEditor.tsx","webpack://tapering-antidepressant/./src/components/Schedule/ProjectedSchedule.tsx","webpack://tapering-antidepressant/./src/components/Schedule/ProjectedScheduleChart.tsx","webpack://tapering-antidepressant/./src/components/Schedule/ProjectedScheduleTable.tsx","webpack://tapering-antidepressant/./src/components/Schedule/index.ts","webpack://tapering-antidepressant/./src/hooks/useDosageSumDifferenceMessage.ts","webpack://tapering-antidepressant/./src/index.tsx","webpack://tapering-antidepressant/./src/pages/HomePage.tsx","webpack://tapering-antidepressant/./src/pages/LoggingConfigurationPage.tsx","webpack://tapering-antidepressant/./src/pages/PatientLandingPage.tsx","webpack://tapering-antidepressant/./src/pages/PatientPage.tsx","webpack://tapering-antidepressant/./src/pages/SymptomReportPage.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/ConfirmTaperConfiguration.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/CreateTaperConfiguration.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/EditTaperConfiguration.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/TaperConfigurationPage.tsx","webpack://tapering-antidepressant/./src/pages/TaperConfiguration/index.ts","webpack://tapering-antidepressant/./src/redux/actions/taperConfig.ts","webpack://tapering-antidepressant/./src/redux/actions/user.ts","webpack://tapering-antidepressant/./src/redux/reducers/drugs.ts","webpack://tapering-antidepressant/./src/redux/reducers/index.ts","webpack://tapering-antidepressant/./src/redux/reducers/taperConfig/index.ts","webpack://tapering-antidepressant/./src/redux/reducers/taperConfig/taperConfig.ts","webpack://tapering-antidepressant/./src/redux/reducers/user.ts","webpack://tapering-antidepressant/./src/redux/sagas/dummies.ts","webpack://tapering-antidepressant/./src/redux/sagas/index.ts","webpack://tapering-antidepressant/./src/redux/sagas/taperConfigSaga.ts","webpack://tapering-antidepressant/./src/redux/sagas/userSaga.ts","webpack://tapering-antidepressant/./src/redux/store.ts","webpack://tapering-antidepressant/./src/types/index.ts","webpack://tapering-antidepressant/./src/utils/pages.tsx","webpack://tapering-antidepressant/./src/utils/taperConfig.ts","webpack://tapering-antidepressant/webpack/bootstrap","webpack://tapering-antidepressant/webpack/runtime/compat get default export","webpack://tapering-antidepressant/webpack/runtime/define property getters","webpack://tapering-antidepressant/webpack/runtime/global","webpack://tapering-antidepressant/webpack/runtime/hasOwnProperty shorthand","webpack://tapering-antidepressant/webpack/runtime/make namespace object","webpack://tapering-antidepressant/webpack/runtime/node module decorator","webpack://tapering-antidepressant/webpack/runtime/jsonp chunk loading","webpack://tapering-antidepressant/webpack/startup"],"names":["deferred","mainStyle","css","useSelector","state","user","currentPatient","useDispatch","Switch","Route","path","render","checkCurrentPatientAndRender","component","PatientsMenuIcon","xmlns","xmlnsXlink","width","height","viewBox","xlinkHref","SymptomTemplatesMenuIcon","id","preserveAspectRatio","rx","fill","HelpIcon","LogOutIcon","ScoredTabletIcon","value","transform","stroke","strokeWidth","cx","cy","r","textAnchor","alignmentBaseline","fontSize","fontFamily","x","y","x2","UnscoredTabletIcon","ry","CapsuleIcon","strokeLinejoin","y2","d","ArrowUp","ArrowDown","CopyToClipboardIcon","ShareWithAppIcon","ShareWithEmailIcon","ShareWithPdfIcon","StyledHeader","header","Logo","div","DisplayUser","me","history","useHistory","onClick","push","name","NavBarStyle","helpAndLogoutStyle","location","useLocation","useState","currentMenu","setCurrentMenu","useEffect","pathname","includes","menu","subMenuStyle","match","headerStyle","titleStyle","searchStyle","buttonStyle","patients","dispatch","type","SET_CURRENT_PATIENT","data","Search","placeholder","disabled","columns","title","dataIndex","key","dataSource","map","onRow","record","href","drugForm","time","editable","containerStyle","useRef","current","useContext","PrescriptionFormContext","goalDosage","formActionDispatch","currentDosageSum","nextDosageSum","availableDosageOptions","modal","isModal","modalDispatch","goalDosageValid","setGoalDosageValid","taperConfigActionDispatch","isGoalDosageInvalid","useCallback","notValidIncreasing","notValidDecreasing","notValidSame","notDividable","length","option","parseFloat","some","SET_IS_INPUT_COMPLETE","isComplete","VALIDATE_INPUT_COMPLETION","isGoalDosageValid","onChange","e","action","SET_GOAL_DOSAGE","dosage","target","onWheel","currentTarget","blur","min","inputStyle","context","chosenDrugForm","growth","currentOralDosageInfo","nextOralDosageInfo","intervalDurationDays","dosages","oralDosageInfo","rate","mg","ml","mlDosage","setmlDosage","mgDosage","setmgDosage","dosageDifferenceMessage","mgOnChange","parseInt","Number","isNaN","undefined","actionData","quantity","nextDosageChange","currentDosageChange","mlOnChange","readOnly","style","measureUnit","currentDosageForm","nextDosageForm","currentDosageOptions","nextDosageOptions","v","form","isScored","wrapperStyle","allowSplittingUnscoredTablet","change","changeAmount","onIncrement","onDecrement","className","createContext","initialState","Current","currentDosagesQty","Next","nextDosagesQty","prescribedDrug","addNewPrescriptionForm","numberOfMedications","useReducer","reducer","init","externalDispatchWrapper","chosenBrand","drugFormOptions","dosageOptions","drugs","taperConfig","FETCH_DRUGS","SET_IS_MODAL","LOAD_PRESCRIPTION_DATA","Provider","dosageChangeAction","onBrandChange","CHOOSE_BRAND","brand","onFormChange","chooseFormActionData","minDosageUnit","regularDosageOptions","newChosenDrugForm","find","minDosage","Math","Set","flatMap","CHOOSE_FORM","toggleAllowSplittingUnscoredTabletCheckbox","toggleAllowSplittingUnscoredTablet","allow","checked","allowChangePriorDosage","danger","REMOVE_DRUG_FORM","CLEAR_SCHEDULE","OptGroup","Option","chosenDrugs","setDrugFormOptions","forms","showSearch","drug","anotherFormId","Object","keys","k","label","options","halfLife","overlayStyle","whiteSpace","GrCircleInformation","size","Group","SET_GROWTH","selectIntervalStyle","intervalCount","intervalUnit","intervalStartDate","intervalEndDate","units","calcIntervalDurationDays","startDate","endDate","onIntervalCountChange","count","toLowerCase","days","intervalCountChange","date","Date","valueOf","getTimezoneOffset","intervalStartDateChange","newIntervalCount","intervalUnitChange","unit","intervalEndDateChange","CURRENT_DOSAGE_CHANGE","NEXT_DOSAGE_CHANGE","ALLOW_SPLITTING_UNSCORED_TABLET","INTERVAL_START_DATE_CHANGE","INTERVAL_END_DATE_CHANGE","INTERVAL_COUNT_CHANGE","INTERVAL_UNIT_CHANGE","chosenDrug","brandOptions","draft","targetDosage","currentDosages","reduce","prev","currentDosage","nextDosages","nextDosage","isCapsuleOrTablet","forEach","chosenBrandOption","chosenDrugIdx","findIndex","splice","entries","flat","floor","forwardRef","props","ref","setDate","useImperativeHandle","getValue","isCancelAfterEnd","afterGuiAttached","tempDate","newDate","clickedRowAndBefore","visible","onCancel","onOk","prescribedDrugs","isModalInputComplete","INIT_MODAL","prevRow","clickedRow","EDIT_PROJECTED_SCHEDULE_FROM_MODAL","okButtonProps","centered","initialPrescribedDrug","prescriptionToDosages","row","prescription","dos","every","applyInSchedule","correspondingDrugData","idx","curDosage","validateCompleteInputs","instructionsForPatient","instructionsForPharmacy","taperConfigs","currentTaperConfigId","patientInstructions","config","pharmacyInstructions","onChangeMessageForPatient","changeMessageForPatient","onChangeInstructionsForPharmacy","changeNoteAndInstructions","instructionsForPatientPlaceholder","onInstructionsForPatientCopied","alert","onInstructionsForPharmacyCopied","CopyToClipboard","text","onCopy","defaultValue","rows","split","string","i","setValue","projectedSchedule","scheduleChartData","ProjectedScheduleTable","ProjectedScheduleChart","CustomizedAxisTick","payload","dy","lineColors","Fluoxetine","Citalopram","Sertraline","Paroxetine","Escitalopram","LineChart","CartesianGrid","strokeDasharray","XAxis","dataKey","tick","tickFormatter","domain","scale","Legend","paddingLeft","YAxis","Tooltip","formatter","labelFormatter","Line","tableSelectedRows","setGridApi","setGridColumnApi","showModal","setShowModal","setClickedRowAndBefore","rowStyle","defaultColumnDef","resizable","suppressMovable","columnDefs","headerName","field","hide","checkboxSelection","params","isPriorDosage","cellStyle","display","justifyContent","alignItems","suppressSizeToFit","sortable","unSortIcon","minWidth","cellEditor","maxWidth","valueFormatter","valueSetter","newValue","flex","rowClassRules","PriorDosage","AgGridReact","rowData","defaultColDef","rowSelection","rowHeight","onRowClicked","event","rowIndexInPrescribedDrug","api","forEachNode","prescribedDrugId","onRowDataChanged","rowIndex","setSelected","onSelectionChanged","selectedNodes","getSelectedNodes","SCHEDULE_ROW_SELECTED","onFirstDataRendered","columnApi","autoSizeColumns","onGridReady","selectedRows","res","selected","frameworkComponents","datePicker","numberEditor","suppressDragLeaveHidesColumns","suppressScrollOnNewData","suppressRowClickSelection","skipHeaderOnAutoSize","ProjectedSchedule","setDosageDifferenceMessage","difference","abs","toFixed","AppComponent","store","ReactDOM","mode","StateInspector","document","querySelector","LOAD_PATIENTS_REQUEST","exact","patientPageHeaderStyle","onClickNewSchedule","onClickAdjustSchedule","renderMedicationSchedule","onChangePatientNotes","CHANGE_PATIENT_NOTES","onClickNotesSaveButton","SAVE_PATIENT_NOTES_REQUEST","notes","patientId","renderChart","chartAreaStyle","renderButton","format","recentVisit","TextArea","pageStyle","useRouteMatch","FETCH_TAPER_CONFIG_REQUEST","clinicianId","EMPTY_TAPER_CONFIG_PAGE","scheduleStyle","url","URLSearchParams","search","shareWithApp","SHARE_WITH_PATIENT_APP_REQUEST","shareWithEmail","SHARE_WITH_PATIENT_EMAIL_REQUEST","replace","buttonsStyle","isInputComplete","ADD_NEW_DRUG_FORM","prescriptionFormStyle","drugsToRender","filter","prevVisit","renderPrescriptionForms","projectedScheduleStyle","MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE","goBack","ADD_OR_UPDATE_TAPER_CONFIG_REQUEST","urlSearchParams","step","setStep","titles","taperConfigRef","get","INIT_NEW_TAPER_CONFIG","scrollTo","CreateTaperConfiguration","EditTaperConfiguration","ConfirmTaperConfiguration","TaperConfigurationPage","GENERATE_SCHEDULE","UPDATE_CHART","EMPTY_PRESCRIBED_DRUGS","ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS","ADD_OR_UPDATE_TAPER_CONFIG_FAILURE","addOrUpdateTaperConfigRequest","FETCH_TAPER_CONFIG_SUCCESS","FETCH_TAPER_CONFIG_FAILURE","FETCH_PRESCRIBED_DRUGS_REQUEST","FETCH_PRESCRIBED_DRUGS_SUCCESS","FETCH_PRESCRIBED_DRUGS_FAILURE","SHARE_WITH_PATIENT_APP_SUCCESS","SHARE_WITH_PATIENT_APP_FAILURE","SHARE_WITH_PATIENT_EMAIL_SUCCESS","SHARE_WITH_PATIENT_EMAIL_FAILURE","TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT","CHANGE_MESSAGE_FOR_PATIENT","CHANGE_NOTE_AND_INSTRUCTIONS","FINAL_PRESCRIPTION_QUANTITY_CHANGE","finalPrescriptionQuantityChange","TABLE_START_DATE_EDITED","TABLE_END_DATE_EDITED","TABLE_DOSAGE_EDITED","OPEN_MODAL","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","ADD_NEW_PATIENT_REQUEST","ADD_NEW_PATIENT_SUCCESS","ADD_NEW_PATIENT_FAILURE","LOAD_PATIENTS_SUCCESS","LOAD_PATIENTS_FAILURE","SAVE_PATIENT_NOTES_SUCCESS","SAVE_PATIENT_NOTES_FAILURE","drugNameBrandPairs","bottles","rootReducer","combineReducers","emptyPrescribedDrug","prescribedAt","taperConfigCreatedAt","lastPrescriptionFormId","prescriptionFormIds","isSaved","finalPrescription","shareProjectedScheduleWithPatient","showInstructionsForPatient","fetchingTaperConfig","fetchedTaperConfig","fetchingTaperConfigError","fetchingPrescribedDrugs","fetchedPrescribedDrugs","fetchingPrescribedDrugsError","addingTaperConfig","addedTaperConfig","addingTaperConfigError","sharingWithPatientApp","sharedWithPatientApp","sharingWithPatientAppError","sharingWithPatientEmail","sharedWithPatientEmail","sharingWithPatientEmailError","pop","isCompleteDrugInput","scheduleGenerator","chartDataConverter","calcFinalPrescription","generateInstructionsFromSchedule","patient","pharmacy","editedRow","unitDosages","calcMinimumQuantityForDosage","converted","convert","generatedTableRows","generateTableRows","intervalOverlapChecked","handleIntervalOverlap","originalRows","newRows","prescribedDrugFromModal","clickedRowIndex","tableRowsEndDatesAligned","alignEndDates","drugNames","concat","sorted","sort","taperConfigIdx","error","loggingIn","loggedIn","logInError","addingPatient","addedPatient","addPatientError","loadingPatients","loadedPatients","loadPatientsError","savingPatientNotes","savedPatientNotes","savingPatientNotesError","email","sally","john","taperingConfiguration","xiao","christian","all","fork","taperConfigId","generateOrClearSchedule","select","taperConfigState","validPrescribedDrugsInputs","completePrescribedDrugs","put","addOrUpdateTaperConfig","existingTaperConfigIndex","createdAt","response","watchAddOrUpdateTaperConfig","takeLatest","fetchTaperConfig","taperConfigIndex","watchFetchTaperConfig","updateChart","moveToPrescribePage","watchTaperConfigFormChange","watchProjectedScheduleTableEdit","logIn","result","addPatient","loadPatients","savePatientNotes","savePatientNotesApi","watchLogIn","watchAddPatient","watchLoadPatients","watchSavePatientNotes","sagaMiddleware","middlewares","enhancer","compose","applyMiddleware","createStore","sagaTask","run","Component","Redirect","to","checkAndRenderLink","link","Link","cond","changeDirection","changeRate","subtractDosageOptionsFromDosage","a","b","quot","availableOptions","putZeros","dosageToAdd","values","qty","dosageQty","checkedIntervalUnit","message","arr","checkedForm","tableRowsByDrug","endDates","lastEndDate","lastEndDateAndIndex","curr","j","startRowIndexInPrescribedDrug","durationInDaysCount","lengthOfProjection","increasingLength","isInteger","log","projectionLengthOfEachDrug","upcomingDosages","prescribedDosage","Array","_","nextTemp","remainder","ceiling","ceil","round","calcProjectedDosages","upcomingDosagesNoRepetition","addedInCurrentVisit","projectionStartDate","newEndDate","newRowData","Drug","Prescription","rowsToReturn","replaceRowsWithModifiedNewOnes","newRowsMinIdx","originalRowsWithSameDrug","restRows","rowsReplacedWithNewOnes","overlappingRows","start","end","earliestOverlappingRowIndex","overlapCheckedRows","overlappingRow","rowsWithEditedDrug","rowsUnchanged","checkIntervalOverlappingRows","rowsAddedInCurrentVisit","rowsFromPreviousVisits","fromCurrent","fromPrev","inclusive","rowIntervalIsAfter","drugsToApplyInSchedule","tableDataSorted","unshift","currentDosageInfo","nextDosageInfo","schedule","rowsGroupByDrug","changeDirections","priorDosageSum","acc","upcomingDosageSum","drugName","drugBrand","chartData","el","timestamp","getTime","getCountRead","num","counts","1","2","3","4","5","6","7","8","9","10","numStr","endsWith","numStrSplit","intCount","decimalCount","drugTitle","messageHeading","rowArr","rowPrescription","messageBeforeThen","str","formCapitalized","charAt","toUpperCase","slice","trim","generateNotesForPatientFromRows","join","generateNotesForPharmacyFromRows","scheduleData","p","obj","dosageInMl","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","n","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","this","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","143","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"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","file":"app.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import * as React from 'react';\nimport {\n  HashRouter as Router, Switch, Route,\n} from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { css } from '@emotion/react';\nimport HomePage from './pages/HomePage';\nimport LoggingConfigurationPage from './pages/LoggingConfigurationPage';\nimport SymptomReportPage from './pages/SymptomReportPage';\nimport { RootState } from './redux/reducers';\nimport { UserState } from './redux/reducers/user';\nimport 'antd/dist/antd.css';\nimport { checkCurrentPatientAndRender } from './utils/pages';\nimport NavBar from './components/NavBar';\nimport Header from './components/Header';\nimport './app.css';\n\nconst mainStyle = css`\n  flex: 1;\n  //padding: 0 35px 34px 35px;\n  padding: 0 15px 20px 15px;\n\n  & > div {\n    background-color: #fafafa;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n    border-radius: 20px;\n    height: 100%;\n    //padding: 31px 45px 21px 45px;\n    padding: 20px 20px 15px 30px;\n  }\n`;\nconst App = () => {\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\n  const dispatch = useDispatch();\n  /*\n  useEffect(() => {\n    // dispatch<LoginRequestAction>({\n    //   type: LOGIN_REQUEST,\n    //   data: { email: 'clinician@gmail.com', password: '1234' },\n    // });\n  }, []);\n   */\n\n  return (\n    <>\n      <Router>\n        <div css={css`\n          height: 100%;\n          //height: auto;\n          display: flex;\n          font-family: Verdana;\n          flex-direction: column;\n          overflow-y: hidden;\n\n          input[type=number]::-webkit-inner-spin-button,\n          input[type=number]::-webkit-outer-spin-button {\n            opacity: 1;\n          }`}>\n          <Header/>\n          <section css={css`\n            display: flex;\n            height: 95%;\n            //padding-top: 2%;\n            padding-top: 1%;\n          `}>\n            <NavBar/>\n            <main css={mainStyle}>\n              <div>\n                <Switch>\n                  <Route path='/logging-configuration'\n                         render={checkCurrentPatientAndRender(currentPatient, LoggingConfigurationPage)}/>\n                  <Route path='/symptom-report'\n                         render={checkCurrentPatientAndRender(currentPatient, SymptomReportPage)}/>\n                  <Route path=\"/\" component={HomePage}/>\n                </Switch>\n              </div>\n            </main>\n          </section>\n        </div>\n      </Router>\n    </>\n  );\n};\n\nexport default App;\n","import * as React from 'react';\n\nexport const PatientsMenuIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\"\n       viewBox=\"0 0 40 40\">\n    <image width=\"40\" height=\"40\"\n           xlinkHref=\"data:image/png;base64,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\"/>\n  </svg>\n\n);\n\nexport const SymptomTemplatesMenuIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\">\n    <defs>\n      <pattern id=\"pattern\" preserveAspectRatio=\"none\" width=\"100%\" height=\"100%\" viewBox=\"0 0 40 40\">\n        <image width=\"40\" height=\"40\" xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAABCklEQVR4nO3bzU1CQRSAUTCaUIe9SKzEBtyyZEsDVmKkF+swYQENGGAxvI+fc9YvNzfvy6wmM5sBAAAAADyC+akPtr+7/RSL3Ku315ej//hpqkX4nwAxAWICxASICRATICZATIDY86hB68+fUaNuwmqzHDLHCYgJEBMgJkBMgJgAMQFiAsQEiLkTvjB3wldOgJgAMQFiAsQEiAkQG3Yj9vH9N2rUUV/vi5vY41xOQEyAmAAxAWICxASICRATICZATICYADEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmQEyAmAAxAWICxASICRDzTvjCvBO+cgLEBIgJEBMgJkBMAAAAAAAAJnAAkGkVij992MQAAAAASUVORK5CYII=\"/>\n      </pattern>\n    </defs>\n    <rect width=\"40\" height=\"40\" rx=\"20\" fill=\"url(#pattern)\" viewBox=\"0 0 40 40\"/>\n  </svg>\n);\n\nexport const HelpIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\"\n       viewBox=\"0 0 40 40\">\n    <image id=\"icons8-help-96\" width=\"40\" height=\"40\"\n           xlinkHref=\"data:image/png;base64,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\"/>\n  </svg>\n\n);\n\nexport const LogOutIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"40\" height=\"40\"\n       viewBox=\"0 0 40 40\">\n    <image width=\"40\" height=\"40\"\n           xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAEEklEQVR4nO2d22sVVxSHf2vmHE5MFTwq+mKrQkIrQQUNglJitUnTxrSogYgvPhixjwX1T+hr8YIFDQb6VHxQbCGeliSVKpaWUEIfvBSON9QXxZyAl1ydWT6YiBcmOpc9a5K9vvez9mJ/Z/bvsM/MHkBRFEVRFMVGKG6B3htjq5icvSB8TozlAD5IoC8JnjLhtuOjz2P/ZHNN4XIag0YWUCpzIZ/zDoH5WwBOgj1lAY9Axysj7v72Oho3OVAkAaUyF/LOs99A2Jx0Q1mCCOcrw7mvTEqI9M3NO97h2T75AMCMLcU53g8mxwh9BfTeGFsFcv7D7Ft2gvBcz1+zpbZwxUTx0JPI5OyN8rkZjOvlnA5TxUNPJDEaTTSSaRhNpkqH/yYTPjLQR9ZZZqpwlKVkbuJdZJ95pgrbtJZnEhUgjAoQRgUIowKEUQHCqABhVIAwKkAYFSCMChBGBQijAoSxRkDp9FV4Pku38RbWCBj4+x5OdQ5gdHhCupXXsEYAANwqD6LryD94eP+pdCsvsUoAAAw9HMFPx/pxqzwo3QoACwUAwOjwBH7uHED/xTvSrdgpAADYZ/T8+r94OFsrYArpcLZeACAbzipgEqlwVgGvIBHOKuAN0g5nFRBAWuGsAqYhjXBWAe9gKpw/a+s2clNy+OcDbk7EWhi/P9AT5+OSeMw4cPGXrUeSLKpXwPvjEuHwph2lE+v2/ZtPqqgKCAvzvrkP7pc+3dpdTKKcCogCodEtoL9he/fKuKVUQFSYagj0V9xwVgHxKLJPvzdsO/dd1AIqQJicdAMznCFyuP3Cmda+qAVUQFSIrzPjmwtnWq/FKaMCosDo88bRfulc61DcUpoBYSHqfLJ4SUsSkw/oFRCGF1sRZ1sS3YpIfS9Iijh7UFXVeYyNjjf9GSNsg9Ar4B0UF83Bzj1rsWvD/MQnH1AB07KidiHadq9GVXVie29voQICWLthKZp3rITrxD7VbVpUwBuQQ2j6+mOsb0jnTBIV8ApV1Xm07V6NFbULUxtTBUwyFbaLlqR76KMKQDphG4T1AtIK2yCsFZB22AZhpQCJsA3COgFSYRuEVQIkwzYIawTUb/wQX2z/BI5Q2AZhjYAv22LfQWIE/UNGGBUgjAoQRgUIowKEUQHCqABhVIAwKkAYFSCMChBGBQijAoSJIuBx4l1kn0emCocXwLhroI+sY+z4lPDvEQN6TTSSZRgw9nh/aAEe+ycBeAZ6ySqe4/pdpoqHFtBcU7hMoOMmmskiDPzYuKxw1VT9SL+CKiPufgB/JNxLFulbUMkdNDlAJAHtdTQ+NJJrAegYZudy5DFwtFjJtdTXk9ETm2LfInC+PFbn5ZyOyRdeLsfMfdXhEwC3GehxXL/L5LKjKIqiKIqiPAelnivtCghPTAAAAABJRU5ErkJggg==\"/>\n  </svg>\n\n);\n\nexport const ScoredTabletIcon = ({ value }: { value: number }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"59\" height=\"58\" viewBox=\"0 0 59 58\">\n    <g transform=\"translate(-426 -49)\">\n      <g>\n        <g transform=\"translate(426 52)\" fill=\"#fff\" stroke=\"#707070\" strokeWidth=\"1\">\n          <circle cx=\"27.5\" cy=\"27.5\" r=\"27.5\" stroke=\"none\"/>\n          <circle cx=\"27.5\" cy=\"27.5\" r=\"27\" fill=\"none\"/>\n        </g>\n      </g>\n      <g transform=\"translate(460 49)\" fill={value > 0 ? '#0984E3' : '#707070'}\n         stroke={value > 0 ? '#0984E3' : '#707070'} strokeWidth=\"1\">\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12.5\" stroke=\"none\"/>\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12\" fill=\"none\"/>\n      </g>\n      <text transform=\"translate(469 67)\" textAnchor=\"middle\" alignmentBaseline=\"middle\" fill=\"#ffffff\" fontSize=\"13\"\n            fontFamily=\"SegoeUI, Segoe UI\">\n        <tspan x=\"3\" y=\"0\">{value}</tspan>\n      </text>\n      <line x2=\"53.385\" transform=\"translate(426.817 79.833)\" fill=\"none\" stroke=\"#707070\" strokeWidth=\"1\"/>\n    </g>\n  </svg>\n);\n\nexport const UnscoredTabletIcon = ({ value }: { value: number }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"58\" height=\"58\" viewBox=\"0 0 58 58\">\n    <g transform=\"translate(-28)\">\n      <g transform=\"translate(28 3)\" fill=\"#fff\" stroke=\"#707070\" strokeWidth=\"1\">\n        <ellipse cx=\"27\" cy=\"27.5\" rx=\"27\" ry=\"27.5\" stroke=\"none\"/>\n        <ellipse cx=\"27\" cy=\"27.5\" rx=\"26.5\" ry=\"27\" fill=\"none\"/>\n      </g>\n      <g transform=\"translate(61)\" fill={value > 0 ? '#0984E3' : '#707070'} stroke={value > 0 ? '#0984E3' : '#707070'}\n         strokeWidth=\"1\">\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12.5\" stroke=\"none\"/>\n        <circle cx=\"12.5\" cy=\"12.5\" r=\"12\" fill=\"none\"/>\n      </g>\n      <text transform=\"translate(70 18)\" textAnchor=\"middle\" alignmentBaseline=\"middle\" fill=\"#ffffff\" fontSize=\"13\" fontFamily=\"SegoeUI, Segoe UI\">\n        <tspan x=\"3\" y=\"0\">{value}</tspan>\n      </text>\n    </g>\n  </svg>\n\n);\n\nexport const CapsuleIcon = ({ value }: { value: number }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"38.505\" height=\"58.088\" viewBox=\"0 0 38.505 58.088\">\n    <g transform=\"translate(-688.495 -657)\">\n      <g transform=\"translate(688.5 661.5)\" fill=\"#fff\" stroke=\"#707070\"\n         strokeLinejoin=\"bevel\" strokeWidth=\"1\">\n        <rect width=\"18.812\" height=\"53.588\" rx=\"9.406\" stroke=\"none\"/>\n        <rect x=\"0.5\" y=\"0.5\" width=\"17.812\" height=\"52.588\" rx=\"8.906\" fill=\"none\"/>\n      </g>\n      <line x2=\"19\" y2=\"0.206\" transform=\"translate(688.5 688.294)\" fill=\"none\"\n            stroke=\"#707070\" strokeWidth=\"1\"/>\n      <path d=\"M12.5,0A12.5,12.5,0,1,1,0,12.5,12.5,12.5,0,0,1,12.5,0Z\" transform=\"translate(702 657)\" fill={value > 0 ? '#0984E3' : '#707070'}/>\n      <text transform=\"translate(714 675)\" fill=\"#ffffff\" fontSize=\"13\" textAnchor=\"middle\" alignmentBaseline=\"middle\"\n            fontFamily=\"SegoeUI, Segoe UI\">\n        <tspan x=\"0\" y=\"0\">{value}</tspan>\n      </text>\n    </g>\n  </svg>\n);\n\nexport const ArrowUp = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"14\" viewBox=\"0 0 15 14\">\n    <path d=\"M5.737,3.291a2,2,0,0,1,3.526,0l4.16,7.765A2,2,0,0,1,11.66,14H3.34a2,2,0,0,1-1.763-2.944Z\" fill=\"#707070\"/>\n  </svg>\n);\n\nexport const ArrowDown = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"14\" viewBox=\"0 0 15 14\">\n    <path d=\"M5.737,3.291a2,2,0,0,1,3.526,0l4.16,7.765A2,2,0,0,1,11.66,14H3.34a2,2,0,0,1-1.763-2.944Z\"\n          transform=\"translate(15 14) rotate(180)\" fill=\"#707070\"/>\n  </svg>\n\n);\n\nexport const CopyToClipboardIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\">\n    <image id=\"copy_icon\" data-name=\"copy icon\" width=\"25\" height=\"25\" xlinkHref=\"data:image/png;base64,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\"/>\n  </svg>\n\n);\n\nexport const ShareWithAppIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"42\" height=\"42\"\n       viewBox=\"0 0 42 42\">\n    <g fill=\"#fff\" stroke=\"#000\" strokeWidth=\"2\">\n      <circle cx=\"21\" cy=\"21\" r=\"21\" stroke=\"none\"/>\n      <circle cx=\"21\" cy=\"21\" r=\"20\" fill=\"none\"/>\n    </g>\n    <image width=\"25\" height=\"25\" transform=\"translate(9 9)\"\n           xlinkHref=\"data:image/png;base64,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\"/>\n  </svg>\n);\n\nexport const ShareWithEmailIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"42\" height=\"42\"\n       viewBox=\"0 0 42 42\">\n    <g fill=\"#fff\" stroke=\"#000\" strokeWidth=\"2\">\n      <circle cx=\"21\" cy=\"21\" r=\"21\" stroke=\"none\"/>\n      <circle cx=\"21\" cy=\"21\" r=\"20\" fill=\"none\"/>\n    </g>\n    <image width=\"22\" height=\"22\" transform=\"translate(10 10)\"\n           xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d178N5nWefx95WWVFut0djZUlhKXScCu3VLwWpXsK4FZ+JsTUqyPexWM1KEGVO3RS2hdpdqrehgpdVdy2DJbhZraoiEpM4KjOg4HNWWdhlZEGEqVCjVDqVKmWJLe+0f3zv1l19z+B2e+/ke7vdr5jcdSPJcN4fnuj+5rucQmYkkSWrLmr4PIEmS5s8AIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoMMAJIkNcgAIElSgwwAkiQ1yAAgSVKDDACSJDXIACBJUoOOn/UDRsQJwAbgtPLzzPLP9UDMup4kSROSwJeA+4Evln/eD/x1Zv7TLAtFZq7+QSLWAT8CbAY2At+06geVJEkHPQK8G9gP/GFmPrzaB1xVAIiIjcBrgR8EnrHaw0iSpGN6HPhT4KbMfPdKH2RFASAiXgS8CfihlRaWJEmr9ifA6zLzo8v9g8sKABFxOvArwCW4z5ckaQgS+D3gmsz83FL/0JIDQES8HNgDfOuKjidJkmr6MnBxZv7RUn7zkt4GGBFX0r34wMtfkqRh+lbg3eXOPqajTgAiYi1wC3D5bM4mSZLmYCfwU5n52JF+w7ECwB7gogoHkyRJdb0jMy8+0i8ecQUQEf8NL39JksbqonKXH9ZhJwAR8Qrg9/GV/pIkjVkCWzNz3+JfeFoAiIh/C3wIOGk+Z5MkSRV9Ffj+zPzYwn/zkAAQEQHcBZw937NJkqSK7gZenAsu/cWvAbgUL39JkqbmbLo7/ilPTQDKW/4+BTx37seSJEm1fRb4roNvDVw4AdiOl78kSVP1XLq7HigTgPK3//uB9X2dSpIkVfcl4LTMfOzgBODf4+UvSdLUrae7859aAWzu7yySJGmONkP3QT8BfB44rdfjSJKkebgfePbxwDkM6/K/A/hJ4B/7PogkSTOwDvifwMa+D1KcBpxzPHB+3ydZ5EeBFwAXZeY9fR9GkqSViojvAd7B8N5ld/4a4Nl9n+IwvhP4SET8VN8HkSRpJSLiSuCDDO/yB3j2GoY1/l/oBOC3ImJPRJzc92EkSVqKiFgXEe8CbgbW9n2eIzhtyAHgoIuAj0bEC/s+iCRJR1NG/vcw/HfXnbYGeGbfp1gCVwKSpEEb+Mh/sWcG8DhwfN8nWYZ3AD+Zmb5LQJLUu4hYB/wvhv+3/oW+HkAe87cNz2fwXQKSpJ4N+FX+x7T464DHwpWAJKlXIxv5P81YJwALuRKQJM3NSEf+TzOFAACuBCRJczDmkf9iY10BLOZKQJJU1dhH/ovNegLw/4BvBp4zw8dcrr3Aq1wJSJJmYSAj//uArwD/elYPOOsJwGeAFwJ/MOPHXY7/iB8cJEmagYF8sM8f0N2tn5nlg858BZCZDwGbgJ+j+4yBPrgSkCStygBG/o/T3aWbyt06U1VeA5CdXwd+gG5s0YeD3yXwDr9LQJK0VAP5LP/7gB/IzF/PzCov1q/6IsDM/DNcCUiSRmJII/9yh1ZT/V0ArgQkSWMw9ZH/YnN5G6ArAUnSULUy8l9srp8DMKCVwN2uBCRJLY38F5v7BwENZCXwr3AlIElNa23kv1gvnwToSkCS1JdWR/6L9fpRwANbCZzd4xkkSXPQ8sh/sd6/CyAzH8rMH6X/lcCHXQlI0nQNZeSfmT/ax8h/sd4DwEGuBCRJNQxt5N9T/acZTAAAVwKSpNly5H9kgwoA4EpAkjQbjvyPbnAB4CBXApKklXDkvzSDDQDgSkCStDyO/Jdu0AEAXAlIkpbGkf/yDD4AHORKQJJ0OGXkvw9H/ssymgAArgQkSYdaMPK/sMdjjGLkv9ioAgC4EpAkdRz5r87oAsBBrgQkqU2O/GdjtAEAXAlIUmsc+c/OqAMAuBKQpFY48p+t0QeAg1wJSNI0OfKvYzIBAJ5aCZyFKwFJmoQBjfzPGvvIf7FJBQCAzPzygFYC23uqL0mjN7CR/5d7OkM1kwsABw1kJfA/XAlI0vI48p+PyQYAOGQlcEePx3AlIElLNJCR/x1McOS/2KQDADy1EtgE/CyuBCRpsAYy8v/ZzNw0xZH/YpMPAAdl5pvpVgKf6+kIrgQk6TAGMvL/HN3I/8091Z+7ZgIAHPLBQa4EJGkABjTyH/0H+yxXUwEAXAlI0lA48u9XcwHgIFcCktQPR/7D0GwAAFcCkjRvZeR/N478e9d0AABXApI0LwtG/mf0dISmR/6LNR8ADipjoJfiSkCSZmpAI/+XtjzyX8wAsEBm/jmuBCRpZgY28v/zHs8wOAaARVwJSNJsOPIfNgPAEQxoJbDXlYCkMXHkPw4GgKMYyEpgK64EJI2EI//xMAAcgysBSVoaR/7jYgBYIlcCknR4jvzHyQCwDK4EJOlQjvzHywCwTK4EJKnjyH/cDAAr5EpAUqsc+U+DAWAVXAlIao0j/+kwAKySKwFJrXDkPy0GgBlxJSBpqhz5T5MBYIZcCUiaGkf+02UAmDFXApKmwpH/tBkAKnElIGmsHPm3wQBQkSsBSWPjyL8dBoDKFqwEfgZXApIGbCAj/59x5D8fBoA5ycybcCUgaYAGNvK/qaf6zTEAzJErAUlD48i/XQaAOXMlIGkoHPm3zQDQE1cCkvriyF9gAOjVgpXAgR6P4UpAashARv4HcOTfOwNAz8pKYDOuBCRVNqCR/2ZH/v0zAAzEwFYC39LTGSRV4Mhfh2MAGJABrQQ+6kpAmgZH/joSA8DAuBKQNCuO/HU0BoCBciUgaaUc+WspDAADNrCVwIt6PIOkJXLkr6UyAAzcgFYCH4qIK3qqL2kJIuK/4MhfS2QAGImBrAT+uysBaXgWjPx/A0f+WiIDwIi4EpC0mCN/rZQBYGRcCUg6yJG/VsMAMFKuBKR2OfLXLBgARmxAK4G7XQlI8+HIX7NiABi5gawEvoPug4NcCUgVOfLXLBkAJqKM4V5CfyuBtbgSkKoY0Mj/JY78p8MAMCGZ+Re4EpAmZWAj/7/o8QyaMQPAxLgSkKbDkb9qMgBM1IKVwGd7OoIrAWmFBjLy/yyO/CfNADBhZVx3Nq4EpNEY0Mj/bEf+02YAmLgFK4HX4kpAGrSBjPxf68i/DQaARmTmzbgSkAZpYCP/m3uqrzkzADTElYA0PI781RcDQGNcCUjD4chffTIANGpAK4HfdyWg1jjy1xAYABo2kA8O2oIrATVkQCN/P9incQaAxmXmw64EpPkY2Mj/4Z7OoIEwAAhwJSDV5MhfQ2QA0FMWrAT293gMVwKalIGM/PfjyF+LGAB0iLISuBBXAtKqDWjkf6Ejfy1mANBhuRKQVs6Rv8bAAKAjciUgLZ8jf42FAUBH5UpAWjpH/hoTA4CWxJWAdGSO/DVGBgAtmSsB6eki4sU48tcIGQC0LK4EpH9WRv4fwpG/RsgAoBVxJaCWOfLXFBgAtGKuBNQiR/6aCgOAVsWVgFriyF9TYgDQTLgS0JQ58tcUGQA0M64ENEWO/DVVBgDNlCsBTYkjf02ZAUBVuBLQmDnyVwsMAKrGlYDGyJG/WmEAUFULVgJXAY/1dAxXAlqSAYz8HwOucuSveTAAaC4y8zdwJaCBKiP/dzKMkf9v9FRfjTEAaG4y805cCWhgFoz8X9HjMQ6O/O/s8QxqjAFAczWwlcBP91RfA+HIXy0zAKgXA1kJ/KYrgTY58pcMAOqRKwH1wZG/1DEAqFeuBDRPjvylf2YA0CC4ElBNjvylpzMAaDBcCagGR/7S4RkANCiuBDRLjvylIzMAaJBcCWg1HPlLx2YA0GAtWAm8q8djuBIYmYGM/N+FI38NnAFAg1ZWAq/AlYCWYEAj/1c48tfQGQA0Cq4EdDQR8S2O/KXlMQBoNAa2Enhxj2fQAuV/i3tw5C8tiwFAozKglcCHXAn0z5G/tHIGAI3SgpXA3/R0BFcCPRrIyP9vcOSvETMAaLTKuPVsXAk0ZUAj/7Md+WvMDAAaNVcCbXHkL82OAUCT4Epg2hz5S7NnANBkuBKYJkf+Uh0GAE2KK4FpceQv1WMA0CQNaCXwTlcCy+fIX6rPAKDJGshK4BW4ElgWR/7SfBgANGmuBMbFkb80PwYANcGVwLA58pfmzwCgZrgSGCZH/lI/DABqyoKVwJW4EujdQEb+VzryV4sMAGpSZv4mrgR6M7CR/2/2VF/qlQFAzXIl0A9H/tIwGADUNFcC8+XIXxoOA4CEK4HaHPlLw2MAkIoBrQTumdJKwJG/NEwGAGmBgawEzmAiKwFH/tJwGQB0VBHxnIh4fkR8e0Q08/+XMib+flwJrMiARv7f39LIPyLWlOfq8yPiOX2fR8PWTEPX0kXEiyLilyLiY8DngE8ADwKPRcS9EfFTEfGMfk9ZX2behSuBZRvYyP+uHs8wFxHxjPKcvJdu4vEg3XP2cxHxsfJcflG/p9QQGQD0lPK3h18F7gL+K/Ddi37LcXSj3N8CPhUR2yIi5nzMuXIlsDyO/OcnOtuAT9E9J8+ge44u9N10z+W7IuJXW5ri6dj8P4MAiIhvBvYDO5b4R84AdgE31DrTkLgSODpH/r24ge45uNSwtQPYX57rkgFAEBHr6P7WdsEK/vjPR8SlMz7SILkSODxH/vNXnnM/v4I/egHdNGndjI+kETIANK6MBHcDZ67iYXYO6UKqyZXAoRz5z195ru1cxUOcCex2HSD/D6A3AhtX+RjfCFw3g7OMxsBWAt8+7+LlleaO/PtxHd1zbjU20j331TADQMMi4hKWvvM/lpdFxIkzeqxRGNBK4FMR8ap5vCCzvPDsVXQvPHPkP2flOfayGT3cjtID1CgDQKMi4ixWN0Zc7BuAl8/w8UZhICuBbwNuBT4YET9cY7Rb3iHyw8AHS61vm3WNJWpu5L/Iy+mea7Oys/QCNcgA0KCIOIXuFf+z/hv7+TN+vNEYwEoA4N8B7wX+JiJ+MSJWvZePiDMi4hfp/nO9t9ToS6sj/4Vm/Rw7ke6dAafM+HE1Asf3fQDNV0QcD+wFTq/w8P9U4TFHIzPvioiz6SYrfY7HnwO8AXhDRHwW+Ej5+XPgb4EvZeYh04qIWAusB/4l8L3AueXnuXM79dHtAy5v9G/9C9V4jp0O7I2Il2Xm1ys8vgbKANCem4HzKj3231d63NEoF9SW8ur4X6O/F8gd9Nzyc8hbNSPiq8CXyr9cD5w011Mt3WPA1Y3/rX+hWs+x8+h6wxWVHl8D5AqgIRFxObC9YokHKz72qAxkJXA0J9FNCp7DcC9/R/5PV/M5tr30CDXCANCIiDgXuKVymXsqP/6olFeov5BufK3l2Qe8sLVX+S9B7efYLaVXqAEGgAZExLPoGmrNcfQ7M/NjFR9/lDLzHzJzC/2+S2BMDr7Kf0tm/kPfhxma8hx7Z8USa4F9pWdo4gwAExcRJ9Bd/qdWLPMk3YvOdAQjWAkMgSP/pXkD3XOullPpQsAJFWtoAAwA0/dW4JzKNd6emZ+oXGP0XAkclSP/JSrPtbdXLnMOXe/QhBkAJiwirgK2VS7zSbrxtpbAlcDTOPJfmSvpnns1bSs9RBNlAJioiDgfuLFymYeBTZn5j5XrTI4rAcCR/4qV59wmuudgTTeWXqIJMgBMUPkEuD3AcRXLPAlcmpmfrlhj0hpfCTjyX6Xy3LuUuq8HOA7YM4tPldTwGAAmJiJOAg7QfbhLTddk5nsq15i8BlcCjvxnqDwHr6lcZj1woPQWTYgBYELKt8Htovu+75p+LzPfVLlGUxpZCTjyr6A8F3+vcpkzgV3z+MZJzY8BYFquBbZWrnEP8MrKNZq0YCWwC8h+TzNzu3DkX9Mrqf8hQVvpeowmwgAwERFxAXB95TIPApsz89HKdZpVVgI/QffZ7B/v+zwz8AngvMz8CUf+9ZTn5Gbqfxz39aXXaAIMABMQEc8DbgNqjuceB7Zm5n0Va6jIzA/QTQOuBr7a83FW4lHg54GzMvP9fR+mBeW5uZXuuVpLALeVnqORMwCMXESso3vR38mVS11lI5+vzPx6Zt4IPJ9xvVPg/wAvyMxfycyal5EWKc/R2u/dP5nuRYHrKtdRZQaAEYuINcBuYEPlUm/LzNpfJKQjyMy/Le8UeCnwu9T5TvjVegzYC7wsM/9DZn625/M0qzxX31a5zAZgd+lBGin/xxu3NwIbK9f4MHW/QlhLlJkfzMzLgNOA11L/k+CW4q+AnwOenZkXZeYf930gAd1z9sOVa2yk60EaKQPASEXEJcCOymW+AGzJzBbenz4amflQZt6cmS8AfoDu9R9fnuMRHgL+N/DSzHx+Zv56ZtZ+8ZmWoTxnt9A9h2vaUXqRRuj4vg+g5YuIs4Cdlct8DbgwMx+oXEerUF4s+IHy/uwNwLnA95Wff8PqPw3yCbp3I3wE+DPgI5n516t8TM1BZj4QERcC7we+oWKpnRHxV5n5fyvWUAUGgJGJiFOA/cCJlUu9JjPvrFxDM5KZCXyq/OwCiIhvAl4MfAfwbUf4ge5v9If7uRe4MzPH+C4EAZl5Z0S8hm5iU8uJwP6I+B4nQeNiABiRiDie7oVWp1cudXNm1v66UVWWmY8Af1p+1KjMfHtEvJC67w44HdgbES/LzK9XrKMZ8jUA43Iz3QfE1PTHdC/qkjQdP0f33K7pPLoepZEwAIxERFxO/Vfj3wtclJlPVK4jaY7Kc/oiuud4TdtLr9IIGABGICLOBWq/D/+rdB/z+1DlOpJ6UJ7bm6n/yZK3lJ6lgTMADFxEPIvuU+DWViyTwLbM/MuKNST1rDzHt1H3y6bWAvtK79KAGQAGLCJOoLv8T61c6obMfGflGpIGoDzXb6hc5lS6EHBC5TpaBQPAsL0VOKdyjTuA6yrXkDQs19E992s6h66HaaAMAAMVEVfRjepq+iRwWXkPuaRGlOf8ZdT/OOltpZdpgAwAAxQR5wM3Vi7zMLApM79SuY6kASrP/U10vaCmG0tP08AYAAYmIs4A9rD6j3A9mieBSzPz0xVrSBq40gMupesJtRwH7Cm9TQNiABiQiDgJOACsr1zqmsx8T+Uakkag9IJrKpdZDxwoPU4DYQAYiPJlLruAMyuXuj0z31S5hqQRKT3h9splzgR2lV6nATAADMe1wNbKNe4B/JQuSYdzOV2PqGkrXa/TABgABiAiLgCur1zmQbpP+nu0ch1JI1R6w2a6XlHT9aXnqWcGgJ5FxPOA24CaY7HHga2ZeV/FGpJGrvSIrXQ9o5YAbiu9Tz0yAPQoItbRvejv5MqlrsrM91euIWkCSq+o/d79k+leFLiuch0dhQGgJxGxBtgNbKhc6m2ZWfuLhCRNSOkZb6tcZgOwu/RC9cD/4vvzRmBj5Rofpv5XCEuapu10PaSmjXS9UD0wAPQgIi4BdlQu8wVgS2Y+VrmOpAkqvWMLXS+paUfpiZozA8CcRcRZwM7KZb4GXJiZD1SuI2nCSg+5kK6n1LSz9EbNkQFgjiLiFGA/cGLlUq/JzDsr15DUgNJLXlO5zInA/tIjNScGgDmJiOOBvcDplUvdlJlvr1xDUkNKT7mpcpnTgb2lV2oODADzczNwXuUa7wOurlxDUpuupusxNZ1H1ys1BwaAOYiIy6n/avx7gYsz84nKdSQ1qPSWi+l6TU3bS89UZQaAyiLiXKD2+/AfofuY34cq15HUsNJjNtP1nJpuKb1TFRkAKoqIZwH7gLUVyySwLTP/smINSQKg9JptdL2nlrXAvtJDVYkBoJKIOIHu8j+1cqkbMnNf5RqS9JTSc26oXOZUuhBwQuU6zTIA1PNW4JzKNe4ArqtcQ5IO5zq6HlTTOXS9VBUYACqIiKvoRmQ1fRK4LDNrjuEk6bBK77mMrhfVtK30VM2YAWDGIuJ84MbKZR4GNmXmVyrXkaQjKj1oE11PqunG0ls1QwaAGYqIM4A9wHEVyzwJXJqZn65YQ5KWpPSiS+l6Uy3HAXtKj9WMGABmJCJOAg4A6yuXuiYz31O5hiQtWelJ11Qusx44UHqtZsAAMAMREcAu4MzKpW7PzDdVriFJy1Z60+2Vy5wJ7Co9V6tkAJiNa4GtlWvcA/jpWJKG7HK6XlXTVrqeq1UyAKxSRFwAXF+5zIN0n/T3aOU6krRipUdtputZNV1feq9WwQCwChHxPOA2oOY46nFga2beV7GGJM1E6VVb6XpXLQHcVnqwVsgAsEIRsY7uRX8nVy51VWa+v3INSZqZ0rNqv3f/ZLoXBa6rXGeyDAArEBFrgN3Ahsqlbs3M2l8kJEkzV3rXrZXLbAB2l56sZfK/tJV5I7Cxco0PA1dUriFJNV1B18tq2kjXk7VMBoBliohLgB2Vy3wB2JKZj1WuI0nVlB62ha6n1bSj9GYtgwFgGSLiLGBn5TJfAy7MzAcq15Gk6kovu5Cut9W0s/RoLZEBYIki4hRgP3Bi5VKvycw7K9eQpLkpPe01lcucCOwvvVpLYABYgog4HtgLnF651E2Z+fbKNSRp7kpvu6lymdOBvaVn6xgMAEtzM3Be5RrvA66uXEOS+nQ1Xa+r6Ty6nq1jMAAcQ0RcDmyvXOZe4OLMfKJyHUnqTelxF9P1vJq2l96tozAAHEVEnAvUfh/+I8CmzHyoch1J6l3pdZvoel9Nt5QeriMwABxBRDwL2AesrVgmgW2Z+fGKNSRpUErP20bXA2tZC+wrvVyHYQA4jIg4ge7yP7VyqRsyc1/lGpI0OKX33VC5zKl0IeCEynVGyQBweG8Fzqlc4w7guso1JGnIrqPrhTWdQ9fTtYgBYJGIuIpuNFXTJ4HLMrPm+EuSBq30wMvoemJN20pv1wIGgAUi4nzgxsplHqZ70d9XKteRpMErvXATXW+s6cbS41UYAIqIOAPYAxxXscyTwKWZ+emKNSRpVEpPvJSuR9ZyHLCn9HphAAAgIk4CDgDrK5e6JjPfU7mGJI1O6Y3XVC6zHjhQen7zmg8AERHALuDMyqVuz8w3Va4hSaNVeuTtlcucCewqvb9pzQcA4Fpga+UadwN+KpUkHdvldD2zpq10vb9pTQeAiLgAuL5ymQfpvt730cp1JGn0Sq+8kK531nR9uQOa1WwAiIjnAbcBNcdAjwNbM/O+ijUkaVJKz9xK10NrCeC2chc0qckAEBHr6F70d3LlUldm5vsr15CkySm988rKZU6me1Hgusp1Bqm5ABARa4DdwIbKpW7NzLdUriFJk1V66K2Vy2wAdpe7oSnN/QcG3ghsrFzjw8AVlWtIUguuoOupNW2kuxua0lQAiIhLgB2Vy3wB2JKZj1WuI0mTV3rpFrreWtOOckc0o5kAEBFnATsrl/ka3Sv+H6hcR5KaUXrqhXQ9tqad5a5oQhMBICJOAfYDJ1Yu9erMvLNyDUlqTumtr65c5kRgf7kzJm/yASAijgf2AqdXLnVTZv5O5RqS1KzSY2+qXOZ0YG+5OyZt8gEAuBk4r3KN9wFXV64hSep67fsq1ziP7u6YtEkHgIi4HNheucy9wMWZ+UTlOpLUvNJrL6brvTVtL3fIZE02AETEucAtlcs8AmzKzIcq15EkFaXnbqLrwTXdUu6SSZpkAIiIZwH7gLUVyySwLTM/XrGGJOkwSu/dRteLa1kL7Ct3yuRMLgBExAl0l/+plUvdkJn7KteQJB1B6cE3VC5zKl0IOKFynbmbXAAA3gqcU7nGHcB1lWtIko7tOrqeXNM5dHfLpEwqAETEVXQjoZo+AVyWmTXHTpKkJSi9+DK63lzTtnLHTMZkAkBEnA/cWLnMw8DmzPxK5TqSpCUqPXkzXY+u6cZy10zCJAJARJwB7AGOq1jmSeDSzPx0xRqSpBUovflSul5dy3HAnnLnjN7oA0BEnAQcANZXLvX6zHxP5RqSpBUqPfr1lcusBw6Uu2fURh0AIiKAXcCZlUvdnpm/VrmGJGmVSq++vXKZM4Fd5Q4arVEHAOBaYGvlGncDk/40KEmamMvpendNW+nuoNEabQCIiAuA6yuXeZDu630frVxHkjQjpWdfSNfDa7q+3EWjNMoAEBHPA24Dao5fHge2ZuZ9FWtIkioovXsrXS+vJYDbyp00OqMLABGxju5FfydXLnVlZr6/cg1JUiWlh19ZuczJdC8KXFe5zsyNKgBExBpgN7ChcqlbM/MtlWtIkiorvfzWymU2ALvLHTUaozos8EZgY+UaHwKuqFxDkjQ/V9D19po20t1RozGaABARlwA7Kpf5ArAlMx+rXEeSNCelp28BPl+51I5yV43CKAJARJwF7Kxc5mt0r/j/u8p1JElzVnr7K+h6fU07y501eIMPABFxCrAfOLFyqVdn5p2Va0iSelJ6/KsrlzkR2F/urkEbdACIiOOBvcDplUvdlJm/U7mGJKlnpdffVLnM6cDecocN1qADAHAzcF7lGu8Drq5cQ5I0HFfT9f6azqO7wwZrsAEgIi4Htlcucy9wcWY+UbmOJGkgSs+/mO4OqGl7ucsGaZABICLOBW6pXOYRXL9e/QAACDJJREFUYFNmPlS5jiRpYErv30R3F9R0S7nTBmdwASAingXsA9ZWLJPAtsz8eMUakqQBK3fANro7oZa1wL5ytw3KoAJARJxAd/mfWrnUL2Xmvso1JEkDV+6CX6pc5lS6EHBC5TrLMqgAALwVOKdyjQPAL1SuIUkaj1+guxtqOofujhuMwQSAiLiKbhRT0yeAH8vMmuMeSdKIlDvhx+juiJq2lbtuEAYRACLifODGymUepnvR31cq15EkjUy5GzbR3RU13VjuvN71HgAi4gxgD3BcxTJPApdk5mcq1pAkjVi5Iy6huzNqOQ7YU+6+XvUaACLiJLq9y/rKpV6fme+tXEOSNHLlrnh95TLrgQPlDuxNbwEgIgLYBZxZudTuzPy1yjUkSRNR7ozdlcucCewqd2Ev+pwAXAtsrVzjbuBVlWtIkqbnVXR3SE1b6e7CXvQSACLiAuD6ymX+nu7rfR+tXEeSNDHl7riQ7i6p6fpyJ87d3ANARDwPuA2oOfZ4HNiamfdVrCFJmrByh2ylu1NqCeC2cjfO1VwDQESso3vR38mVS12ZmR+oXEOSNHHlLrmycpmT6V4UuK5ynUPMLQBExBq6F1VsqFzq1sx8S+UakqRGlDvl1splNgC7y105F/OcALwR2Fi5xoeAKyrXkCS15wq6O6amjXR35VzMJQBExCXAjsplPg9syczHKteRJDWm3C1b6O6amnaUO7O66gEgIs4CdlYu8zW6V/z/XeU6kqRGlTvmQro7p6ad5e6sqmoAiIhTgP3AiTXrAK/OzLsq15AkNa7cNa+uXOZEYH+5Q6upFgAi4nhgL3B6rRrFmzPzdyrXkCQJgHLnvLlymdOBveUuraLmBOBm4LyKjw/wPuB1lWtIkrTY6+juoJrOo7tLq6gSACLicmB7jcde4F7g4sx8onIdSZIOUe6ei+nuopq2lzt15mYeACLiXOCWWT/uIo8AmzLzocp1JEk6rHIHbaK7k2q6pdytMzXrAPBMYB+wdsaPu1AC2zLz4xVrSJJ0TOUu2kZ3N9Wylu5ufeYsHzSoe+gars/M6/o+hCRJB0XELwJv6PscyzG2AHCA7v3+YzqzJGniIiKAd9GtBEZhTAHgE8D3ZeZX+j6IJEmLRcQ3A38GvKDvsyzFWALAw8D3ZOZn+j6IJElHEhHfCdwJzPWb/VZirl8HvEJPApd4+UuShq7cVZfQ3V2DNoYA8PrMfG/fh5AkaSnKnfX6vs9xLENfAezOzP/c9yEkSVquiPhd4D/1fY4jCeBxoNpnDa/C3cBLMvPRvg8iSdJyRcQ3Ah8Ezu77LIfx9TXAA32f4jD+Htjs5S9JGqtyh22mu9OG5oE1wBf7PsUijwNbM/Nv+z6IJEmrUe6yrXR325B8cQ1wf9+nWOTKzPxA34eQJGkWyp12Zd/nWOT+oQWA387Mt/R9CEmSZqncbb/d9zkWuH8N8Pm+T1F8CPjpvg8hSVIlP0131w3B5wP4XrqPLuz1IMBLgL/r+RySJNX0L+jeGfDsns/xfUH3VsDPA6f1fBhJklTf/cCz15Rv1ruj79NIkqS5uCMz8+BHAe/v9SiSJGle9gNEZhIRa+lGAuv7PZMkSaroS8BpmfnYGoDMfAz45X7PJEmSKvvlcud3EwDg4BTgU8Bz+zuXJEmq5LPAdx0MAE99HXD5N67t6VCSJKmuaw9e/rBgAgAQEQHcxTC/uUiSJK3M3cCLc8Glv2bhr5ZfeCXw1TkfTJIk1fFV4JULL39YFAAAMvNjwI8DufjXJEnSqCTw4+VuP8TTAgBAZu4Drqt9KkmSVNV15U5/mlg0ETj0FyP2ABfVOpUkSarmHZl58ZF+8bATgAV+DNg52/NIkqTKdtLd4Ud01ACQmY9l5quAq4AnZngwSZI0e08AV2Xmqxa+5e9wjroCOOQ3Rrwc2AN86+rPJ0mSZuzLwMWZ+UdL+c3HWgE8pTzgC4Hb8R0CkiQNRdLdzS9c6uUPy5gAHPKHIl4EvAn4oWX/YUmSNCt/ArwuMz+63D+4ogDw1B+O2Ai8FvhB4BkrfiBJkrRUjwN/CtyUme9e6YOsKgA89SAR64AfATYDG4FvWvWDSpKkgx4B3g3sB/4wMx9e7QPOJAAc8oARJwAbgNPKzzPLP9cDMdNikiRNSwJfAu4Hvlj+eT/w15n5T7MsNPMAIEmShm/J7wKQJEnTYQCQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQQYASZIaZACQJKlBBgBJkhpkAJAkqUEGAEmSGmQAkCSpQf8fDeyInQgocFYAAAAASUVORK5CYII=\"/>\n  </svg>\n);\n\nexport const ShareWithPdfIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" width=\"42\" height=\"42\" viewBox=\"0 0 42 42\">\n    <defs>\n      <pattern id=\"pdf_pattern\" preserveAspectRatio=\"none\" width=\"100%\" height=\"100%\" viewBox=\"0 0 512 512\">\n        <image width=\"512\" height=\"512\" xlinkHref=\"data:image/png;base64,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\"/>\n      </pattern>\n    </defs>\n    <g id=\"mail_circle\" data-name=\"mail circle\" fill=\"none\">\n      <path d=\"M21,0A21,21,0,1,1,0,21,21,21,0,0,1,21,0Z\" stroke=\"none\"/>\n      <path d=\"M 21 2 C 15.92491912841797 2 11.15360069274902 3.976341247558594 7.564968109130859 7.564968109130859 C 3.976341247558594 11.15360069274902 2 15.92491912841797 2 21 C 2 26.07508087158203 3.976341247558594 30.84640121459961 7.564968109130859 34.43502807617188 C 11.15360069274902 38.02365875244141 15.92491912841797 40 21 40 C 26.07508087158203 40 30.84640121459961 38.02365875244141 34.43502807617188 34.43502807617188 C 38.02365875244141 30.84640121459961 40 26.07508087158203 40 21 C 40 15.92491912841797 38.02365875244141 11.15360069274902 34.43502807617188 7.564968109130859 C 30.84640121459961 3.976341247558594 26.07508087158203 2 21 2 M 21 0 C 32.59798049926758 0 42 9.402019500732422 42 21 C 42 32.59798049926758 32.59798049926758 42 21 42 C 9.402019500732422 42 0 32.59798049926758 0 21 C 0 9.402019500732422 9.402019500732422 0 21 0 Z\" stroke=\"none\" fill=\"#000\"/>\n    </g>\n    <rect id=\"document\" width=\"26\" height=\"26\" rx=\"5\" transform=\"translate(8 8)\" fill=\"url(#pdf_pattern)\"/>\n  </svg>\n);\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { css } from '@emotion/react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { UserState } from '../redux/reducers/user';\nimport { RootState } from '../redux/reducers';\n\nconst StyledHeader = styled.header`\n  display: flex;\n  //border: 1px solid blue;\n  //height: 8%;\n  height: 5%;\n  align-items: center;\n  width: 100%;\n`;\n\nconst Logo = styled.div`\n  //flex-basis: 16%;\n  //width: 16%;\n  //flex: 0 0 200px;\n  cursor: pointer;\n  flex: 0 1 16%;\n  text-align: center;\n  font-size: 3rem;\n  font-family: 'Jomhuria';\n  //font-weight: bold;\n  margin-top: 20px;\n  color: #0984E3;\n\n`;\n\nconst DisplayUser = styled.div`\n  background-color: #0984E3;\n  border-bottom-left-radius: 17px;\n  text-align: right;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex: 1;\n  color: white;\n  font-size: 1rem;\n`;\n\nconst Header = () => {\n  const { me } = useSelector<RootState, UserState>((state) => state.user);\n  const history = useHistory();\n  const onClickLogo = () => {\n    history.push('/');\n  };\n  return (\n    <>\n      <StyledHeader>\n        <Logo onClick={onClickLogo}>AT Planner</Logo>\n        <DisplayUser>\n          <span css={css`margin-right: 86px`}>Hello, Dr. {me?.name}</span>\n        </DisplayUser>\n      </StyledHeader></>\n  );\n};\n\nexport default Header;\n","import * as React from 'react';\nimport { css } from '@emotion/react';\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport {\n  HelpIcon, LogOutIcon, PatientsMenuIcon, SymptomTemplatesMenuIcon,\n} from '../assets/icons';\n\nconst NavBarStyle = css`\n  background-color: #0984E3;\n  border-top-right-radius: 17px;\n  //font-size: 24px;\n  font-size: 1rem;\n  color: white;\n  height: 100%;\n  //width: 16%;\n  //flex: 0 0 200px;\n  flex: 0 0 16%;\n  padding-top: 3%;\n`;\n\nconst helpAndLogoutStyle = css`\n  padding-left: 29px;\n  display: flex;\n  flex-direction: column;\n  margin: auto 0 19px 0;\n\n  & > div {\n    display: flex;\n    padding-bottom: 20px;\n    align-items: center;\n  }\n\n  & > div > div {\n    margin-left: 14px;\n  }`;\n\nconst NavBar = () => {\n  const location = useLocation();\n  const [currentMenu, setCurrentMenu] = useState<'schedule' | 'symptomTracker' | 'report'>('schedule');\n\n  useEffect(() => {\n    if (location.pathname.includes('symptom-tracker')) {\n      setCurrentMenu('symptomTracker');\n    } else if (location.pathname.includes('report')) {\n      setCurrentMenu('report');\n    } else {\n      setCurrentMenu('schedule');\n    }\n  }, [location]);\n\n  const TabStyle = (name: 'patient' | 'symptomTemplates') => css`\n    height: 68px;\n    display: flex;\n    margin-top: 35px;\n    padding-left: 19px;\n      //align-items: ${name === 'patient' ? 'center' : 'start'};\n    align-items: center;\n    background-color: #0984E3;\n    color: white;\n\n    ${((name === 'patient' && location.pathname.match(/(\\/)|(\\/patient.+)|(\\/taper-configuration.+)/) !== null)\n            || (name === 'symptomTemplates' && location.pathname.match(/\\/symptom-templates.+/)) !== null)\n    && css`\n      background-color: white;\n      color: #0984E3;\n      border-top-left-radius: 17px;\n      border-right: 1px solid #0984E3;\n      border-bottom-left-radius: 17px;`\n}`;\n\n  const subMenuStyle = css`\n    background-color: white;\n    margin: 6px 0 0 39px;\n    color: #0984E3;\n    font-size: 0.8rem;\n    padding: 5px 0 5px 30px;\n    //height: 131px;\n    height: 40px;\n    border-top-left-radius: 13px;\n    border-bottom-left-radius: 13px;\n    border-right: 1px solid #0984E3;\n    display: ${location.pathname.match(/(\\/patient.+)|(\\/taper-configuration.+)/) === null\n    ? 'none'\n    : 'flex'};\n\n    flex-direction: column;\n    justify-content: center;\n\n    & > div {\n      flex: 1;\n      display: flex;\n      align-items: center;\n    }\n  `;\n\n  const boldOnRoute = (menu: 'schedule' | 'symptomTracker' | 'report') => {\n    if (menu === currentMenu) {\n      return css`font-weight: bold;`;\n    }\n    return css`\n      font-weight: normal;\n      color: gray;\n      opacity: 0.7;`;\n  };\n  // const boldOnRoute = (menu: 'schedule' | 'symptomTracker' | 'report') => css`\n  //     font-weight: ${menu === currentMenu ? 'bold' : 'normal'}\n  //   `;\n\n  return (\n    <div css={NavBarStyle}>\n      <div css={css`\n        //margin-left: 17px;\n        margin-left: 5%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;`}>\n        <div>\n          <div css={TabStyle('patient')}>\n            <div css={css`width: 40px;\n              height: 40px;\n              margin-right: 10px;`}>\n              <PatientsMenuIcon/>\n            </div>\n            <div>Patients</div>\n          </div>\n          <div css={subMenuStyle}>\n            <div css={boldOnRoute('schedule')}>Medication schedule</div>\n            {/* <div css={boldOnRoute('symptomTracker')}>Symptom tracker</div> */}\n            {/* <div css={boldOnRoute('report')}>Patient report</div> */}\n          </div>\n        </div>\n        {/* <div css={TabStyle('symptomTemplates')}> */}\n        {/*  <div css={css`width: 40px; */}\n        {/*    height: 40px; */}\n        {/*    margin-right: 10px;`}> */}\n        {/*    <SymptomTemplatesMenuIcon/> */}\n        {/*  </div> */}\n        {/*  <div>Symptom Templates</div> */}\n        {/* </div> */}\n        <div css={helpAndLogoutStyle}>\n          <div>\n            <HelpIcon/>\n            <div>Help</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default NavBar;\n","import * as React from 'react';\nimport { FC, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { css } from '@emotion/react';\nimport { useHistory } from 'react-router';\nimport Button from 'antd/es/button';\nimport Input from 'antd/es/input';\nimport Table from 'antd/es/table';\nimport { SET_CURRENT_PATIENT, SetCurrentPatientAction } from '../redux/actions/user';\nimport { Patient } from '../types';\n\ninterface Props {\n  patients: Omit<Patient, 'password'>[]\n}\n\nconst headerStyle = css`\n  display: flex;\n  align-items: center\n`;\n\nconst titleStyle = css`\n  //font-size: 32px;\n  font-size: 1.5rem;\n  font-weight: bold;\n  margin-right: 61px;\n  margin-bottom: 0;\n  align-self: center;\n`;\n\nconst searchStyle = css`\n  height: 50px;\n  width: 588px;\n  padding-top: 10px;\n\n  & .ant-input {\n    border-radius: 10px;\n  }\n`;\n\nconst buttonStyle = css`\n  align-self: center;\n  height: 41px;\n  margin-left: auto;\n  border-radius: 17px;\n  background-color: #0984E3;\n`;\n\nconst psStyle = css`\n\n`;\nconst PatientsList: FC<Props> = ({ patients }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch<SetCurrentPatientAction>({\n      type: SET_CURRENT_PATIENT,\n      data: -1,\n    });\n  }, []);\n\n  const columns = [\n    { title: 'Name', dataIndex: 'name', key: 'name' },\n    { title: 'Medication', dataIndex: 'drug', key: 'drug' },\n    { title: 'Last Visit', dataIndex: 'recentVisit', key: 'recentVisit' },\n  ];\n\n  /*\n  const renderDrugsAndDosages = useCallback(() => {\n    return !currentPatient!.taperingConfiguration\n      ? <div>Drug(s): Drugs and dosages will appear hear.</div>\n      : prescribedDrugs && prescribedDrugs.reduce((prev, prescribedDrug) => {\n        const dosages = prescribedDrug.upcomingDosages.reduce(\n          (prevDosageStr, dosage) => `${prevDosageStr}${dosage.quantity} * ${dosage.dosage}`, '',\n        );\n        return `${prev} ${prescribedDrug.brand} (${dosages})`;\n      }, 'Drug(s):');\n  }, [currentPatient, prescribedDrugs]);\n   */\n  return (\n    <div css={css`height: 100%;`}>\n      <div css={headerStyle}>\n        <h3 css={titleStyle}>Patients</h3>\n        <Input.Search\n          placeholder={'Search'}\n          css={searchStyle}\n        />\n        <Button\n          type={'primary'}\n          disabled={true}\n          css={buttonStyle}>New Patient</Button>\n      </div>\n      <Table\n        css={css`font-size: 1.2rem;\n          cursor: pointer;`}\n        columns={columns}\n        dataSource={patients.map((d) => ({ ...d, key: `${d.name}_${d.id}` }))}\n        onRow={(record) => ({\n          onClick: () => {\n            console.log('record: ', record);\n            history.push(`/patient/${record.id}`);\n          },\n        })\n        }\n      />\n      <div css={css`font-size:0.7rem;`}>\n      <p>All patient names and subsequent data are fabricated and for demonstration purposes only.</p>\n      <p>Eunkyung Jo, Myeonghan Ryu, Georgia Kenderova, Samuel So, Bryan Shapiro, Alexandra Papoutsaki, and Daniel A. Epstein. 2022.<br/>\n        <strong>Designing Flexible Longitudinal Regimens: Supporting Clinician Planning for Discontinuation of Psychiatric Drugs.</strong> <br/>\n        In <em>CHI Conference on Human Factors in Computing Systems (CHI ’22), April 29-May 5, 2022, New Orleans, LA, USA.</em> ACM, New York, NY, USA, 28 pages. <br/>\n        <a href={'https://doi.org/10.1145/3491102.3502206'}>https://doi.org/10.1145/3491102.3502206</a></p>\n      </div>\n    </div>\n  );\n};\n\nexport default PatientsList;\n","import * as React from 'react';\nimport { FC, useRef } from 'react';\nimport { css } from '@emotion/react';\nimport { SerializedStyles } from '@emotion/utils';\nimport { DrugForm, DrugFormNames, isCapsuleOrTablet } from '../../types';\nimport PillDosages from './PillDosages';\nimport OralFormDosage from './OralFormDosage';\nimport SelectGrowth from './SelectGrowth';\n\ninterface Props {\n  // drugForm: DrugForm | null | undefined,\n  drugForm: DrugFormNames | null | undefined;\n  time: 'Current' | 'Next'\n  editable: boolean;\n}\n\nconst Dosages: FC<Props> = ({ drugForm, time, editable }) => {\n  const containerStyle = useRef<SerializedStyles>(css`\n      margin-top: 44px;`);\n\n  if (!drugForm) {\n    return <div css={containerStyle.current}>\n      <h3 css={css`font-size: 1rem;\n        color: #c7c5c5;\n        margin-bottom: 121px;`}>{time} Dosage</h3>\n    </div>;\n  }\n\n  // if (isCapsuleOrTablet(drugForm)) {\n  if (drugForm === 'capsule' || drugForm === 'tablet') {\n    return (\n      <div css={containerStyle.current}>\n        <PillDosages time={time} editable={editable}/>\n      </div>\n    );\n  }\n\n  return (\n    <div css={containerStyle.current}>\n      <OralFormDosage time={time} editable={editable}/>\n    </div>\n  );\n};\n\nexport default Dosages;\n","import * as React from 'react';\nimport {\n  useCallback, useContext, useEffect, useState,\n} from 'react';\nimport Input from 'antd/es/input';\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { css } from '@emotion/react';\nimport { PrescriptionFormContext } from './PrescriptionForm';\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\nimport {\n  SET_GOAL_DOSAGE,\n  SetNextDosageGoalAction,\n} from './actions';\nimport { SET_IS_INPUT_COMPLETE, VALIDATE_INPUT_COMPLETION } from '../../redux/actions/taperConfig';\n\nconst GoalDosageSettingForm = () => {\n  const {\n    id, goalDosage, formActionDispatch, currentDosagesQty, currentDosageSum,\n    nextDosagesQty, nextDosageSum, availableDosageOptions,\n    modal: { isModal, modalDispatch },\n  } = useContext(PrescriptionFormContext);\n  const [goalDosageValid, setGoalDosageValid] = useState<boolean|null>(null);\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\n  const dispatch = (action: SetNextDosageGoalAction) => {\n    if (isModal) {\n      formActionDispatch(action);\n      modalDispatch!(action);\n    } else {\n      formActionDispatch(action);\n      taperConfigActionDispatch(action);\n    }\n  };\n\n  const isGoalDosageInvalid = useCallback((currentDosageSum: number, nextDosageSum: number, goalDosage: number, availableDosageOptions: string[]) => {\n    const notValidIncreasing = currentDosageSum < nextDosageSum && goalDosage < nextDosageSum;\n    const notValidDecreasing = currentDosageSum > nextDosageSum && goalDosage > nextDosageSum;\n    const notValidSame = currentDosageSum === nextDosageSum && goalDosage !== nextDosageSum;\n    const notDividable = availableDosageOptions.length !== 0 && !availableDosageOptions.map((option) => parseFloat(option))\n      .some((option) => goalDosage % option === 0);\n\n    console.group('TargetDosageSettingForm.isTargetDosageInvalid');\n    if (notValidIncreasing) {\n      console.group('notValidIncreasing');\n      console.log('currentDosageSum: ', currentDosageSum);\n      console.log('nextDosageSum: ', nextDosageSum);\n      console.log('goalDosage: ', goalDosage);\n      console.groupEnd();\n    }\n\n    if (notValidDecreasing) {\n      console.group('notValidDecreasing');\n      console.log('priorDosageSum: ', currentDosageSum);\n      console.log('nextDosageSum: ', nextDosageSum);\n      console.log('goalDosage: ', goalDosage);\n      console.groupEnd();\n    }\n\n    if (notValidSame) {\n      console.group('notValidSame');\n      console.log('priorDosageSum: ', currentDosageSum);\n      console.log('nextDosageSum: ', nextDosageSum);\n      console.log('goalDosage: ', goalDosage);\n      console.groupEnd();\n    }\n\n    if (notDividable) {\n      console.log('notDividable');\n      console.log('availableOptions: ', availableDosageOptions);\n      console.log('priorDosageSum: ', currentDosageSum);\n      console.log('nextDosageSum: ', nextDosageSum);\n      console.log('goalDosage: ', goalDosage);\n    }\n    console.groupEnd();\n    return notValidIncreasing || notValidDecreasing || notValidSame || notDividable;\n  }, []);\n\n  useEffect(() => {\n    // TODO: to refactor..\n    // if ((priorDosageSum < upcomingDosageSum && targetDosage < upcomingDosageSum)\n    //   || (priorDosageSum > upcomingDosageSum && targetDosage > upcomingDosageSum)\n    //   || (priorDosageSum === upcomingDosageSum && targetDosage !== upcomingDosageSum)) {\n    if (isGoalDosageInvalid(currentDosageSum, nextDosageSum, goalDosage, availableDosageOptions)) {\n      setGoalDosageValid(false);\n      if (isModal) {\n        modalDispatch!({\n          type: SET_IS_INPUT_COMPLETE,\n          data: { isComplete: false },\n        });\n      } else {\n        taperConfigActionDispatch({\n          type: SET_IS_INPUT_COMPLETE,\n          data: { isComplete: false },\n        });\n      }\n    } else {\n      setGoalDosageValid(true);\n      if (isModal) {\n        modalDispatch!({\n          type: VALIDATE_INPUT_COMPLETION,\n          data: { isGoalDosageValid: true },\n        });\n      } else {\n        taperConfigActionDispatch({\n          type: VALIDATE_INPUT_COMPLETION,\n          data: { isGoalDosageValid: true },\n        });\n      }\n    }\n  }, [nextDosageSum, currentDosageSum, goalDosage]);\n\n  const onChangeGoalDosage = (e: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({\n      type: SET_GOAL_DOSAGE,\n      data: { id, dosage: parseFloat(e.target.value) },\n    });\n  };\n\n  const onWheelEventHandler = (e: React.WheelEvent<HTMLInputElement>) => {\n    e.currentTarget.blur();\n  };\n\n  const renderValidateErrorMessage = () => {\n    const message = () => {\n      if (!availableDosageOptions.map((option) => parseFloat(option)).some((option) => goalDosage % option === 0)) {\n        return 'Goal dosage cannot be made with the combination of given dosage options.';\n      }\n\n      if (currentDosageSum < nextDosageSum) {\n        return 'When you increase the dosage, goal dosage must be more than next dosage.';\n      }\n\n      if (currentDosageSum > nextDosageSum) {\n        return 'When you decrease the dosage, goal dosage must be less than next dosage.';\n      }\n\n      return 'When you do not make any change to the dosage, goal dosage must be equal to next dosage.';\n    };\n\n    return <div css={css`color: red;\n    margin-left: 20px;`}>\n      Invalid goal dosage.<br/>\n      {message()}\n    </div>;\n  };\n\n  return (\n    <div css={css`\n    display: flex;\n    margin-top: 44px;\n    flex-direction: column;`}>\n      <div css={css`font-size: 0.9rem;\n      display: flex;\n      //flex-direction: column;\n      align-items: center;\n    `}>\n        <h3 css={css`font-size: 1rem;\n        color: #636E72;`}>Goal dosage:</h3>\n        <div css={css`display: flex;\n        //margin-left: 64px;\n        align-items: center;\n        margin-left: 24px;\n\n        & input::-webkit-inner-spin-button,\n        & input::-webkit-outer-spin-button {\n          -webkit-appearance: none;\n          opacity: 0;\n          margin: 0;\n        }\n\n        & input[type=number] {\n          -moz-appearance: textfield;\n        }`}>\n          <Input type='number'\n                 value={goalDosage}\n                 onChange={onChangeGoalDosage}\n                 onWheel={onWheelEventHandler}\n                 min={0}\n                 // disabled={isModal}\n                 css={css`width: 100px;\n                 display: inline;\n               `}/> mg\n        </div>\n        {goalDosageValid !== null && !goalDosageValid && renderValidateErrorMessage()}\n      </div>\n    </div>\n  );\n};\nexport default GoalDosageSettingForm;\n","import * as React from 'react';\nimport {\n  FC, useCallback, useContext, useRef, useState,\n} from 'react';\nimport Input from 'antd/es/input';\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { css } from '@emotion/react';\nimport { PrescriptionFormContext } from './PrescriptionForm';\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\nimport { OralDosage } from '../../types';\nimport useDosageSumDifferenceMessage from '../../hooks/useDosageSumDifferenceMessage';\nimport {\n  currentDosageChange, CurrentDosageChangeAction, nextDosageChange, NextDosageChangeAction,\n} from './actions';\nimport SelectGrowth from './SelectGrowth';\n\ninterface Props {\n  time: 'Current' | 'Next';\n  editable: boolean;\n}\n\nconst inputStyle = {\n  width: 150,\n};\n\nconst OralFormDosage: FC<Props> = ({ time, editable }) => {\n  const context = useContext(PrescriptionFormContext);\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\n  const {\n    formActionDispatch, id, chosenDrugForm, nextDosagesQty,\n    currentDosageSum, nextDosageSum, growth, currentOralDosageInfo, nextOralDosageInfo,\n    intervalDurationDays, modal: { isModal, modalDispatch },\n  } = context;\n  const { dosages } = context[time];\n  const dosage = useRef('1mg');\n  const oralDosageInfo = useRef<OralDosage>(time === 'Current' ? currentOralDosageInfo! : nextOralDosageInfo!);\n  console.log('time: ', time, 'currentOralDosageInfo: ', currentOralDosageInfo, 'nextOralDosageInfo: ', nextOralDosageInfo, 'oralDosageInfo: ', oralDosageInfo);\n  const [mlDosage, setmlDosage] = useState<number | undefined>((dosages['1mg'] / oralDosageInfo!.current.rate.mg) * oralDosageInfo!.current.rate.ml);\n  // const [mlDosage, setmlDosage] = useState<number | undefined>((dosages['1mg'] / oralDosageInfo!.rate.mg) * oralDosageInfo!.rate.ml);\n  const [mgDosage, setmgDosage] = useState<number | undefined>(dosages['1mg']);\n\n  const dosageDifferenceMessage = useDosageSumDifferenceMessage(time, currentDosageSum, nextDosageSum, growth);\n  const dispatch = (action: NextDosageChangeAction | CurrentDosageChangeAction) => {\n    if (isModal) {\n      formActionDispatch(action);\n      modalDispatch!(action);\n    } else {\n      formActionDispatch(action);\n      taperConfigActionDispatch(action);\n    }\n  };\n\n  const mgOnChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const { rate } = chosenDrugForm!.dosages as OralDosage;\n    const mg = parseInt(e.target.value, 10);\n\n    if (Number.isNaN(mg)) {\n      setmlDosage(undefined);\n      setmgDosage(undefined);\n    } else {\n      setmgDosage(mg);\n      const ml = (mg / rate.mg) * rate.ml;\n      setmlDosage(ml);\n    }\n\n    const actionData: NextDosageChangeAction['data'] | CurrentDosageChangeAction['data'] = {\n      id,\n      dosage: { dosage: dosage.current, quantity: Number.isNaN(mg) ? 0 : mg },\n    };\n\n    if (actionData.dosage.quantity >= 0) {\n      if (time === 'Next') {\n        dispatch(nextDosageChange(actionData));\n      } else {\n        dispatch(currentDosageChange(actionData));\n      }\n    }\n  }, [chosenDrugForm, intervalDurationDays, currentDosageSum, nextDosageSum, oralDosageInfo, currentOralDosageInfo, nextOralDosageInfo]);\n\n  const mlOnChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const ml = parseInt(e.target.value, 10);\n    const { rate } = chosenDrugForm!.dosages as OralDosage;\n    const mg = Number.isNaN(ml) ? undefined : (ml / rate.ml) * rate.mg;\n\n    if (Number.isNaN(ml)) {\n      setmlDosage(undefined);\n      setmgDosage(undefined);\n    } else {\n      setmlDosage(ml);\n      setmgDosage(mg);\n    }\n\n    const actionData: NextDosageChangeAction['data'] | CurrentDosageChangeAction['data'] = {\n      id,\n      dosage: { dosage: dosage.current, quantity: mg === undefined ? 0 : mg },\n    };\n\n    if (actionData.dosage.quantity >= 0) {\n      if (time === 'Next') {\n        dispatch(nextDosageChange(actionData));\n      } else {\n        dispatch(currentDosageChange(actionData));\n      }\n    }\n  }, [chosenDrugForm, intervalDurationDays, currentDosageSum, nextDosageSum, oralDosageInfo, currentOralDosageInfo, nextOralDosageInfo]);\n\n  return (\n    <>\n      <h3 css={css`font-size: 1rem;\n        color: #636E72;`}>\n        {time} Dosage\n      </h3>\n      <div css={css`display: flex;\n        flex-direction: column;`}>\n        <div css={css`display: flex;`}>\n          <div css={css`\n            display: flex;\n            width: 550px;\n            height: 50px;\n            align-items: center;\n            justify-content: space-between;\n            margin-left: 64px;`}>\n            <div>\n              <Input type='number'\n                // value={dosages['1mg']}\n                     value={mgDosage}\n                     onChange={mgOnChange}\n                     readOnly={!editable}\n                     min={0}\n                     style={inputStyle}/> mg =\n              <Input type='number'\n                     value={mlDosage}\n                     onChange={mlOnChange}\n                     readOnly={!editable}\n                     min={0}\n                     style={inputStyle}/> ml\n            </div>\n          </div>\n          <div css={css`\n            display: flex;\n            flex-direction: column;\n            align-items: flex-start;\n            justify-content: center;\n            margin-left: 20px;`}>\n            {time === 'Next' && dosageDifferenceMessage && mgDosage !== undefined\n            && (\n              <div css={css`color: #0984E3;`}>\n                {dosageDifferenceMessage}\n              </div>\n            )}\n            <div>\n              Total:\n              {time === 'Next' ? nextDosageSum : currentDosageSum}\n              {' '}\n              {chosenDrugForm!.measureUnit}\n            </div>\n          </div>\n        </div>\n      </div>\n      {time === 'Next' && <SelectGrowth/>}\n    </>\n  );\n};\n\nexport default OralFormDosage;\n","import * as React from 'react';\nimport {\n  FC, useContext,\n} from 'react';\nimport { css } from '@emotion/react';\nimport PillUnit from './PillUnit';\nimport { PrescriptionFormContext } from './PrescriptionForm';\nimport { PillDosage } from '../../types';\nimport useDosageSumDifferenceMessage from '../../hooks/useDosageSumDifferenceMessage';\nimport SelectGrowth from './SelectGrowth';\n\ninterface Props {\n  time: 'Current' | 'Next';\n  editable: boolean;\n}\n\nconst PillDosages: FC<Props> = ({ time, editable }) => {\n  const context = useContext(PrescriptionFormContext);\n  const {\n    chosenDrugForm, dosageOptions, currentDosageSum, nextDosageSum, growth,\n    currentDosageForm, nextDosageForm,\n    currentDosageOptions, nextDosageOptions,\n  } = context;\n  const dosageDifferenceMessage = useDosageSumDifferenceMessage(time, currentDosageSum, nextDosageSum, growth);\n\n  return (\n    <>\n      <h3 css={css`color: #636E72;\n        font-size: 1rem;`}>\n        {time}\n        {' '}\n        Dosage\n      </h3>\n      <div css={css`display: flex;\n        flex-direction: column;`}>\n        <div css={css`display: flex;`}>\n          <div css={css`\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            width: 400px;\n            margin-left: 64px;`}>\n            {/* {(dosageOptions as CapsuleOrTabletDosage[]) */}\n            {((time === 'Current' ? currentDosageOptions : nextDosageOptions) as PillDosage[])\n              .map((v: { dosage: string; isScored?: boolean }) => (\n                <PillUnit\n                  // key={`${time}_${chosenDrugForm!.form}_${v.dosage}`}\n                  key={time === 'Current' ? `Current_${currentDosageForm}_${v.dosage}` : `Next_${nextDosageForm}_${v.dosage}`}\n                  time={time}\n                  editable={editable}\n                  form={time === 'Current' ? (currentDosageForm as 'capsule' | 'tablet') : (nextDosageForm as 'capsule' | 'tablet')}\n                  // form={chosenDrugForm!.form}\n                  dosage={v.dosage}\n                  isScored={v.isScored ? v.isScored : undefined}\n                />))\n            }\n          </div>\n          <div css={css`display: flex;\n            flex-direction: column;\n            align-items: flex-start;\n            justify-content: center;\n            margin-left: 64px;`}>\n            {time === 'Next' && dosageDifferenceMessage\n            && (\n              <div css={css`color: #0984E3;`}>\n                {dosageDifferenceMessage}\n              </div>\n            )}\n            <div>\n              Total:\n              {/* {dosageSum} */}\n              {time === 'Next' ? nextDosageSum : currentDosageSum}\n              {' '}\n              {chosenDrugForm!.measureUnit}\n            </div>\n          </div>\n        </div>\n      </div>\n      {time === 'Next' && <SelectGrowth/>}\n    </>\n  );\n};\nexport default PillDosages;\n","import * as React from 'react';\nimport {\n  FC, useCallback, useContext,\n} from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { css } from '@emotion/react';\nimport { PrescriptionFormContext } from './PrescriptionForm';\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\nimport {\n  currentDosageChange, CurrentDosageChangeAction, nextDosageChange, NextDosageChangeAction,\n} from './actions';\nimport {\n  ArrowDown, ArrowUp, CapsuleIcon, ScoredTabletIcon, UnscoredTabletIcon,\n} from '../../assets/icons';\n\ninterface Props {\n  form: 'capsule'|'tablet';\n  time: 'Current' | 'Next'\n  dosage: string;\n  editable: boolean;\n  isScored?: boolean;\n}\n\nconst PillUnit: FC<Props> = ({\n  time, form, dosage, isScored, editable,\n}) => {\n  const context = useContext(PrescriptionFormContext);\n  const {\n    formActionDispatch, id, intervalDurationDays, allowSplittingUnscoredTablet, modal: { isModal, modalDispatch },\n  } = context;\n  const { dosages } = context[time];\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\n  const dispatch = (action: NextDosageChangeAction | CurrentDosageChangeAction) => {\n    if (isModal) {\n      formActionDispatch(action);\n      modalDispatch!(action);\n    } else {\n      formActionDispatch(action);\n      taperConfigActionDispatch(action);\n    }\n  };\n\n  const quantity = (change: 'increment' | 'decrement', dosages: { [dosage: string]: number }, dosage: string) => {\n    const changeAmount = isScored || allowSplittingUnscoredTablet ? 0.5 : 1;\n    return change === 'increment' ? dosages[dosage] + changeAmount : dosages[dosage] - changeAmount;\n    // if (isScored) {\n    //   return change === 'increment' ? dosages[dosage] + 0.5 : dosages[dosage] - 0.5;\n    // }\n    // return change === 'increment' ? dosages[dosage] + 1 : dosages[dosage] - 1;\n  };\n\n  const onIncrement = useCallback(() => {\n    const actionData = {\n      id,\n      dosage: {\n        dosage,\n        quantity: quantity('increment', dosages, dosage),\n      },\n    };\n\n    if (actionData.dosage.quantity >= 0) {\n      if (time === 'Next') {\n        dispatch(nextDosageChange(actionData));\n      } else {\n        dispatch(currentDosageChange(actionData));\n      }\n    }\n  }, [dosages, intervalDurationDays, allowSplittingUnscoredTablet]);\n\n  const onDecrement = useCallback(() => {\n    const actionData = {\n      id,\n      dosage: {\n        dosage,\n        quantity: quantity('decrement', dosages, dosage),\n      },\n    };\n\n    if (actionData.dosage.quantity >= 0) {\n      if (time === 'Next') {\n        dispatch(nextDosageChange(actionData));\n      } else {\n        dispatch(currentDosageChange(actionData));\n      }\n    }\n  }, [dosages, intervalDurationDays, allowSplittingUnscoredTablet]);\n\n  const renderIcon = () => {\n    const wrapperStyle = css`\n      display: flex;\n      margin-left: 5px;`;\n    if (form === 'tablet') {\n      return (\n        <div css={wrapperStyle}>\n          {isScored\n            ? <ScoredTabletIcon value={dosages[dosage]}/>\n            : <UnscoredTabletIcon value={dosages[dosage]}/>}\n        </div>\n      );\n    }\n    return <div css={wrapperStyle}>\n      <CapsuleIcon value={dosages[dosage]}/>\n    </div>;\n  };\n  return (\n    <div css={css`display: flex;\n      flex-direction: column;\n      align-items: flex-end;`}>\n      <div css={css`display: flex;\n        margin-bottom: 5px;`}>\n        <div className='dosage-arrow-button' css={css`display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n\n          & button {\n            border: none;\n            background-color: white;\n            padding: 5px 5px;\n            display: flex;\n            cursor: pointer;\n            flex-direction: column;\n            justify-content: flex-end;\n          }`}>\n          <div>\n            <button onClick={editable ? onIncrement : () => {\n            }}>\n              <ArrowUp/>\n            </button>\n          </div>\n          <div>\n            <button onClick={editable ? onDecrement : () => {\n            }}>\n              <ArrowDown/>\n            </button>\n          </div>\n        </div>\n        {renderIcon()}\n      </div>\n      <div css={css`margin-right: 10px;`}>{dosage}</div>\n    </div>\n  );\n};\n\nexport default PillUnit;\n","import * as React from 'react';\nimport {\n  useEffect, createContext, FC, Dispatch,\n} from 'react';\nimport { useReducer } from 'reinspect';\nimport Button from 'antd/es/button';\nimport { CheckboxChangeEvent } from 'antd/es/checkbox';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { css } from '@emotion/react';\nimport SelectInterval from './SelectInterval';\nimport {\n  initialState,\n  reducer,\n  PrescriptionFormReducer,\n} from './reducer';\nimport {\n  CHOOSE_BRAND,\n  CHOOSE_FORM,\n  FETCH_DRUGS,\n  currentDosageChange,\n  nextDosageChange,\n  ChooseFormAction,\n  ChooseBrandAction,\n  FetchDrugsAction,\n  LOAD_PRESCRIPTION_DATA, toggleAllowSplittingUnscoredTablet, PrescriptionFormActions, SET_IS_MODAL,\n} from './actions';\nimport { IPrescriptionFormContext, PrescriptionFormState } from './types';\nimport {\n  PillDosage, DrugFormNames, OralDosage, PrescribedDrug,\n} from '../../types';\nimport {\n  CLEAR_SCHEDULE,\n  REMOVE_DRUG_FORM,\n} from '../../redux/actions/taperConfig';\n\nimport { RootState } from '../../redux/reducers';\nimport { TaperConfigActions, TaperConfigState } from '../../redux/reducers/taperConfig';\nimport PrescriptionSettingsForm from './PrescriptionSettingsForm';\nimport Dosages from './Dosages';\nimport { ModalActions } from '../Schedule/Modal/modalReducer';\nimport GoalDosageSettingForm from './GoalDosageSettingForm';\n\nexport const PrescriptionFormContext = createContext<IPrescriptionFormContext>({\n  ...initialState,\n  modal: { isModal: false },\n  Current: {\n    dosages: initialState.currentDosagesQty,\n  },\n  Next: {\n    dosages: initialState.nextDosagesQty,\n  },\n  formActionDispatch: () => {\n  },\n  id: -1,\n});\n\ninterface Props {\n  prescribedDrug: PrescribedDrug;\n  title: string;\n  numberOfMedications?: number;\n  addNewPrescriptionForm?: () => void;\n  modal: { isModal: boolean, modalDispatch?: Dispatch<ModalActions> }\n}\n\nconst PrescriptionForm: FC<Props> = ({\n  prescribedDrug,\n  title,\n  addNewPrescriptionForm,\n  numberOfMedications,\n  modal: { isModal, modalDispatch },\n}) => {\n  const taperConfigActionDispatch = useDispatch();\n  const [state, formActionDispatch] = useReducer<PrescriptionFormReducer, PrescriptionFormState>(reducer, initialState, (init) => initialState, `PrescriptionFormReducer_${prescribedDrug.id}`);\n  const externalDispatchWrapper = (isModal: boolean) => {\n    if (isModal) {\n      console.log('modalDispatch');\n      return modalDispatch!;\n    }\n    return taperConfigActionDispatch;\n  };\n\n  const {\n    chosenBrand, chosenDrugForm, drugFormOptions, dosageOptions,\n    currentDosagesQty, nextDosagesQty, allowSplittingUnscoredTablet,\n    currentDosageForm, nextDosageForm,\n  } = state;\n  const { drugs } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n\n  useEffect(() => {\n    const action: FetchDrugsAction = {\n      type: FETCH_DRUGS,\n      data: { drugs, id: prescribedDrug.id },\n    };\n    formActionDispatch(action);\n\n    formActionDispatch({\n      type: SET_IS_MODAL,\n      data: { isModal },\n    });\n    if (prescribedDrug.name !== '') {\n      formActionDispatch({ type: LOAD_PRESCRIPTION_DATA, data: prescribedDrug });\n    }\n  }, []);\n\n  const onBrandChange = (value: string) => {\n    const action: ChooseBrandAction = {\n      type: CHOOSE_BRAND,\n      data: { brand: value, id: prescribedDrug.id },\n    };\n\n    formActionDispatch(action);\n    // taperConfigActionDispatch(action);\n    externalDispatchWrapper(isModal)(action);\n  };\n\n  const onFormChange = (value: DrugFormNames) => {\n    const chooseFormActionData: ChooseFormAction['data'] = {\n      form: value,\n      id: prescribedDrug.id,\n      minDosageUnit: -1,\n      availableDosageOptions: [],\n      regularDosageOptions: [],\n      oralDosageInfo: null,\n    };\n\n    const newChosenDrugForm = drugFormOptions!.find((form) => form.form === value)!;\n    if (value === 'capsule' || value === 'tablet') {\n      chooseFormActionData.oralDosageInfo = null;\n      // TODO: consider if tablet is scored..?\n      const minDosage = Math.min(...(newChosenDrugForm.dosages as PillDosage[])\n        .map((dosage) => parseFloat(dosage.dosage)));\n      chooseFormActionData.minDosageUnit = value === 'capsule' ? minDosage : minDosage / 2;\n      chooseFormActionData.regularDosageOptions = (newChosenDrugForm.dosages as PillDosage[])\n        .map((option) => option.dosage);\n      chooseFormActionData.availableDosageOptions = [\n        ...new Set(\n          (newChosenDrugForm.dosages as PillDosage[])\n            .flatMap((option) => {\n              if (option.isScored) {\n                return [`${parseFloat(option.dosage) / 2} ${newChosenDrugForm.measureUnit}`, option.dosage];\n              }\n              return option.dosage;\n            }),\n        )];\n    } else {\n      chooseFormActionData.oralDosageInfo = (newChosenDrugForm.dosages as OralDosage);\n      chooseFormActionData.minDosageUnit = chooseFormActionData.oralDosageInfo.rate.mg;\n      chooseFormActionData.regularDosageOptions = null;\n      chooseFormActionData.availableDosageOptions = ['1mg'];\n    }\n\n    formActionDispatch({\n      type: CHOOSE_FORM,\n      data: chooseFormActionData,\n    });\n    externalDispatchWrapper(isModal)({\n      type: CHOOSE_FORM,\n      data: chooseFormActionData,\n    });\n  };\n\n  const removeDrugForm = () => {\n    externalDispatchWrapper(isModal)({\n      type: REMOVE_DRUG_FORM,\n      data: prescribedDrug.id,\n    });\n    externalDispatchWrapper(isModal)({\n      type: CLEAR_SCHEDULE,\n    });\n  };\n\n  const toggleAllowSplittingUnscoredTabletCheckbox = (e: CheckboxChangeEvent) => {\n    formActionDispatch(toggleAllowSplittingUnscoredTablet({ id: prescribedDrug.id, allow: e.target.checked, dosageOptions: (dosageOptions as PillDosage[]) }));\n    externalDispatchWrapper(isModal)(toggleAllowSplittingUnscoredTablet({\n      id: prescribedDrug.id,\n      allow: e.target.checked,\n      dosageOptions: (dosageOptions as PillDosage[]),\n    }));\n  };\n\n  return (\n    <PrescriptionFormContext.Provider value={{\n      ...state,\n      id: prescribedDrug.id,\n      modal: { isModal, modalDispatch },\n      Current: {\n        dosages: currentDosagesQty,\n        dosageChangeAction: currentDosageChange,\n      },\n      Next: {\n        dosages: nextDosagesQty,\n        dosageChangeAction: nextDosageChange,\n      },\n      formActionDispatch,\n    }}\n    >\n      <div css={css`\n        margin-left: 42px;\n        padding-bottom: 71px;`}>\n\n        <h2 css={css`font-size: 1.1rem;\n          font-weight: bold;\n          color: #666666`}>{title}</h2>\n        <PrescriptionSettingsForm\n          prescribedDrug={prescribedDrug}\n          chosenBrand={chosenBrand}\n          onBrandChange={onBrandChange}\n          chosenDrugForm={chosenDrugForm}\n          onFormChange={onFormChange}\n          allowSplittingUnscoredTablet={allowSplittingUnscoredTablet}\n          toggleAllowSplittingUnscoredTabletCheckbox={toggleAllowSplittingUnscoredTabletCheckbox}/>\n\n        <Dosages drugForm={currentDosageForm} time={'Current'} editable={prescribedDrug.allowChangePriorDosage}/>\n        <Dosages drugForm={nextDosageForm} time={'Next'} editable={true}/>\n        {/* <Dosages drugForm={chosenDrugForm} time={'Current'} editable={prescribedDrug.allowChangePriorDosage}/> */}\n        {/* <Dosages drugForm={prescribedDrug.form} time={'Current'} editable={prescribedDrug.allowChangePriorDosage}/> */}\n        {/* <Dosages drugForm={chosenDrugForm && chosenDrugForm.form} time={'Next'} editable={true}/> */}\n        {/* <Dosages drugForm={prescribedDrug.form} time={'Current'} editable={prescribedDrug.allowChangePriorDosage}/> */}\n        {/* <Dosages drugForm={chosenDrugForm && chosenDrugForm.form} time={'Next'} editable={true}/> */}\n\n        <SelectInterval/>\n        <GoalDosageSettingForm/>\n\n        {addNewPrescriptionForm && numberOfMedications && numberOfMedications < 2\n        && <Button css={css`border-radius: 10px;\n          background-color: #0984E3;\n          margin-top: 74px;`} type='primary' onClick={addNewPrescriptionForm}>Add Medication</Button>}\n\n        {numberOfMedications && numberOfMedications > 1\n        && <div css={css`display: flex;\n          flex-direction: column;\n          align-items: flex-end;`}>\n          <Button danger\n                  css={css`\n                    width: 180px;\n                    margin-right: 20px;\n                    border-radius: 10px;`}\n                  onClick={removeDrugForm}>Delete {title}</Button>\n          <hr css={css`\n            border: none;\n            width: 100%;\n            height: 3px;\n            margin: 18px auto;\n            background-color: #D1D1D1;\n          `}/>\n        </div>}\n      </div>\n    </PrescriptionFormContext.Provider>\n  );\n};\nexport default PrescriptionForm;\n","import * as React from 'react';\nimport { css } from '@emotion/react';\nimport Select from 'antd/es/select';\nimport Tooltip from 'antd/es/tooltip';\nimport { GrCircleInformation } from 'react-icons/gr';\nimport Checkbox, { CheckboxChangeEvent } from 'antd/es/checkbox';\nimport {\n  FC, useContext, useEffect, useState,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  PillForm, DrugForm, DrugFormNames, DrugOption, OralForm, PrescribedDrug,\n} from '../../types';\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\nimport { RootState } from '../../redux/reducers';\nimport { PrescriptionFormContext } from './PrescriptionForm';\n\nconst { OptGroup, Option } = Select;\n\ninterface Props {\n  prescribedDrug: PrescribedDrug;\n  chosenBrand: DrugOption | null;\n  onBrandChange: (value: string) => void;\n  chosenDrugForm: DrugForm | undefined | null;\n  onFormChange: (value: DrugFormNames) => void;\n  allowSplittingUnscoredTablet: boolean;\n  toggleAllowSplittingUnscoredTabletCheckbox: (e: CheckboxChangeEvent) => void;\n}\n\nconst PrescriptionSettingsForm: FC<Props> = ({\n  prescribedDrug,\n  chosenBrand,\n  chosenDrugForm,\n  onBrandChange,\n  onFormChange,\n  allowSplittingUnscoredTablet,\n  toggleAllowSplittingUnscoredTabletCheckbox,\n}) => {\n  const {\n    drugs, chosenDrugs, prescribedDrugs,\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  const { id } = useContext(PrescriptionFormContext);\n  const [drugFormOptions, setDrugFormOptions] = useState<DrugForm[] | null>(null);\n\n  useEffect(() => {\n    setDrugFormOptions(chosenBrand?.forms || null);\n  }, [chosenBrand]);\n\n  return (\n    <div css={css`\n      width: 700px;\n\n      & .medication-select-form {\n        display: flex;\n        width: 250px;\n        justify-content: space-between;\n        margin: 15px 30px 15px 51px;\n        align-items: center;\n      }`}>\n      <div>\n        <h3 css={css`font-size: 1rem;`}>Prescription settings</h3>\n        <div css={css`display: flex;\n          align-items: center;`}>\n          <div className='medication-select-form'>\n            <label>Brand:</label>\n            <Select showSearch value={chosenBrand?.brand} onChange={onBrandChange} css={css`width: 200px`}>\n              {drugs?.map(\n                (drug) => {\n                  const anotherFormId = Object.keys(chosenDrugs).find((k) => parseInt(k, 10) !== id);\n                  // console.group('Select...');\n                  // console.log('id: ', id);\n                  // console.log('anotherFormId: ', anotherFormId);\n                  // console.groupEnd();\n                  return (<OptGroup key={`${drug.name}_group`} label={drug.name}>\n                      {drug.options.map(\n                        (option) => {\n                          const disabled = anotherFormId !== undefined && drug.name === chosenDrugs[parseInt(anotherFormId, 10)].drug;\n                          return <Option key={option.brand} value={option.brand}\n                                         disabled={disabled}>{option.brand}</Option>;\n                        },\n                      )}\n                    </OptGroup>);\n                },\n              )}\n            </Select>\n          </div>\n          <Tooltip title={`Half-life\\n${prescribedDrug.halfLife}`} overlayStyle={{ whiteSpace: 'pre-line' }}>\n            <GrCircleInformation size={'16px'}/>\n          </Tooltip>\n        </div>\n        <div css={css`display: flex;\n          align-items: center;`}>\n          <div className='medication-select-form'>\n            <label>Form:</label>\n            <Select value={chosenDrugForm?.form} onChange={onFormChange} style={{ width: 200 }}>\n              {drugFormOptions?.map(\n                (form: PillForm | OralForm) => <Option key={form.form}\n                                                       value={form.form}>{form.form}</Option>,\n              )}\n            </Select>\n          </div>\n          {chosenDrugForm?.form === 'tablet'\n          && <Checkbox checked={allowSplittingUnscoredTablet} onChange={toggleAllowSplittingUnscoredTabletCheckbox}>Allow\n            splitting unscored tablet</Checkbox>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PrescriptionSettingsForm;\n","import * as React from 'react';\nimport { useContext } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport Radio, { RadioChangeEvent } from 'antd/es/radio';\nimport { css } from '@emotion/react';\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\nimport { PrescriptionFormContext } from './PrescriptionForm';\nimport { SET_GROWTH, SetGrowthAction } from './actions';\n\nconst SelectGrowth = () => {\n  const {\n    formActionDispatch, growth, modal: { isModal, modalDispatch }, id,\n  } = useContext(PrescriptionFormContext);\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\n  const dispatch = (action: SetGrowthAction) => {\n    if (isModal) {\n      formActionDispatch(action);\n      modalDispatch!(action);\n    } else {\n      formActionDispatch(action);\n      taperConfigActionDispatch(action);\n    }\n  };\n\n  const onChangeRadio = (e: RadioChangeEvent) => {\n    dispatch({\n      type: SET_GROWTH,\n      data: { id, growth: e.target.value },\n    });\n  };\n\n  return (\n    <div css={css`display: flex; flex-direction: column; margin-top: 44px;`}>\n      <h3 css={css`color: #636E72; font-size: 1rem;`}>Projection of taper schedule</h3>\n      <Radio.Group onChange={onChangeRadio} value={growth} css={css`display: flex; color: #636E72; margin-left: 64px;`}>\n        <Radio value={'linear'}>Linear</Radio>\n        <Radio value={'exponential'}>Exponential</Radio>\n      </Radio.Group>\n    </div>\n  );\n};\n\nexport default SelectGrowth;\n","import * as React from 'react';\nimport {\n  useRef, useContext, useCallback,\n} from 'react';\nimport add from 'date-fns/esm/add';\nimport differenceInCalendarDays from 'date-fns/esm/differenceInCalendarDays';\nimport format from 'date-fns/esm/format';\nimport isAfter from 'date-fns/esm/isAfter';\nimport isSameDay from 'date-fns/esm/isSameDay';\nimport sub from 'date-fns/esm/sub';\n\nimport Input from 'antd/es/input';\nimport Select from 'antd/es/select';\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { css } from '@emotion/react';\nimport isBefore from 'date-fns/esm/isBefore';\nimport { PrescriptionFormContext } from './PrescriptionForm';\nimport { TaperConfigActions } from '../../redux/reducers/taperConfig';\nimport {\n  IntervalActions,\n  intervalCountChange, intervalEndDateChange, IntervalEndDateChangeData,\n  intervalStartDateChange, IntervalStartDateChangeData, intervalUnitChange,\n} from './actions';\n\nconst { Option } = Select;\n\nconst selectIntervalStyle = css`\n  margin-top: 44px;\n  width: 330px;\n\n  & > h3 {\n    font-size: 1rem;\n    color: #636E72;\n    margin-bottom: 22px;\n  }\n\n  & .select-interval-form {\n    //font-size: 0.8rem;\n    margin: 0 0 1rem 39px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 270px;\n    justify-content: space-between;\n  }\n\n  & .select-interval-form > label {\n    margin-right: 17px;\n  }\n\n  & .select-interval-form > input {\n    width: 180px;\n  }\n`;\n\nconst SelectInterval = () => {\n  const taperConfigActionDispatch = useDispatch<Dispatch<TaperConfigActions>>();\n  const {\n    formActionDispatch, intervalCount, intervalUnit,\n    intervalStartDate, intervalEndDate, id,\n    nextDosagesQty, modal: { isModal, modalDispatch },\n  } = useContext(PrescriptionFormContext);\n  const dispatch = (action: IntervalActions) => {\n    if (isModal) {\n      formActionDispatch(action);\n      modalDispatch!(action);\n    } else {\n      formActionDispatch(action);\n      taperConfigActionDispatch(action);\n    }\n  };\n\n  const units = useRef(['Days', 'Weeks', 'Months']);\n\n  const calcIntervalDurationDays = useCallback((startDate: Date, endDate: Date | null) => {\n    return !endDate ? 0 : differenceInCalendarDays(endDate, startDate) + 1;\n  }, []);\n\n  const onIntervalStartDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const data = {} as IntervalStartDateChangeData;\n    const date = new Date(e.target.value);\n    data.intervalStartDate = new Date(date.valueOf() + date.getTimezoneOffset() * 60 * 1000);\n    data.intervalEndDate = add(data.intervalStartDate, { [intervalUnit.toLowerCase()]: intervalCount });\n    // if (intervalEndDate) {\n    //   if (isAfter(data.intervalStartDate, intervalEndDate)) {\n    //     data.intervalEndDate = add(data.intervalStartDate, { [intervalUnit.toLowerCase()]: intervalCount - 1 });\n    //   } else {\n    //     data.intervalUnit = 'Days';\n    //     data.intervalDurationDays = differenceInCalendarDays(intervalEndDate, data.intervalStartDate) + 1;\n    //     data.intervalCount = data.intervalDurationDays;\n    //   }\n    // }\n\n    dispatch(intervalStartDateChange({\n      ...data,\n      id,\n    }));\n  };\n\n  const onIntervalEndDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const data = {} as IntervalEndDateChangeData;\n    const date = new Date(e.target.value);\n    data.intervalEndDate = new Date(date.valueOf() + date.getTimezoneOffset() * 60 * 1000);\n\n    if (isBefore(data.intervalEndDate, intervalStartDate)) {\n      data.intervalStartDate = sub(data.intervalEndDate, { [intervalUnit.toLowerCase()]: intervalCount - 1 });\n      // data.intervalStartDate = sub(data.intervalEndDate, { days: 1 });\n      // data.intervalUnit = 'Days';\n      // data.intervalCount = 1;\n      // data.intervalDurationDays = 1;\n    } else {\n      data.intervalDurationDays = differenceInCalendarDays(data.intervalEndDate, intervalStartDate) + 1;\n      data.intervalUnit = 'Days';\n      data.intervalCount = data.intervalDurationDays;\n    }\n\n    dispatch(intervalEndDateChange({\n      ...data,\n      id,\n    }));\n  };\n\n  const onIntervalUnitChange = (value: 'Days' | 'Weeks' | 'Months') => {\n    const newIntervalCount = value === 'Days' ? 7 : 1;\n    const endDate = sub(add(intervalStartDate, { [value.toLowerCase()]: newIntervalCount }), { days: 1 });\n    const intervalDurationDays = calcIntervalDurationDays(intervalStartDate, endDate);\n\n    dispatch(intervalUnitChange({\n      unit: value, intervalEndDate: endDate, intervalDurationDays, intervalCount: newIntervalCount, id,\n    }));\n  };\n\n  // const onIntervalUnitChange = useCallback((value: 'Days' | 'Weeks' | 'Months') => {\n  //   const endDate = sub(add(intervalStartDate, { [value.toLowerCase()]: intervalCount }), { days: 1 });\n  //   const intervalDurationDays = calcIntervalDurationDays(intervalStartDate, endDate);\n  //\n  //   dispatch(intervalUnitChange({\n  //     unit: value, intervalEndDate: endDate, intervalDurationDays, id,\n  //   }));\n  // }, [intervalStartDate, intervalCount, upcomingDosagesQty]);\n\n  const onIntervalCountChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const count = parseInt(e.target.value, 10);\n    const endDate = count === 0 || Number.isNaN(count) || count === null\n      ? null\n      : sub(\n        add(intervalStartDate, { [intervalUnit.toLowerCase()]: count }),\n        { days: 1 },\n      );\n    const intervalDurationDays = calcIntervalDurationDays(intervalStartDate, endDate);\n\n    dispatch(intervalCountChange({\n      count, id, intervalEndDate: endDate, intervalDurationDays,\n    }));\n  }, [intervalStartDate, intervalUnit, nextDosagesQty]);\n\n  const onWheelEventHandler = (e: React.WheelEvent<HTMLInputElement>) => {\n    e.currentTarget.blur();\n  };\n\n  return (\n    <div css={selectIntervalStyle}>\n      <h3>How often should the dosage change?</h3>\n      <div className='select-interval-form'>\n        <label>Start on:</label>\n        <Input\n          type=\"date\"\n          value={format(intervalStartDate, 'yyyy-MM-dd')}\n          onChange={onIntervalStartDateChange}\n          css={css`width: 160px;`}\n        />\n      </div>\n\n      <div className='select-interval-form'>\n        <label>Interval:</label>\n        <div css={css`width: 180px;\n          display: flex;\n          justify-content: space-between;`}>\n          <Input type=\"number\" value={intervalCount} min={1}\n                 onWheel={onWheelEventHandler}\n                 onChange={onIntervalCountChange} css={css`width: 70px;\n            margin-right: 9px;`}/>\n          <Select value={intervalUnit} onChange={onIntervalUnitChange} css={css`\n            width: 100px;\n\n            & .ant-select-single .ant-select-selector {\n              //height: 1.7rem;\n            }\n          `}>\n            {units.current.map((unit) => <Option key={unit} value={unit}>{unit}</Option>)}\n          </Select>\n        </div>\n      </div>\n\n      <div className='select-interval-form'>\n        <label>End on:</label>\n        <Input\n          type=\"date\"\n          value={intervalEndDate ? format(intervalEndDate, 'yyyy-MM-dd') : undefined}\n          onChange={onIntervalEndDateChange}\n          css={css`width: 160px;`}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default SelectInterval;\n","import {\n  Drug, DrugFormNames, PillDosage, OralDosage, PrescribedDrug,\n} from '../../types';\nimport { SetIsInputComplete, ValidateInputCompletionAction } from '../../redux/actions/taperConfig';\n\nexport const LOAD_PRESCRIPTION_DATA = 'LOAD_PRESCRIPTION_DATA' as const;\n\nexport interface LoadPrescriptionDataAction {\n  type: typeof LOAD_PRESCRIPTION_DATA,\n  data: PrescribedDrug;\n}\n\nexport const FETCH_DRUGS = 'FETCH_DRUGS' as const;\n\nexport interface FetchDrugsAction {\n  type: typeof FETCH_DRUGS,\n  data: { drugs: Drug[], id: number }\n}\n\nexport const CHOOSE_BRAND = 'CHOOSE_BRAND' as const;\n\nexport interface ChooseBrandAction {\n  type: typeof CHOOSE_BRAND,\n  data: { id: number; brand: string };\n}\n\nexport const CHOOSE_FORM = 'CHOOSE_FORM' as const;\nexport interface ChooseFormAction {\n  type: typeof CHOOSE_FORM,\n  data: { id: number;\n    form: DrugFormNames,\n    minDosageUnit: number,\n    availableDosageOptions: string[],\n    oralDosageInfo: OralDosage|null,\n    regularDosageOptions: string[]|null };\n}\n\nexport const CURRENT_DOSAGE_CHANGE = 'CURRENT_DOSAGE_CHANGE' as const;\n\nexport interface CurrentDosageChangeAction {\n  type: typeof CURRENT_DOSAGE_CHANGE;\n  data: { id: number, dosage: { dosage: string, quantity: number } };\n}\n\nexport const currentDosageChange = (data: CurrentDosageChangeAction['data']): CurrentDosageChangeAction => ({\n  type: CURRENT_DOSAGE_CHANGE,\n  data,\n});\n\nexport const NEXT_DOSAGE_CHANGE = 'NEXT_DOSAGE_CHANGE' as const;\n\nexport interface NextDosageChangeAction {\n  type: typeof NEXT_DOSAGE_CHANGE;\n  data: { id: number, dosage: { dosage: string, quantity: number } };\n}\n\nexport const nextDosageChange = (data: NextDosageChangeAction['data']): NextDosageChangeAction => ({\n  type: NEXT_DOSAGE_CHANGE,\n  data,\n});\n\nexport const SET_GOAL_DOSAGE = 'SET_NEXT_DOSAGE_GOAL';\n\nexport interface SetNextDosageGoalAction {\n  type: typeof SET_GOAL_DOSAGE,\n  data: { id: number, dosage: number }\n}\n\nexport const ALLOW_SPLITTING_UNSCORED_TABLET = 'ALLOW_SPLITTING_UNSCORED_TABLET' as const;\n\nexport interface AllowSplittingUnscoredTabletAction {\n  type: typeof ALLOW_SPLITTING_UNSCORED_TABLET;\n  data: { id: number, allow: boolean, dosageOptions: PillDosage[] };\n}\n\nexport const toggleAllowSplittingUnscoredTablet = (data: AllowSplittingUnscoredTabletAction['data']): AllowSplittingUnscoredTabletAction => ({\n  type: ALLOW_SPLITTING_UNSCORED_TABLET,\n  data,\n});\n\nexport const INTERVAL_START_DATE_CHANGE = 'INTERVAL_START_DATE_CHANGE' as const;\n\nexport interface IntervalStartDateChangeData {\n  intervalStartDate: Date;\n  intervalEndDate?: Date;\n  intervalDurationDays?: number;\n  intervalUnit?: 'Days'|'Weeks'|'Months';\n  intervalCount?: number;\n  id: number;\n}\n\nexport interface IntervalStartDateChangeAction {\n  type: typeof INTERVAL_START_DATE_CHANGE,\n  data: IntervalStartDateChangeData;\n}\n\nexport const intervalStartDateChange = (data: IntervalStartDateChangeAction['data']): IntervalStartDateChangeAction => ({\n  type: INTERVAL_START_DATE_CHANGE,\n  data,\n});\n\nexport const INTERVAL_END_DATE_CHANGE = 'INTERVAL_END_DATE_CHANGE' as const;\n\nexport interface IntervalEndDateChangeData {\n  intervalStartDate?: Date;\n  intervalEndDate: Date;\n  intervalDurationDays?: number;\n  intervalUnit? :'Days' | 'Weeks' | 'Months';\n  intervalCount?: number;\n  id: number;\n}\nexport interface IntervalEndDateChangeAction {\n  type: typeof INTERVAL_END_DATE_CHANGE,\n  data: IntervalEndDateChangeData;\n}\n\nexport const intervalEndDateChange = (data: IntervalEndDateChangeAction['data']): IntervalEndDateChangeAction => ({\n  type: INTERVAL_END_DATE_CHANGE,\n  data,\n});\n\nexport const INTERVAL_COUNT_CHANGE = 'INTERVAL_COUNT_CHANGE' as const;\n\nexport interface IntervalCountChangeAction {\n  type: typeof INTERVAL_COUNT_CHANGE,\n  data: {\n    count: number,\n    intervalDurationDays: number,\n    intervalEndDate: Date | null,\n    id:number }\n}\n\nexport const intervalCountChange = (data: IntervalCountChangeAction['data']): IntervalCountChangeAction => ({\n  type: INTERVAL_COUNT_CHANGE,\n  data,\n});\n\nexport const INTERVAL_UNIT_CHANGE = 'INTERVAL_UNIT_CHANGE' as const;\n\nexport interface IntervalUnitChangeAction {\n  type: typeof INTERVAL_UNIT_CHANGE;\n  data: {\n    unit: 'Days' | 'Weeks' | 'Months',\n    intervalEndDate: Date,\n    intervalCount: number,\n    intervalDurationDays: number,\n    id: number }\n}\n\nexport const intervalUnitChange = (data: IntervalUnitChangeAction['data']): IntervalUnitChangeAction => ({\n  type: INTERVAL_UNIT_CHANGE,\n  data,\n});\n\nexport const SET_IS_MODAL = 'SET_IS_MODAL' as const;\n\nexport interface SetIsModalAction {\n  type: typeof SET_IS_MODAL,\n  data: { isModal: boolean }\n}\n\nexport const SET_GROWTH = 'SET_GROWTH' as const;\n\nexport interface SetGrowthAction {\n  type: typeof SET_GROWTH,\n  data: { growth: 'linear' | 'exponential', id: number };\n}\n\nexport type IntervalActions =\n  | IntervalStartDateChangeAction\n  | IntervalEndDateChangeAction\n  | IntervalUnitChangeAction\n  | IntervalCountChangeAction;\n\nexport type PrescriptionFormActions =\n  | FetchDrugsAction\n  | LoadPrescriptionDataAction\n  | ChooseBrandAction\n  | ChooseFormAction\n  | CurrentDosageChangeAction\n  | NextDosageChangeAction\n  | SetNextDosageGoalAction\n  | AllowSplittingUnscoredTabletAction\n  | SetIsModalAction\n  | SetGrowthAction\n  | SetIsInputComplete\n  | ValidateInputCompletionAction\n  | IntervalActions;\n","import produce from 'immer';\nimport add from 'date-fns/esm/add';\nimport differenceInCalendarDays from 'date-fns/esm/differenceInCalendarDays';\nimport isBefore from 'date-fns/esm/isBefore';\nimport sub from 'date-fns/esm/sub';\nimport isAfter from 'date-fns/esm/isAfter';\nimport { PrescriptionFormState } from './types';\nimport {\n  ALLOW_SPLITTING_UNSCORED_TABLET,\n  CHOOSE_BRAND,\n  CHOOSE_FORM,\n  FETCH_DRUGS,\n  INTERVAL_COUNT_CHANGE,\n  INTERVAL_END_DATE_CHANGE,\n  INTERVAL_START_DATE_CHANGE,\n  INTERVAL_UNIT_CHANGE,\n  LOAD_PRESCRIPTION_DATA,\n  PrescriptionFormActions,\n  CURRENT_DOSAGE_CHANGE,\n  SET_GOAL_DOSAGE, SET_GROWTH,\n  NEXT_DOSAGE_CHANGE,\n} from './actions';\nimport { PillDosage, isCapsuleOrTablet, OralFormNames } from '../../types';\n\nexport const initialState: PrescriptionFormState = {\n  drugs: null,\n  chosenDrug: null,\n  chosenBrand: null,\n  chosenDrugForm: null,\n  currentDosageForm: null,\n  nextDosageForm: null,\n  brandOptions: [],\n  drugFormOptions: [],\n  dosageOptions: [],\n  currentDosageOptions: [],\n  nextDosageOptions: [],\n  availableDosageOptions: [],\n  regularDosageOptions: [],\n  minDosageUnit: 0,\n  currentDosagesQty: {},\n  isModal: false,\n  currentDosageSum: 0,\n  nextDosagesQty: {},\n  nextDosageSum: 0,\n  goalDosage: 0,\n  allowSplittingUnscoredTablet: false,\n  oralDosageInfo: null,\n  currentOralDosageInfo: null,\n  nextOralDosageInfo: null,\n  intervalStartDate: (() => {\n    const date = new Date();\n    return new Date(date.valueOf() + date.getTimezoneOffset() * 60 * 1000);\n  })(),\n  intervalEndDate: (() => {\n    const date = new Date();\n    return add(new Date(date.valueOf() + date.getTimezoneOffset() * 60 * 1000), { days: 6 });\n  })(),\n  intervalCount: 7,\n  intervalUnit: 'Days',\n  intervalDurationDays: 7,\n  growth: 'linear',\n};\n\nexport const reducer = (state: PrescriptionFormState, action: PrescriptionFormActions): PrescriptionFormState => {\n  console.log('action: ', action);\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case FETCH_DRUGS:\n        draft.drugs = action.data.drugs;\n        draft.brandOptions = draft.drugs.flatMap((drug) => drug.options);\n        break;\n\n      case LOAD_PRESCRIPTION_DATA: {\n        draft.chosenDrug = draft.drugs!.find((drug) => drug.name === action.data.name);\n        draft.chosenBrand = draft.brandOptions!.find((brand) => brand.brand === action.data.brand)!;\n        draft.drugFormOptions = draft.chosenBrand.forms;\n        draft.chosenDrugForm = draft.drugFormOptions.find((form) => form.form === action.data.form)!;\n        draft.currentDosageForm = action.data.currentDosageForm;\n        draft.nextDosageForm = action.data.nextDosageForm;\n        draft.currentDosageOptions = draft.drugFormOptions.find((form) => form.form === draft.currentDosageForm)!.dosages;\n        draft.nextDosageOptions = draft.drugFormOptions.find((form) => form.form === draft.nextDosageForm)!.dosages;\n        draft.dosageOptions = draft.chosenDrugForm.dosages;\n        draft.allowSplittingUnscoredTablet = action.data.allowSplittingUnscoredTablet;\n        draft.goalDosage = action.data.targetDosage;\n        draft.currentDosagesQty = action.data.currentDosages.reduce(\n          (prev: { [dosage: string]: number }, currentDosage) => {\n            prev[currentDosage.dosage] = currentDosage.quantity;\n            return prev;\n          }, {},\n        );\n        draft.currentDosageSum = action.data.currentDosageSum;\n        draft.nextDosagesQty = action.data.nextDosages.reduce(\n          (prev: { [dosage: string]: number }, nextDosage) => {\n            prev[nextDosage.dosage] = nextDosage.quantity;\n            return prev;\n          }, {},\n        );\n        draft.nextDosageSum = action.data.nextDosageSum;\n        if (isCapsuleOrTablet(draft.chosenDrugForm)) {\n          (draft.dosageOptions as PillDosage[]).forEach((dosage) => {\n            if (!Object.keys(draft.currentDosagesQty).includes(dosage.dosage)) {\n              draft.currentDosagesQty[dosage.dosage] = 0;\n            }\n\n            if (!Object.keys(draft.nextDosagesQty).includes(dosage.dosage)) {\n              draft.nextDosagesQty[dosage.dosage] = 0;\n            }\n          });\n        }\n        draft.oralDosageInfo = action.data.oralDosageInfo || null;\n        draft.currentOralDosageInfo = action.data.currentOralDosageInfo || null;\n        draft.nextOralDosageInfo = action.data.nextOralDosageInfo || null;\n        draft.isModal = action.data.isModal;\n        draft.intervalStartDate = action.data.intervalStartDate;\n        draft.intervalEndDate = action.data.intervalEndDate;\n        draft.intervalCount = action.data.intervalCount;\n        draft.intervalUnit = action.data.intervalUnit;\n        draft.growth = action.data.growth;\n        break;\n      }\n\n      case CHOOSE_BRAND: {\n        const chosenBrandOption = draft.brandOptions!.find(\n          (brand) => brand.brand === action.data.brand,\n        )!;\n        const chosenDrugIdx = draft.drugs!.findIndex((drug) => {\n          return drug.options.find(\n            (option) => option.brand === action.data.brand,\n          );\n        });\n        draft.chosenDrug = draft.drugs![chosenDrugIdx];\n        draft.drugs!.splice(0, 0, draft.drugs!.splice(chosenDrugIdx, 1)[0]);\n        draft.chosenBrand = chosenBrandOption;\n        draft.chosenDrugForm = null;\n        if (!draft.isModal) {\n          draft.currentDosageForm = null;\n          draft.nextDosageForm = null;\n          draft.currentOralDosageInfo = null;\n          draft.nextOralDosageInfo = null;\n          draft.nextDosageSum = 0;\n        } else {\n          draft.nextDosageForm = null;\n          draft.nextOralDosageInfo = null;\n          draft.nextDosageSum = 0;\n        }\n\n        draft.currentDosageForm = null;\n        draft.goalDosage = 0;\n        draft.drugFormOptions = chosenBrandOption.forms;\n        draft.currentDosagesQty = {};\n        draft.currentDosageSum = 0;\n        draft.oralDosageInfo = null;\n        draft.nextDosagesQty = {};\n        break;\n      }\n\n      case CHOOSE_FORM: {\n        const chosenDrugForm = draft.drugFormOptions!.find((form) => form.form === action.data.form)!;\n        draft.chosenDrugForm = chosenDrugForm;\n        draft.nextDosagesQty = {};\n        draft.nextDosageSum = 0;\n        draft.minDosageUnit = action.data.minDosageUnit;\n        draft.regularDosageOptions = action.data.regularDosageOptions;\n        draft.availableDosageOptions = action.data.availableDosageOptions;\n\n        draft.dosageOptions = chosenDrugForm.dosages;\n\n        draft.nextDosageForm = chosenDrugForm.form;\n        draft.nextDosageOptions = chosenDrugForm.dosages;\n\n        if (isCapsuleOrTablet(chosenDrugForm)) {\n          chosenDrugForm.dosages.forEach((dosage) => {\n            draft.nextDosagesQty[dosage.dosage] = 0;\n          });\n        } else {\n          draft.nextDosagesQty['1mg'] = 0;\n        }\n\n        if (!draft.isModal) {\n          draft.currentDosagesQty = {};\n          draft.currentDosageSum = 0;\n          draft.currentDosageForm = chosenDrugForm.form;\n          draft.currentDosageOptions = chosenDrugForm.dosages;\n\n          if (isCapsuleOrTablet(chosenDrugForm)) {\n            chosenDrugForm.dosages.forEach((dosage) => {\n              draft.currentDosagesQty[dosage.dosage] = 0;\n            });\n          } else {\n            draft.currentDosagesQty['1mg'] = 0;\n          }\n          /** have to keep oralDosageInfo when currentDrugForm or nextDrugForm is an oral form. */\n          draft.oralDosageInfo = action.data.oralDosageInfo;\n          draft.currentOralDosageInfo = action.data.oralDosageInfo;\n          draft.nextOralDosageInfo = action.data.oralDosageInfo;\n        } else {\n          draft.nextOralDosageInfo = action.data.oralDosageInfo;\n        }\n        //  if (action.data.oralDosageInfo === null && draft.currentDosageForm !== 'oral solution' && draft.currentDosageForm !== 'oral suspension'\n        //     && draft.nextDosageForm !== 'oral solution' && draft.nextDosageForm !== 'oral suspension') {\n        //   draft.oralDosageInfo = action.data.oralDosageInfo;\n        // }\n\n        if (draft.isModal) {\n          if (draft.currentDosageForm !== 'oral solution' && draft.currentDosageForm !== 'oral suspension') {\n            draft.oralDosageInfo = action.data.oralDosageInfo;\n          }\n        }\n\n        break;\n      }\n\n      case CURRENT_DOSAGE_CHANGE: {\n        if (action.data.dosage.quantity >= 0) {\n          draft.currentDosagesQty[action.data.dosage.dosage] = action.data.dosage.quantity;\n          draft.currentDosageSum = Object.entries(draft.currentDosagesQty).reduce((prev, [k, v]) => {\n            return prev + parseFloat(k) * v;\n          }, 0);\n\n          if (draft.nextDosageSum > draft.currentDosageSum) {\n            draft.goalDosage = draft.nextDosageSum;\n          } else if (draft.nextDosageSum < draft.currentDosageSum) {\n            draft.goalDosage = 0;\n          } else {\n            draft.goalDosage = draft.currentDosageSum;\n          }\n        }\n        break;\n      }\n\n      case NEXT_DOSAGE_CHANGE: {\n        if (action.data.dosage.quantity >= 0) {\n          draft.nextDosagesQty[action.data.dosage.dosage] = action.data.dosage.quantity;\n          draft.nextDosageSum = Object.entries(draft.nextDosagesQty).reduce((prev, [k, v]) => {\n            return prev + parseFloat(k) * v;\n          }, 0);\n\n          if (draft.currentDosageSum < draft.nextDosageSum) {\n            draft.goalDosage = draft.nextDosageSum;\n          } else if (draft.currentDosageSum > draft.nextDosageSum) {\n            if (!draft.isModal) {\n              draft.goalDosage = 0;\n            }\n          } else {\n            draft.goalDosage = draft.nextDosageSum;\n          }\n        }\n        break;\n      }\n\n      case SET_GOAL_DOSAGE:\n        draft.goalDosage = action.data.dosage;\n        break;\n\n      case ALLOW_SPLITTING_UNSCORED_TABLET:\n        draft.allowSplittingUnscoredTablet = action.data.allow;\n        if (action.data.allow) {\n          draft.availableDosageOptions = [...new Set((draft.dosageOptions as PillDosage[]).map((option) => {\n            if (option.isScored) {\n              return option.dosage;\n            }\n            return [`${parseFloat(option.dosage) / 2}mg`, option.dosage];\n          }).flat())];\n        } else {\n          draft.availableDosageOptions = draft.regularDosageOptions!;\n          Object.entries(draft.currentDosagesQty).forEach(([k, v]) => {\n            draft.currentDosagesQty[k] = Math.floor(v);\n          });\n          Object.entries(draft.nextDosagesQty).forEach(([k, v]) => {\n            draft.nextDosagesQty[k] = Math.floor(v);\n          });\n        }\n\n        break;\n\n      case INTERVAL_START_DATE_CHANGE:\n        draft.intervalStartDate = action.data.intervalStartDate;\n        draft.intervalEndDate = action.data.intervalEndDate || draft.intervalEndDate;\n        draft.intervalUnit = action.data.intervalUnit || draft.intervalUnit;\n        draft.intervalDurationDays = action.data.intervalDurationDays || draft.intervalDurationDays;\n        draft.intervalCount = action.data.intervalCount || draft.intervalCount;\n        break;\n\n      case INTERVAL_END_DATE_CHANGE:\n        draft.intervalEndDate = action.data.intervalEndDate;\n        draft.intervalStartDate = action.data.intervalStartDate || draft.intervalStartDate;\n        draft.intervalUnit = action.data.intervalUnit || draft.intervalUnit;\n        draft.intervalDurationDays = action.data.intervalDurationDays || draft.intervalDurationDays;\n        draft.intervalCount = action.data.intervalCount || draft.intervalCount;\n        break;\n\n      case INTERVAL_UNIT_CHANGE:\n        draft.intervalUnit = action.data.unit;\n        draft.intervalCount = action.data.intervalCount;\n        draft.intervalEndDate = action.data.intervalEndDate;\n        draft.intervalDurationDays = action.data.intervalDurationDays;\n        break;\n\n      case INTERVAL_COUNT_CHANGE:\n        draft.intervalCount = action.data.count;\n        draft.intervalEndDate = action.data.intervalEndDate;\n        draft.intervalDurationDays = action.data.intervalDurationDays;\n        break;\n\n      case SET_GROWTH:\n        draft.growth = action.data.growth;\n        break;\n    }\n  });\n};\n\nexport type PrescriptionFormReducer = typeof reducer;\n","import React, {\n  forwardRef, useEffect, useImperativeHandle, useState,\n} from 'react';\nimport format from 'date-fns/esm/format';\nimport Input from 'antd/es/input';\n\nexport default forwardRef((props: any, ref) => {\n  const [date, setDate] = useState<Date | null>(null);\n  useEffect(() => {\n    console.group('DateEditor');\n    console.log('props: ', props);\n    console.log('ref: ', ref);\n    console.groupEnd();\n  }, []);\n  const handleDateChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const tempDate = new Date(e.target.value);\n    const newDate = new Date(tempDate.valueOf() + tempDate.getTimezoneOffset() * 60 * 1000);\n\n    setDate(newDate);\n  };\n\n  useImperativeHandle(\n    ref, () => {\n      return {\n        getValue: () => {\n          return date;\n        },\n        isCancelAfterEnd: () => {\n          return !date;\n        },\n        afterGuiAttached: () => {\n          if (!props.value) {\n            return;\n          }\n\n          setDate(props.value);\n        },\n      };\n    },\n  );\n\n  return (\n    <>\n      <Input type='date'\n             style={{ width: '100%', height: '100%' }}\n             value={date ? format(date, 'MM-dd-yyyy') : undefined} onChange={handleDateChanged}/>\n    </>\n  );\n});\n","import * as React from 'react';\nimport { FC, useEffect, useState } from 'react';\nimport Modal from 'antd/es/modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { css } from '@emotion/react';\nimport { useReducer } from 'reinspect';\nimport { PrescribedDrug, TableRowData } from '../../../types';\nimport { RootState } from '../../../redux/reducers';\nimport { TaperConfigState } from '../../../redux/reducers/taperConfig';\nimport PrescriptionForm from '../../PrescriptionForm/PrescriptionForm';\nimport { EDIT_PROJECTED_SCHEDULE_FROM_MODAL, REMOVE_DRUG_FORM } from '../../../redux/actions/taperConfig';\nimport reducer, {\n  initialState,\n  INIT_MODAL,\n  RowEditingModalReducer,\n  RowEditingModalState,\n} from './modalReducer';\n\ninterface Props {\n  visible: boolean;\n  clickedRowAndBefore: [TableRowData, TableRowData];\n  onCancel: (e: React.MouseEvent<HTMLElement>) => void;\n  onOk: (e: React.MouseEvent<HTMLElement>) => void;\n}\n\nconst ProjectedScheduleTableRowEditingModal: FC<Props> = ({\n  clickedRowAndBefore,\n  visible, onCancel, onOk,\n}) => {\n  // const [drugFromRow, setDrugFromRow] = useState<PrescribedDrug | null>(null);\n  const [state, modalDispatch] = useReducer<RowEditingModalReducer, RowEditingModalState>(reducer, initialState, (init) => initialState, 'ProjectedScheduleTableRowEditingModal');\n  const { prescribedDrugs } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  const { prescribedDrug, isModalInputComplete } = state;\n  const dispatch = useDispatch();\n  // const [prescribedDrugId, setPrescribedDrugId] = useState<number>(-1);\n\n  useEffect(() => {\n    console.group('ProjectedScheduleTableRowEditingModal');\n    console.log(clickedRowAndBefore);\n    modalDispatch({\n      type: INIT_MODAL,\n      data: { prevRow: clickedRowAndBefore[0], clickedRow: clickedRowAndBefore[1], prescribedDrugs },\n    });\n    console.groupEnd();\n  }, []);\n\n  const onClickOk = (e: React.MouseEvent<HTMLElement>) => {\n    console.log('Modal.onOk');\n    onOk(e);\n    dispatch({\n      type: EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\n      data: { prevRow: clickedRowAndBefore[0], clickedRow: clickedRowAndBefore[1], prescribedDrug },\n    });\n  };\n\n  const onClickCancel = (e: React.MouseEvent<HTMLElement>) => {\n    console.log('Modal.onCancel');\n    onCancel(e);\n    // TODO: flush prescribedDrug for modal..?\n    // dispatch({\n    //   type: REMOVE_DRUG_FORM,\n    // data: prescribedDrug.id,\n    // });\n  };\n\n  return prescribedDrug\n    && <Modal visible={visible}\n              onCancel={onClickCancel}\n              onOk={onClickOk}\n              okButtonProps={{ disabled: !isModalInputComplete }}\n              width={'70%'}\n              centered={true}\n              css={css`height: 90%;\n                overflow-y: scroll;\n                padding: 0;`}>\n      <PrescriptionForm prescribedDrug={prescribedDrug} title={''} modal={{ isModal: true, modalDispatch }}/>\n    </Modal>;\n};\n\nexport default ProjectedScheduleTableRowEditingModal;\n","import produce from 'immer';\nimport { Drug, PrescribedDrug, TableRowData } from '../../../types';\nimport {\n  ALLOW_SPLITTING_UNSCORED_TABLET,\n  CHOOSE_BRAND,\n  CHOOSE_FORM,\n  INTERVAL_COUNT_CHANGE,\n  INTERVAL_END_DATE_CHANGE,\n  INTERVAL_START_DATE_CHANGE,\n  INTERVAL_UNIT_CHANGE,\n  CURRENT_DOSAGE_CHANGE,\n  SET_GOAL_DOSAGE,\n  NEXT_DOSAGE_CHANGE,\n} from '../../PrescriptionForm/actions';\nimport drugs from '../../../redux/reducers/drugs';\nimport {\n  EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\n  SET_IS_INPUT_COMPLETE,\n  VALIDATE_INPUT_COMPLETION,\n} from '../../../redux/actions/taperConfig';\nimport { TaperConfigActions } from '../../../redux/reducers/taperConfig';\nimport { validateCompleteInputs } from '../../../utils/taperConfig';\n\nexport const INIT_MODAL = 'INIT_MODAL';\n\nexport interface InitModalAction {\n  type: typeof INIT_MODAL;\n  data: { prevRow: TableRowData; clickedRow: TableRowData, prescribedDrugs: PrescribedDrug[] | null }\n}\n\nexport type ModalActions =\n  | TaperConfigActions\n  | InitModalAction;\n\nexport interface RowEditingModalState {\n  drugs: Drug[];\n  prescribedDrug: PrescribedDrug | null;\n  initialPrescribedDrug: PrescribedDrug | null;\n  prescribedDrugs: PrescribedDrug[] | null;\n  isModalInputComplete: boolean;\n}\n\nexport const initialState: RowEditingModalState = {\n  drugs,\n  initialPrescribedDrug: null,\n  prescribedDrug: null,\n  prescribedDrugs: null,\n  isModalInputComplete: true,\n};\n\nconst prescriptionToDosages = (row: TableRowData): { dosage: string, quantity: number }[] => {\n  if (row.form === 'capsule' || row.form === 'tablet') {\n    if (row.prescription === null) {\n      return [];\n    }\n    const dosages = row.prescribedDrug.regularDosageOptions!.map((option) => ({ dosage: option, quantity: 0 }));\n\n    Object.entries(row.prescription.data.dosage).forEach(([dosage, quantity]) => {\n      dosages.find((dos) => dos.dosage === dosage)!.quantity = quantity;\n    });\n    return dosages;\n  }\n\n  return [{ dosage: '1mg', quantity: row.dosage }];\n};\n\nconst isModalInputComplete = (drug: PrescribedDrug): boolean => {\n  return drug.name !== ''\n    && drug.brand !== ''\n    && drug.form !== null\n    && drug.intervalEndDate !== null\n    && drug.intervalCount !== 0\n    && drug.nextDosages.length !== 0\n    && !drug.nextDosages.every((dosage) => dosage.quantity === 0);\n};\n\nconst reducer = (state: RowEditingModalState = initialState, action: ModalActions): RowEditingModalState => {\n  console.log('modalAction: ', action);\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case INIT_MODAL: {\n        const { prevRow, clickedRow, prescribedDrugs } = action.data;\n\n        draft.prescribedDrug = {\n          ...clickedRow.prescribedDrug,\n          isModal: true,\n          applyInSchedule: false,\n          currentDosageForm: prevRow.nextDosageForm,\n          nextDosageForm: clickedRow.nextDosageForm,\n          // id..?\n          allowChangePriorDosage: false,\n          intervalStartDate: clickedRow.startDate!,\n          intervalEndDate: clickedRow.endDate!,\n          intervalUnit: clickedRow.intervalUnit!,\n          intervalCount: clickedRow.intervalCount,\n          currentDosages: prescriptionToDosages(prevRow),\n          nextDosages: prescriptionToDosages(clickedRow),\n          currentOralDosageInfo: clickedRow.currentOralDosageInfo,\n          nextOralDosageInfo: clickedRow.nextOralDosageInfo,\n          currentDosageSum: prevRow.dosage,\n          nextDosageSum: clickedRow.dosage,\n          // targetDosage: prescribedDrugs?.find((drug) => drug.brand === clickedRow.brand)?.targetDosage\n          //   || (clickedRow.changeDirection === 'decrease' ? 0 : clickedRow.dosage),\n          targetDosage: clickedRow.goalDosage,\n        };\n\n        draft.initialPrescribedDrug = { ...draft.prescribedDrug };\n        break;\n      }\n\n      case CHOOSE_BRAND: {\n        const correspondingDrugData = draft.drugs.find((d) => d.options.find((option) => option.brand === action.data.brand))!;\n        const drug = draft.prescribedDrug!;\n        drug.name = correspondingDrugData.name;\n        drug.halfLife = correspondingDrugData.halfLife;\n        drug.brand = action.data.brand;\n        drug.form = null;\n        drug.currentDosageForm = null;\n        drug.nextDosageForm = null;\n        drug.allowChangePriorDosage = false;\n        drug.oralDosageInfo = null;\n        // drug.currentOralDosageInfo = null;\n        drug.nextOralDosageInfo = null;\n        drug.currentDosages = [];\n        drug.nextDosages = [];\n        draft.isModalInputComplete = false;\n        break;\n      }\n\n      case CHOOSE_FORM: {\n        const drug = draft.prescribedDrug!;\n        drug.form = action.data.form;\n        if (drug.currentDosageForm === null) {\n          drug.currentDosageForm = action.data.form;\n        }\n        drug.nextDosageForm = action.data.form;\n        drug.minDosageUnit = action.data.minDosageUnit;\n        // drug.currentDosages = [];\n        drug.nextDosages = [];\n\n        if (action.data.oralDosageInfo === null) {\n          if (drug.currentDosageForm !== 'oral solution' && drug.currentDosageForm !== 'oral suspension') {\n            drug.oralDosageInfo = action.data.oralDosageInfo;\n          }\n        } else {\n          drug.oralDosageInfo = action.data.oralDosageInfo;\n          drug.nextOralDosageInfo = action.data.oralDosageInfo;\n        }\n        // if (drug.currentDosageForm !== 'oral solution' && drug.currentDosageForm !== 'oral suspension'\n        //   && drug.nextDosageForm !== 'oral solution' && drug.nextDosageForm !== 'oral suspension') {\n        //   drug.oralDosageInfo = action.data.oralDosageInfo;\n        // }\n        drug.availableDosageOptions = action.data.availableDosageOptions;\n        drug.regularDosageOptions = action.data.regularDosageOptions;\n        draft.isModalInputComplete = false;\n        break;\n      }\n\n      case CURRENT_DOSAGE_CHANGE: {\n        const drug = draft.prescribedDrug!;\n        const idx = drug.currentDosages.findIndex((curDosage) => curDosage.dosage === action.data.dosage.dosage);\n\n        if (idx === -1) {\n          drug.currentDosages.push(action.data.dosage);\n        } else {\n          drug.currentDosages[idx] = action.data.dosage;\n        }\n\n        drug.currentDosageSum = drug.currentDosages.reduce((prev, { dosage, quantity }) => {\n          return prev + parseFloat(dosage) * quantity;\n        }, 0);\n        draft.isModalInputComplete = validateCompleteInputs([drug], isModalInputComplete);\n        break;\n      }\n\n      case NEXT_DOSAGE_CHANGE: {\n        const drug: PrescribedDrug = draft.prescribedDrug!;\n        const idx = drug.nextDosages.findIndex((nextDosage) => nextDosage.dosage === action.data.dosage.dosage);\n\n        if (idx === -1) {\n          drug.nextDosages.push(action.data.dosage);\n        } else {\n          drug.nextDosages[idx] = action.data.dosage;\n        }\n        drug.nextDosageSum = drug.nextDosages.reduce((prev, { dosage, quantity }) => {\n          return prev + parseFloat(dosage) * quantity;\n        }, 0);\n\n        draft.isModalInputComplete = validateCompleteInputs([drug], isModalInputComplete);\n\n        break;\n      }\n\n      case SET_GOAL_DOSAGE:\n        draft.prescribedDrug!.targetDosage = action.data.dosage;\n        break;\n\n      case ALLOW_SPLITTING_UNSCORED_TABLET:\n        draft.prescribedDrug!.allowSplittingUnscoredTablet = action.data.allow;\n        break;\n\n      case INTERVAL_START_DATE_CHANGE: {\n        const drug = draft.prescribedDrug!;\n        drug.intervalStartDate = action.data.intervalStartDate;\n        drug.intervalEndDate = action.data.intervalEndDate || drug.intervalEndDate;\n        drug.intervalDurationDays = action.data.intervalDurationDays || drug.intervalDurationDays;\n        drug.intervalUnit = action.data.intervalUnit || drug.intervalUnit;\n        drug.intervalCount = action.data.intervalCount || drug.intervalCount;\n\n        draft.isModalInputComplete = validateCompleteInputs([drug], isModalInputComplete);\n        break;\n      }\n\n      case INTERVAL_END_DATE_CHANGE: {\n        const drug = draft.prescribedDrug!;\n        drug.intervalEndDate = action.data.intervalEndDate;\n        drug.intervalStartDate = action.data.intervalStartDate || drug.intervalStartDate;\n        drug.intervalCount = action.data.intervalCount || drug.intervalCount;\n        drug.intervalUnit = action.data.intervalUnit || drug.intervalUnit;\n        drug.intervalDurationDays = action.data.intervalDurationDays || drug.intervalDurationDays;\n        break;\n      }\n\n      case INTERVAL_COUNT_CHANGE: {\n        const drug = draft.prescribedDrug!;\n        drug.intervalCount = action.data.count;\n        drug.intervalEndDate = action.data.intervalEndDate;\n        drug.intervalDurationDays = action.data.intervalDurationDays;\n        draft.isModalInputComplete = validateCompleteInputs([drug], isModalInputComplete);\n        break;\n      }\n\n      case INTERVAL_UNIT_CHANGE: {\n        const drug = draft.prescribedDrug!;\n        drug.intervalUnit = action.data.unit;\n        drug.intervalEndDate = action.data.intervalEndDate;\n        drug.intervalDurationDays = action.data.intervalDurationDays;\n        draft.isModalInputComplete = validateCompleteInputs([drug], isModalInputComplete);\n        break;\n      }\n\n      case VALIDATE_INPUT_COMPLETION: {\n        draft.isModalInputComplete = validateCompleteInputs([draft.prescribedDrug!], isModalInputComplete) && action.data!.isGoalDosageValid;\n        break;\n      }\n\n      case SET_IS_INPUT_COMPLETE:\n        draft.isModalInputComplete = action.data.isComplete;\n    }\n  });\n};\n\nexport default reducer;\n\nexport type RowEditingModalReducer = typeof reducer;\n","import * as React from 'react';\nimport { css } from '@emotion/react';\nimport TextArea from 'antd/es/input/TextArea';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport Button from 'antd/es/button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FC, useCallback, useRef } from 'react';\nimport { RootState } from '../../redux/reducers';\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\nimport { changeMessageForPatient, changeNoteAndInstructions } from '../../redux/actions/taperConfig';\n\nconst wrapperStyle = css`\n  display: flex; \n  margin-top: 40px; \n  width: 400px; \n  justify-content: space-between; \n  align-items: center;\n  \n  & > h3 {\n    margin: 0;\n  }\n`;\n\nconst NotesToShare: FC<{ editable: boolean }> = ({ editable }) => {\n  const {\n    instructionsForPatient, instructionsForPharmacy, taperConfigs, currentTaperConfigId,\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  const dispatch = useDispatch();\n\n  const patientInstructions = (editable: boolean) => {\n    if (editable) {\n      return instructionsForPatient;\n    }\n    return taperConfigs.find((config) => config.id === currentTaperConfigId)!.instructionsForPatient;\n  };\n\n  const pharmacyInstructions = (editable: boolean) => {\n    if (editable) {\n      return instructionsForPharmacy;\n    }\n\n    return taperConfigs.find((config) => config.id === currentTaperConfigId)!.instructionsForPharmacy;\n  };\n\n  const onChangeMessageForPatient = useCallback((e) => {\n    dispatch(changeMessageForPatient(e.target.value));\n  }, []);\n\n  const onChangeInstructionsForPharmacy = useCallback((e) => {\n    dispatch(changeNoteAndInstructions(e.target.value));\n  }, []);\n\n  const instructionsForPatientPlaceholder = useRef('e.g., If you experience severe withdrawal symptoms, go back to the previous dosage. / call your provider / come back to provider\\'s office.');\n\n  const onInstructionsForPatientCopied = useCallback(() => {\n    alert('Instructions for patient copied.');\n  }, []);\n\n  const onInstructionsForPharmacyCopied = useCallback(() => {\n    alert('Instructions for pharmacy copied.');\n  }, []);\n\n  return (\n    <>\n      <div>\n        <div css={wrapperStyle}>\n          <h3>Notes for Patient</h3>\n          {!editable && <CopyToClipboard text={instructionsForPatient} onCopy={onInstructionsForPatientCopied}>\n            <Button css={css`margin-left: 20px;`}>Copy to Clipboard</Button>\n          </CopyToClipboard>}\n        </div>\n        {editable\n          ? <TextArea\n            value={patientInstructions(editable)}\n            defaultValue={patientInstructions(editable)}\n            onChange={onChangeMessageForPatient}\n            placeholder={instructionsForPatientPlaceholder.current}\n            rows={6}\n            readOnly={!editable}\n          />\n          : <div css={css`margin: 10px 0 0 20px;`}>{patientInstructions(editable).split('\\n').map((string, i) => <p key={i}>{string}</p>)}</div>}\n\n      </div>\n\n      <div>\n        <div css={wrapperStyle}>\n          <h3>Notes for Pharmacy</h3>\n          {!editable && <CopyToClipboard text={instructionsForPharmacy} onCopy={onInstructionsForPharmacyCopied}>\n            <Button css={css`margin-left: 20px;`}>Copy to Clipboard</Button>\n          </CopyToClipboard>}\n        </div>\n\n        {editable\n          ? <TextArea value={pharmacyInstructions(editable)}\n                      defaultValue={pharmacyInstructions(editable)}\n                      onChange={onChangeInstructionsForPharmacy}\n                      rows={6}\n                      readOnly={!editable}\n          />\n          : <div css={css`margin: 10px 0 0 20px;`}>{pharmacyInstructions(editable).split('\\n').map((string, i) => <p key={i}>{string}</p>)}</div>}\n      </div>\n    </>\n  );\n};\n\nexport default NotesToShare;\n","import * as React from 'react';\nimport { forwardRef, useImperativeHandle, useState } from 'react';\nimport Input from 'antd/es/input';\n\nexport default forwardRef((props: any, ref) => {\n  const [value, setValue] = useState<number|null>(null);\n  const handleValueChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(parseFloat(e.target.value));\n  };\n\n  useImperativeHandle(\n    ref,\n    () => {\n      return {\n        getValue: () => value,\n        isCancelAfterEnd: () => !value,\n        afterGuiAttached: () => {\n          if (!props.value) {\n            return;\n          }\n          setValue(props.value);\n        },\n      };\n    },\n  );\n\n  return (\n    <>\n    <Input type='number'\n           style={{ width: '100%', height: '100%' }}\n           value={value || undefined}\n           min={0}\n           onChange={handleValueChange}\n    />\n    </>\n  );\n});\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  FC,\n} from 'react';\nimport { css } from '@emotion/react';\nimport { ProjectedScheduleChart, ProjectedScheduleTable } from '.';\nimport { RootState } from '../../redux/reducers';\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\nimport { PrescribedDrug, TableRowData } from '../../types';\n\nexport interface Schedule {\n  drugs: PrescribedDrug[];\n  data: TableRowData[];\n}\n\nconst ProjectedSchedule: FC<{ editable: boolean, title: string }> = ({ editable, title }) => {\n  const {\n    projectedSchedule, scheduleChartData, finalPrescription,\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n\n  const renderColorSamples = () => {\n    const drugs = ['F', 'C', ' S', 'P', 'E'];\n    return (\n      <div css={css`width: 400px;\n        height: 200px;\n        display: flex;\n        flex-direction: row;`}>\n        {['#00B894', '#E84393', '#0984C3', '#6C48F7', '#FF7575'].map((bgc, i) => (\n          <div key={i} css={css`width: 20%;\n            display: flex;\n            flex-direction: column;`}>\n            <div css={css`height: 50%;\n              background-color: ${bgc};\n              opacity: 0.5;\n              color: black;`}>{drugs[i]}</div>\n            <div css={css`height: 50%;\n              background-color: ${bgc};\n              opacity: 0.2;\n              color: black;`}>{drugs[i]}</div>\n          </div>))}\n      </div>\n    );\n  };\n  return (\n    <>\n      {projectedSchedule.data.length\n        ? <>\n          {/* <h3 css={css`font-size: 18px; */}\n          <h3 css={css`font-size: 1.1rem;\n            color: #636E72;`}>{title}</h3>\n          <p>Check all the rows that you would like to prescribe.</p>\n          {/* {renderColorSamples()} */}\n          <div css={css`display: flex;\n            //justify-content: space-between;\n            flex-direction: column;`}>\n\n            {projectedSchedule.data.length !== 0\n            // && <div css={css`flex: 3;`}>\n            && <div>\n              <ProjectedScheduleTable editable={editable} projectedSchedule={projectedSchedule}/>\n            </div>}\n            <div>\n              <div css={css`margin: 25px 0;`}>\n                <ProjectedScheduleChart scheduleChartData={scheduleChartData} width={400} height={400}/>\n              </div>\n            </div>\n          </div>\n\n        </> : <div>No schedule yet</div>\n      }\n    </>\n  );\n};\nexport default ProjectedSchedule;\n","import * as React from 'react';\nimport {\n  CartesianGrid, Legend, Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis,\n} from 'recharts';\nimport format from 'date-fns/format';\nimport { FC, useMemo, useRef } from 'react';\nimport rgbHex from 'rgb-hex';\nimport { css } from '@emotion/react';\nimport { ScheduleChartData } from '../../utils/taperConfig';\n\ninterface Props {\n  scheduleChartData: ScheduleChartData;\n  width: number;\n  height: number;\n}\n\nconst CustomizedAxisTick: FC<{ x: number, y: number, stroke: string, payload: { value: Date } }> = ({\n  x,\n  y,\n  stroke,\n  payload,\n}) => {\n  return (\n    <g transform={`translate(${x}, ${y})`}>\n      <text x={0} y={0} dy={16} textAnchor='end' fill='#666' transform='rotate(-35)'>\n        {format(payload.value, 'MM-dd')}\n      </text>\n    </g>\n  );\n};\n\nconst ProjectedScheduleChart: FC<Props> = ({ scheduleChartData, width, height }) => {\n  console.log('scheduleChartData');\n  console.log(scheduleChartData);\n\n  const lineColors = useRef<{ [drugName: string]: string }>({\n    Fluoxetine: `#${rgbHex(0, 184, 148)}`,\n    Citalopram: `#${rgbHex(232, 67, 147)}`,\n    Sertraline: `#${rgbHex(9, 132, 195)}`,\n    Paroxetine: `#${rgbHex(108, 72, 247)}`,\n    Escitalopram: `#${rgbHex(255, 117, 117)}`,\n  });\n\n  return (\n      // <LineChart data={scheduleChartData} width={width + 300} height={height}>\n      <LineChart data={scheduleChartData} width={width} height={height}>\n        <CartesianGrid strokeDasharray=\"3 3\"/>\n        <XAxis height={70} dataKey=\"timestamp\" type=\"number\" tick={(props) => <CustomizedAxisTick {...props}/>}\n               tickFormatter={(time) => format(time, 'MM-dd')}\n               domain={['auto', 'auto']} scale=\"time\"/>\n        <Legend\n          // chartWidth={width}\n          // width={300}\n          // layout='vertical'\n          // verticalAlign='middle'\n          // align='right'\n          wrapperStyle={{ paddingLeft: '10px' }}/>\n          {/* wrapperStyle={{ paddingLeft: '20px' }}/> */}\n        <YAxis dataKey=\"dosage\"/>\n        <Tooltip formatter={(value: number) => `${value}mg`} labelFormatter={(time: number) => format(time, 'MM-dd')}/>\n        {scheduleChartData.map((drug, i) => (\n          <Line dataKey=\"dosage\" data={drug.data} name={drug.brand} key={drug.brand} type={'stepAfter'}\n                stroke={lineColors.current[drug.name]}/>\n        ))}\n      </LineChart>\n  );\n};\n\nexport default ProjectedScheduleChart;\n","import * as React from 'react';\nimport {\n  FC, useCallback, useRef, useState,\n} from 'react';\nimport { useState as useStateLog } from 'reinspect';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AgGridReact } from 'ag-grid-react';\nimport {\n  CheckboxSelectionCallbackParams,\n  ColDef, ColumnApi,\n  FirstDataRenderedEvent, GridApi,\n  GridReadyEvent, RowDataChangedEvent, RowDoubleClickedEvent,\n  RowSelectedEvent,\n  SelectionChangedEvent, ValueFormatterParams, ValueSetterParams,\n} from 'ag-grid-community';\nimport format from 'date-fns/esm/format';\nimport { css } from '@emotion/react';\nimport { RootState } from '../../redux/reducers';\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\nimport {\n  ADD_NEW_DRUG_FORM, OPEN_MODAL, OpenModalAction,\n  SCHEDULE_ROW_SELECTED,\n  ScheduleRowSelectedAction,\n} from '../../redux/actions/taperConfig';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport './tableStyles.css';\nimport DateEditor from './DateEditor';\nimport NumberEditor from './NumberEditor';\nimport { Schedule } from './ProjectedSchedule';\nimport ProjectedScheduleTableRowEditingModal from './Modal/ProjectedScheduleTableRowEditingModal';\nimport { PrescribedDrug, TableRowData } from '../../types';\nimport PrescriptionForm from '../PrescriptionForm/PrescriptionForm';\n\nconst ProjectedScheduleTable: FC<{ editable: boolean, projectedSchedule: Schedule }> = ({\n  editable,\n  projectedSchedule,\n}) => {\n  const {\n    tableSelectedRows, lastPrescriptionFormId, prescribedDrugs,\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  const dispatch = useDispatch();\n  const [gridApi, setGridApi] = useState<GridApi | null>(null);\n  const [gridColumnApi, setGridColumnApi] = useState<ColumnApi | null>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [clickedRowAndBefore, setClickedRowAndBefore] = useState<[TableRowData, TableRowData] | null>(null);\n\n  const onGridReady = (params: GridReadyEvent) => {\n    console.log('onGridReady');\n    setGridColumnApi(params.columnApi);\n    setGridApi(params.api);\n    const selectedRows = projectedSchedule.data.reduce((res, row, i) => {\n      if (row.selected) {\n        res.push(i);\n      }\n      return res;\n    }, [] as number[]);\n    params.api.forEachNode((row) => {\n      if (selectedRows.includes(row.rowIndex!)) {\n        row.setSelected(true);\n      }\n    });\n    // params.api.sizeColumnsToFit();\n    // params.columnApi.autoSizeAllColumns();\n  };\n\n  const rowStyle = useRef<{ [p: string]: string | number }>({\n    fontSize: '0.8rem',\n  });\n\n  const defaultColumnDef = useRef<ColDef>({\n    resizable: true,\n    suppressMovable: true,\n  });\n\n  const columnDefs = useRef<ColDef[]>(\n    [{\n      headerName: '',\n      field: 'prescribe',\n      hide: !editable,\n      width: 10,\n      checkboxSelection: (params: CheckboxSelectionCallbackParams) => !params.data.isPriorDosage && editable,\n      cellStyle: { display: 'flex', justifyContent: 'center', alignItems: 'center' },\n      suppressSizeToFit: false,\n    },\n    {\n      headerName: 'Medication',\n      // field: 'drug',\n      field: 'brand',\n      sortable: true,\n      unSortIcon: true,\n      minWidth: 80,\n      cellStyle: { display: 'flex', justifyContent: 'flex-start', alignItems: 'center' },\n    }, {\n      headerName: 'Dosage',\n      field: 'dosage',\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\n      cellEditor: 'numberEditor',\n      maxWidth: 100,\n      valueFormatter: (params: ValueFormatterParams) => `${params.value} mg`,\n      // need to keep below valueSetter\n      valueSetter: (params: ValueSetterParams) => params.newValue,\n      // valueSetter: valueSetter((x: string) => parseFloat(x) >= 0),\n      cellStyle: { display: 'flex', justifyContent: 'flex-start', alignItems: 'center' },\n    }, {\n      headerName: 'Start Date',\n      field: 'startDate',\n      sortable: true,\n      unSortIcon: true,\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\n      // cellEditor: 'datePicker',\n      minWidth: 150,\n      maxWidth: 150,\n      valueFormatter: (params: ValueFormatterParams) => {\n        return params.value !== null ? format(params.value, 'MM/dd/yyyy') : '';\n      },\n      // need to keep below valueSetter\n      valueSetter: (params: ValueSetterParams) => params.newValue,\n      cellStyle: { display: 'flex', justifyContent: 'flex-start', alignItems: 'center' },\n      suppressSizeToFit: false,\n    }, {\n      headerName: 'End Date',\n      field: 'endDate',\n      sortable: true,\n      unSortIcon: true,\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\n      // cellEditor: 'datePicker',\n\n      minWidth: 150,\n      maxWidth: 150,\n      valueFormatter: (params: ValueFormatterParams) => {\n        return params.value !== null ? format(params.value, 'MM/dd/yyyy') : '';\n      },\n      // need to keep below valueSetter\n      valueSetter: (params: ValueSetterParams) => params.newValue,\n      cellStyle: { display: 'flex', justifyContent: 'flex-start', alignItems: 'center' },\n      suppressSizeToFit: false,\n    }, {\n      headerName: 'Prescription',\n      field: 'prescription.message',\n      suppressSizeToFit: false,\n      minWidth: 700,\n      cellStyle: { display: 'flex', justifyContent: 'flex-start', alignItems: 'center' },\n      flex: 1,\n      // editable: (params: EditableCallbackParams) => editable && !params.data.isPriorDosage,\n    }],\n  );\n\n  const rowClassRules = useRef({\n    PriorDosage: (params: any) => params.data.isPriorDosage,\n    Fluoxetine: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Fluoxetine',\n    Citalopram: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Citalopram',\n    Sertraline: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Sertraline',\n    Paroxetine: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Paroxetine',\n    Escitalopram: (params: any) => !params.data.isPriorDosage && params.data.drug === 'Escitalopram',\n  });\n\n  const onSelectionChanged = (e: SelectionChangedEvent) => {\n    const selectedNodes = e.api.getSelectedNodes().map((row) => row.rowIndex);\n    dispatch<ScheduleRowSelectedAction>({ type: SCHEDULE_ROW_SELECTED, data: selectedNodes });\n  };\n\n  const onRowDataChanged = (e: RowDataChangedEvent) => {\n    e.api.forEachNode((row) => {\n      if (tableSelectedRows.includes(row.rowIndex)) {\n        row.setSelected(true);\n      }\n    });\n  };\n\n  const onFirstDataRendered = (params: FirstDataRenderedEvent) => {\n    // console.log('allColumns: ', params.columnApi.getAllColumns());\n    params.columnApi.autoSizeColumns(['brand', 'startDate', 'endDate']);\n    // , 'prescription.message']);\n  };\n\n  const openModal = (event: RowDoubleClickedEvent) => {\n    console.group('openModal');\n    console.log('event: ', event);\n    // if (event.rowIndex !== 0) {\n    if (event.data.rowIndexInPrescribedDrug !== -1) {\n      console.log('setDoubleClickedRowAndBefore');\n      const prevAndDoubleClickedRow: [TableRowData, TableRowData] = [] as unknown as [TableRowData, TableRowData];\n\n      event.api.forEachNode((row, i) => {\n        if (row.data.prescribedDrugId === event.data.prescribedDrugId\n          && row.data.rowIndexInPrescribedDrug === event.data.rowIndexInPrescribedDrug - 1) {\n          prevAndDoubleClickedRow[0] = row.data;\n          prevAndDoubleClickedRow[1] = event.data;\n        }\n        return null;\n      });\n      console.log('prevAndDoubleClickedRow: ', prevAndDoubleClickedRow);\n      setClickedRowAndBefore(prevAndDoubleClickedRow);\n      // not changed yet..\n      console.log('doubleClickedRowAndBefore: ', clickedRowAndBefore);\n      setShowModal(true);\n      // dispatch({\n      //   type: OPEN_MODAL_FOR_EDITING_TABLE_ROW,\n      //   data: [event.api.getRowNode(`${parseFloat(event.node.id!) - 1}`)?.data, event.data],\n      // });\n    }\n    console.groupEnd();\n  };\n\n  const handleModalCancel = () => {\n    setShowModal(false);\n    // setDrugFromDoubleClickedRow(null);\n  };\n\n  const handleModalOk = () => {\n    setShowModal(false);\n    // setDrugFromDoubleClickedRow(null);\n  };\n\n  return (\n    <div className='ProjectedScheduleTable' css={css`\n      display: flex;\n      flex-direction: row;\n      height: 300px;\n      width: 100%;`}>\n      <div className='ag-theme-alpine'\n           css={css`\n             width: 100%;\n             flex-grow: 1;\n             overflow: hidden;\n\n             .ag-header-cell-label {\n               //justify-content: center !important;\n             }\n\n             .ag-header-cell-text {\n               font-size: 0.8rem;\n             }\n\n             div[col-id='prescribe'] {\n               width: 10px;\n               padding: 0;\n               margin: auto;\n               justify-content: center;\n             }\n\n             .ag-selection-checkbox {\n               margin: 0 !important;\n             }\n           `}>\n        <AgGridReact\n          rowData={projectedSchedule.data}\n          defaultColDef={defaultColumnDef.current}\n          columnDefs={columnDefs.current}\n          rowSelection='multiple'\n          rowClassRules={rowClassRules.current}\n          rowHeight={35}\n          rowStyle={rowStyle.current}\n          // onRowDoubleClicked={editable ? openModal : undefined}\n          onRowClicked={editable ? openModal : undefined}\n          onRowDataChanged={onRowDataChanged}\n          onSelectionChanged={onSelectionChanged}\n          onFirstDataRendered={onFirstDataRendered}\n          onGridReady={onGridReady}\n          // onCellEditingStopped={onCellEditingStopped}\n          frameworkComponents={{ datePicker: DateEditor, numberEditor: NumberEditor }}\n          suppressDragLeaveHidesColumns={true}\n          suppressScrollOnNewData={true}\n          suppressRowClickSelection={true}\n          skipHeaderOnAutoSize={true}\n        />\n        {clickedRowAndBefore\n        && showModal\n        && <ProjectedScheduleTableRowEditingModal\n          clickedRowAndBefore={clickedRowAndBefore}\n          visible={showModal} onCancel={handleModalCancel}\n          onOk={handleModalOk}/>}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectedScheduleTable;\n","import ProjectedSchedule from './ProjectedSchedule';\nimport ProjectedScheduleTable from './ProjectedScheduleTable';\nimport ProjectedScheduleChart from './ProjectedScheduleChart';\n\nexport { ProjectedSchedule, ProjectedScheduleTable, ProjectedScheduleChart };\n","import { useEffect, useState } from 'react';\n\ntype Type = (time: 'Current'|'Next', priorDosageSum: number, upcomingDosageSum: number, growth: 'linear' | 'exponential') => string | null;\n\nconst useDosageSumDifferenceMessage: Type = (time, currentDosageSum, nextDosageSum, growth) => {\n  const [dosageDifferenceMessage, setDosageDifferenceMessage] = useState<string|null>(null);\n\n  useEffect(() => {\n    if (time === 'Next') {\n      const change = currentDosageSum > nextDosageSum ? 'decrease'\n        : currentDosageSum < nextDosageSum ? 'increase'\n          : null;\n\n      const difference = growth === 'linear'\n        ? `${Math.abs(currentDosageSum - nextDosageSum)} mg`\n        : currentDosageSum === 0\n          ? '100%'\n          : `${Math.abs((nextDosageSum - currentDosageSum) / currentDosageSum * 100).toFixed(2)} %`;\n\n      if (!change) {\n        setDosageDifferenceMessage(null);\n      } else {\n        setDosageDifferenceMessage(`${difference} ${change}`);\n      }\n    }\n  }, [currentDosageSum, nextDosageSum, growth]);\n\n  return dosageDifferenceMessage;\n};\n\nexport default useDosageSumDifferenceMessage;\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { FC } from 'react';\nimport { Provider } from 'react-redux';\nimport { StateInspector } from 'reinspect';\nimport App from './App';\nimport store from './redux/store';\n\nconst AppComponentOnMode: FC<{ component: JSX.Element, mode?: string }> = ({ component, mode }) => (mode && mode === 'production'\n  ? <>{component}</>\n  : <StateInspector name=\"PrescriptionForms\">{component}</StateInspector>);\nconst AppComponent: JSX.Element = <Provider store={store}><App/></Provider>;\n\nReactDOM.render(\n  <AppComponentOnMode component={AppComponent} mode={process.env.NODE_ENV}/>,\n  document.querySelector('#root'),\n);\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router';\nimport { GrNotification } from 'react-icons/gr';\nimport { css } from '@emotion/react';\nimport { useHistory } from 'react-router-dom';\nimport NavBar from '../components/NavBar';\nimport PatientsList from '../components/PatientsList';\nimport {\n  LOAD_PATIENTS_REQUEST,\n  LoadPatientsRequestAction,\n} from '../redux/actions/user';\nimport { UserState } from '../redux/reducers/user';\nimport { RootState } from '../redux/reducers';\nimport PatientPage from './PatientPage';\n\nconst HomePage = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { me, patients, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\n\n  useEffect(() => {\n    // if (!me) {\n    //   console.log('Move from HomePage to LoginPage');\n    //   history.push('/');\n    // } else {\n    dispatch<LoadPatientsRequestAction>({\n      type: LOAD_PATIENTS_REQUEST,\n      data: me!.id,\n    });\n    // }\n  }, [me]);\n\n  return (\n        <section css={css`\n          //flex: 1;\n          height: 100%;\n          `}>\n          <Switch>\n            <Route exact path=\"/\" render={() => <PatientsList patients={patients}/>}/>\n            <Route path=\"/patient/:patientId\" component={PatientPage}/>\n          </Switch>\n        </section>\n  );\n};\n\nexport default HomePage;\n","import * as React from 'react';\n\nconst LoggingConfigurationPage = () => <div>Logging Configuration page</div>;\n\nexport default LoggingConfigurationPage;\n","import * as React from 'react';\nimport {\n  FC, useCallback, useEffect, useRef,\n} from 'react';\nimport { css } from '@emotion/react';\nimport Button from 'antd/es/button';\nimport Input from 'antd/es/input';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport { format } from 'date-fns';\nimport { ProjectedScheduleChart, ProjectedScheduleTable } from '../components/Schedule';\nimport { RootState } from '../redux/reducers';\nimport { UserState } from '../redux/reducers/user';\nimport { TaperConfigState } from '../redux/reducers/taperConfig';\nimport { CHANGE_PATIENT_NOTES, SAVE_PATIENT_NOTES_REQUEST } from '../redux/actions/user';\n\nconst patientPageHeaderStyle = css`\n  & > h2 {\n    //font-size: 32px;\n    font-size: 1.5rem;\n    font-weight: bold;\n    margin: 0;\n  }\n\n  &:nth-child(2) {\n    //font-size: 20px;\n    font-size: 0.8rem;\n  }\n\n  & > hr {\n    border: none;\n    width: 100%;\n    height: 2px;\n    margin: 8px auto;\n    background-color: #D1D1D1;\n  }\n`;\n\nconst PatientLandingPage: FC = () => {\n  const history = useHistory();\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\n  const {\n    projectedSchedule,\n    scheduleChartData,\n    currentTaperConfigId,\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  const buttonStyle = useRef(css`\n    border-radius: 10px;\n    background-color: #0984E3;\n  `);\n\n  const onClickNewSchedule = useCallback(() => {\n    // history.push(`/taper-configuration/create/?clinicianId=${me!.id}&patientId=${currentPatient!.id}`);\n    history.push(`${location.pathname}/taper-configuration/create/`);\n  }, [me, currentPatient]);\n\n  const onClickAdjustSchedule = useCallback(() => {\n    history.push(`${location.pathname}/taper-configuration/edit/revisit`);\n  }, [currentPatient]);\n\n  const renderMedicationSchedule = useCallback(() => {\n    // if (!currentPatient!.taperingConfiguration) {\n    if (!currentTaperConfigId) {\n      return <p css={css`\n        //font-size: 20px;\n        font-size: 1rem;\n        color: #c7c5c5;\n        margin-top: 46px;\n      `}>No medication schedule created</p>;\n    }\n    return <div css={css`margin-top: 15px;`}>\n      <ProjectedScheduleTable editable={false}\n                              projectedSchedule={projectedSchedule!}/>\n    </div>;\n  }, [currentPatient]);\n\n  const onChangePatientNotes = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    dispatch({\n      type: CHANGE_PATIENT_NOTES,\n      data: e.target.value,\n    });\n  };\n\n  const onClickNotesSaveButton = () => {\n    dispatch({\n      type: SAVE_PATIENT_NOTES_REQUEST,\n      data: { notes: currentPatient!.notes, patientId: currentPatient!.id },\n    });\n  };\n\n  const renderSymptomTracker = () => {\n    return <p css={css`\n      //font-size: 20px;\n      font-size: 1rem;\n      color: #c7c5c5;\n      margin-top: 46px;\n    `}>No symptom tracker configuration created.</p>;\n  };\n\n  const renderChart = useCallback(() => {\n    const chartAreaStyle = css`\n      width: 95%;\n      height: 350px;\n      border-radius: 17px;\n      color: #c7c5c5;\n      //font-size: 20px;\n      font-size: 1rem;\n      border: 1px solid #707070;\n      line-height: 300px;\n      text-align: center;\n    `;\n\n    if (scheduleChartData.length !== 0) {\n      return <div css={css`\n        //height: 400px;\n        //width: 400px;\n        margin-top: 56px;`}>\n        <ProjectedScheduleChart scheduleChartData={scheduleChartData} width={400} height={400}/>\n      </div>;\n    }\n\n    return <div>\n      <div css={css`\n        text-align: center;\n        //font-size: 20px;\n        font-size: 1rem;\n        color: #636e72;`}>Projected taper progress\n      </div>\n      <div css={chartAreaStyle}>No data.\n      </div>\n    </div>;\n  }, [scheduleChartData]);\n\n  const renderButton = useCallback(() => {\n    // return currentPatient!.taperingConfiguration\n    return currentTaperConfigId !== null\n      ? <Button type='primary' css={buttonStyle.current} onClick={onClickAdjustSchedule}>Edit Schedule</Button>\n      : <Button type='primary' css={buttonStyle.current} onClick={onClickNewSchedule}>Create New</Button>;\n  }, [currentPatient]);\n\n  const renderNoteSection = () => {\n    return (\n      <>\n        <h3>Notes</h3>\n        <Input.TextArea\n          css={css`border-radius: 17px;`}\n          value={currentPatient!.notes || ''}\n          onChange={onChangePatientNotes}\n          rows={6}/>\n        <Button\n          onClick={onClickNotesSaveButton}\n          type={'primary'}\n          css={css`border-radius: 10px;\n            background-color: #0984E3;\n            margin-top: 5px;\n            float: right;`}>Save</Button>\n      </>\n    );\n  };\n\n  return (\n    <div css={css`\n      overflow-y: scroll;\n\n      h3 {\n        //font-size: 26px;\n        font-size: 1.2rem;\n        color: #636272;\n      }`}\n         className='patient-initial'>\n      <div css={patientPageHeaderStyle}>\n        <h2>{currentPatient!.name}</h2>\n        <div>Last Visit: {format(currentPatient!.recentVisit, 'MM/dd/yyyy')}</div>\n        <hr/>\n      </div>\n\n      {/* <div css={css`display: flex; */}\n      {/*  justify-content: space-between;`}> */}\n      <div css={css`\n        width: ${currentTaperConfigId === null ? '40%' : '100%;'}`}>\n        {/* <div css={css`width: 447px;`}> */}\n        {/* <div css={css`width: 100%;`}> */}\n        <div css={css`display: flex;\n          align-items: center;\n          justify-content: space-between;`}>\n          <h3>Medication Schedule</h3>\n          {renderButton()}\n        </div>\n\n        {renderMedicationSchedule()}\n\n        {currentTaperConfigId !== null && <div css={css`padding-right: 20px;`}>\n          {renderChart()}\n        </div>}\n      </div>\n      {/* <div css={css`width: 40%;`}> */}\n      {/*  <div css={css`display: flex; */}\n      {/*    align-items: center; */}\n      {/*    justify-content: space-between; */}\n      {/*    margin-top: 70px;`}> */}\n      {/*    <h3>Symptom Tracker</h3> */}\n      {/*    <Button type='primary' */}\n      {/*            css={css` */}\n      {/*              border-radius: 10px; */}\n      {/*              background-color: #0984E3;`} */}\n      {/*            disabled={true}> */}\n      {/*      Create New</Button> */}\n      {/*  </div> */}\n      {/*  {renderSymptomTracker()} */}\n      {/* </div> */}\n      {/* </div> */}\n      <hr/>\n      {renderNoteSection()}\n    </div>\n  );\n};\n\nexport default PatientLandingPage;\n","import * as React from 'react';\nimport {\n  FC, useEffect,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RouteChildrenProps } from 'react-router/ts4.0';\nimport { useRouteMatch } from 'react-router';\nimport { css } from '@emotion/react';\nimport { format } from 'date-fns';\nimport { Route, Switch } from 'react-router-dom';\nimport { UserState } from '../redux/reducers/user';\nimport { RootState } from '../redux/reducers';\nimport {\n  EMPTY_PRESCRIBED_DRUGS, EMPTY_TAPER_CONFIG_PAGE, EmptyPrescribedDrugs, EmptyTaperConfigPage,\n  FETCH_TAPER_CONFIG_REQUEST,\n  FetchTaperConfigRequestAction,\n} from '../redux/actions/taperConfig';\nimport { SET_CURRENT_PATIENT, SetCurrentPatientAction } from '../redux/actions/user';\nimport { checkCurrentPatientAndRender } from '../utils/pages';\nimport TaperConfigurationPage from './TaperConfiguration/TaperConfigurationPage';\nimport PatientLandingPage from './PatientLandingPage';\n\nconst pageStyle = css`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin-right: 10px;\n`;\n\nconst PatientPage: FC<RouteChildrenProps<{ patientId: string }>> = ({ match }) => {\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\n  const dispatch = useDispatch();\n  const { path, url } = useRouteMatch();\n\n  useEffect(() => {\n    const patientId = parseInt(match!.params.patientId, 10);\n\n    dispatch<SetCurrentPatientAction>({\n      type: SET_CURRENT_PATIENT,\n      data: patientId,\n    });\n\n    dispatch<FetchTaperConfigRequestAction>({\n      type: FETCH_TAPER_CONFIG_REQUEST,\n      data: { patientId, clinicianId: me!.id },\n    });\n\n    console.group('PatientPage');\n    console.log('url: ', url);\n    console.log('path: ', path);\n    console.groupEnd();\n    return () => {\n      dispatch<EmptyTaperConfigPage>({\n        type: EMPTY_TAPER_CONFIG_PAGE,\n      });\n    };\n  }, []);\n\n  return (\n    <>\n      {!currentPatient ? <div>No such patient</div>\n        : <div css={pageStyle}>\n          <Switch>\n            <Route exact path={`${path}`} component={PatientLandingPage}/>\n            <Route path={`${path}/taper-configuration`}\n                   render={checkCurrentPatientAndRender(currentPatient, TaperConfigurationPage)}/>\n          </Switch>\n        </div>\n      }\n    </>\n  );\n};\n\nexport default PatientPage;\n","import * as React from 'react';\n\nconst SymptomReportPage = () => <div>Symptom Report page</div>;\n\nexport default SymptomReportPage;\n","import * as React from 'react';\nimport Button from 'antd/es/button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  useCallback, useContext, useEffect, useRef,\n} from 'react';\nimport { useHistory, useLocation } from 'react-router';\nimport { useRouteMatch } from 'react-router-dom';\nimport { css } from '@emotion/react';\nimport { RootState } from '../../redux/reducers';\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\nimport {\n  SHARE_WITH_PATIENT_APP_REQUEST, SHARE_WITH_PATIENT_EMAIL_REQUEST,\n  TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT,\n} from '../../redux/actions/taperConfig';\nimport ProjectedSchedule from '../../components/Schedule/ProjectedSchedule';\nimport { ShareWithAppIcon, ShareWithEmailIcon, ShareWithPdfIcon } from '../../assets/icons';\nimport NotesToShare from '../../components/Schedule/NotesToShare';\n\nconst wrapperStyle = css`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n\nconst scheduleStyle = css`\n  width: 100%;\n  padding: 21px 38px 71px 38px;\n  background-color: white;\n  border-radius: 17px;\n  //overflow-y: scroll;\n  margin-bottom: 34px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n`;\n\nconst buttonStyle = css`\n  margin-bottom: 21px;\n  display: flex;\n  justify-content: space-between;\n\n  & > button {\n    width: 180px;\n    height: 38px;\n    border-radius: 10px;\n  }\n;\n\n  & > button.return-to-patient-page {\n    width: 250px;\n  }`;\n\n// TODO: remove shareProjectedScheduleWithPatient related parts\n\nconst ConfirmTaperConfiguration = () => {\n  const history = useHistory();\n  const { url } = useRouteMatch();\n  const urlSearchParams = useRef<URLSearchParams>(new URLSearchParams(useLocation().search));\n  const { isInputComplete, patientId } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  const dispatch = useDispatch();\n\n  const shareWithApp = useCallback(() => {\n    dispatch({\n      type: SHARE_WITH_PATIENT_APP_REQUEST,\n    });\n  }, []);\n\n  const shareWithEmail = useCallback(() => {\n    dispatch({\n      type: SHARE_WITH_PATIENT_EMAIL_REQUEST,\n    });\n  }, []);\n\n  const shareWithPdf = () => {\n\n  };\n\n  const moveToEditPage = () => {\n    history.push(url.replace('confirm', 'edit'));\n  };\n\n  const returnToPatientsPage = () => {\n    history.push(`/patient/${patientId}`);\n  };\n\n  return (\n    <div css={wrapperStyle}>\n      <div css={scheduleStyle}>\n        <h1 css={css`font-weight: bold;\n          font-size: 1.5rem;\n          //text-align: center;\n          text-align: left;\n        `}>\n          Prescription has been added.</h1>\n        <div css={css`margin-top: 44px;`}>\n          <h3>Share projected schedule and notes with patient</h3>\n          <div css={css`\n            display: flex;\n\n            & > button {\n              margin-right: 10px;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              flex-direction: column;\n            }`}>\n            <Button onClick={shareWithApp}>\n              App\n            </Button>\n            <Button onClick={shareWithEmail}>\n              E-mail\n            </Button>\n            <Button onClick={shareWithPdf}>\n              PDF\n            </Button>\n          </div>\n        </div>\n        <NotesToShare editable={false}/>\n      </div>\n      <div css={buttonStyle}>\n        <Button onClick={moveToEditPage}>Previous</Button>\n        <Button type='primary' className='return-to-patient-page' onClick={returnToPatientsPage}>Return to Patient\n          Page</Button>\n      </div>\n    </div>);\n};\n\nexport default ConfirmTaperConfiguration;\n","import * as React from 'react';\nimport Button from 'antd/es/button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  useCallback, useEffect, useRef,\n} from 'react';\nimport {\n  useHistory, useLocation,\n} from 'react-router';\nimport { css } from '@emotion/react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { PrescribedDrug } from '../../types';\nimport PrescriptionForm from '../../components/PrescriptionForm/PrescriptionForm';\nimport { RootState } from '../../redux/reducers';\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\nimport { ADD_NEW_DRUG_FORM } from '../../redux/actions/taperConfig';\n\nconst wrapperStyle = css`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  //overflow-y: hidden;\n  //height: 100%;\n`;\n\nconst buttonsStyle = css`\n  //margin-bottom: 21px;\n  display: flex;\n  justify-content: space-between;\n\n  & > button {\n    width: 180px;\n    height: 38px;\n    border-radius: 10px;\n  }\n`;\n\nconst CreateTaperConfiguration = () => {\n  const {\n    prescribedDrugs,\n    isInputComplete,\n    patientId,\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const { path, url } = useRouteMatch();\n\n  // useEffect(() => {\n  //   console.group('CreateTaperConfiguration');\n  //   console.log('history: ', history);\n  //   console.log('location: ', location);\n  //   console.log('path: ', path);\n  //   console.log('url: ', url);\n  //   console.groupEnd();\n  // });\n\n  const addNewPrescriptionForm = useCallback(() => {\n    dispatch({\n      type: ADD_NEW_DRUG_FORM,\n      data: null,\n    });\n  }, []);\n\n  const prescriptionFormStyle = css`\n    padding-top: ${prescribedDrugs && prescribedDrugs.length !== 0 ? '25px' : '0px'};\n    background-color: white;\n    border-radius: 17px;\n    //height: 100%;\n    //overflow-y: scroll;\n    margin-bottom: 34px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  `;\n\n  const moveToEditPage = () => {\n    history.push(url.replace('create', 'edit'));\n  };\n\n  const renderPrescriptionForms = (prescribedDrugs: PrescribedDrug[]) => {\n    const drugsToRender = prescribedDrugs.filter((prescribedDrug) => !prescribedDrug.prevVisit && !prescribedDrug.isModal);\n\n    return drugsToRender.map(\n      (drug, i) => {\n        return <div className='create-taper-configuration-prescription-forms' key={`PrescriptionForm${drug.id}-wrapper`}\n                    css={prescriptionFormStyle}>\n          <PrescriptionForm\n            key={`PrescriptionForm${drug.id}`}\n            prescribedDrug={drug}\n            addNewPrescriptionForm={addNewPrescriptionForm}\n            // index={i}\n            modal={{ isModal: false }}\n            title={`Medication #${i + 1}`}\n            numberOfMedications={drugsToRender.length}/>\n        </div>;\n      },\n    );\n  };\n\n  const moveToPatientPage = () => {\n    history.push(`/patient/${patientId}`);\n  };\n  return (\n    <div\n      className='create-taper-configuration'\n      css={wrapperStyle}>\n      {prescribedDrugs && renderPrescriptionForms(prescribedDrugs)}\n      <div css={buttonsStyle} className='create-taper-config-buttons'>\n        <Button onClick={moveToPatientPage}>Cancel</Button>\n        <Button css={css`background-color: #0984E3;`} type='primary' onClick={moveToEditPage}\n                disabled={!isInputComplete}>Next</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateTaperConfiguration;\n","import * as React from 'react';\nimport Button from 'antd/es/button';\nimport { useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router';\nimport { css } from '@emotion/react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ProjectedSchedule from '../../components/Schedule/ProjectedSchedule';\nimport NotesToShare from '../../components/Schedule/NotesToShare';\nimport {\n  ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\n  CLEAR_SCHEDULE,\n  MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\n} from '../../redux/actions/taperConfig';\nimport { RootState } from '../../redux/reducers';\nimport { TaperConfigState } from '../../redux/reducers/taperConfig';\n\nconst wrapperStyle = css`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst projectedScheduleStyle = css`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  background-color: white;\n  padding: 21px 38px 71px 38px;\n  border-radius: 17px;\n  margin-bottom: 34px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n`;\n\nconst buttonStyle = css`\n  margin-bottom: 21px;\n  display: flex;\n  justify-content: space-between;\n\n  & > button {\n    width: 180px;\n    height: 38px;\n    border-radius: 10px;\n  }\n`;\n\nconst EditTaperConfiguration = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const { url } = useRouteMatch();\n  const dispatch = useDispatch();\n  const {\n    clinicianId,\n    patientId,\n    currentTaperConfigId,\n    instructionsForPatient,\n    instructionsForPharmacy,\n    projectedSchedule,\n    scheduleChartData,\n  } = useSelector<RootState, TaperConfigState>((state) => state.taperConfig);\n  useEffect(() => {\n    // Triggers GENERATE_SCHEDULE event in saga\n    if (!location.pathname.includes('revisit')) {\n      dispatch({\n        type: MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\n      });\n    }\n  }, []);\n\n  const moveToPrevious = () => {\n    if (location.pathname.includes('revisit')) {\n      history.goBack();\n    } else {\n      console.log('location.pathname doesnt include revisit');\n      history.push(url.replace('edit', 'create'));\n      dispatch({\n        type: CLEAR_SCHEDULE,\n      });\n    }\n  };\n\n  const saveTaperConfigurationAndMoveToConfirmPage = () => {\n    dispatch({\n      type: ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\n      data: {\n        currentTaperConfigId,\n        clinicianId,\n        patientId,\n        projectedSchedule,\n        scheduleChartData,\n        instructionsForPharmacy,\n        instructionsForPatient,\n      },\n    });\n    history.push(url.replace('edit', 'confirm'));\n  };\n\n  return (\n    <div className='edit-taper-configuration' css={wrapperStyle}>\n      <div css={projectedScheduleStyle}>\n        {/* <Prompt when={!isSaved} */}\n        {/*        message={'Are you sure you want to leave?'}/> */}\n        <ProjectedSchedule title={'Projected Schedule based on the rates of reduction you specified'}\n                           editable={true}/>\n        <NotesToShare editable={true}/>\n      </div>\n      <div css={buttonStyle}>\n        <Button onClick={moveToPrevious}>Previous</Button>\n        <Button css={css`background-color: #0984E3;`} type='primary'\n                onClick={saveTaperConfigurationAndMoveToConfirmPage}>Save</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default EditTaperConfiguration;\n","import * as React from 'react';\nimport {\n  useEffect, useRef, useState,\n} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  useLocation, useRouteMatch,\n} from 'react-router';\nimport { Route, Switch } from 'react-router-dom';\nimport { css } from '@emotion/react';\nimport format from 'date-fns/esm/format';\nimport { RootState } from '../../redux/reducers';\nimport {\n  FETCH_TAPER_CONFIG_REQUEST,\n  FetchTaperConfigRequestAction,\n  INIT_NEW_TAPER_CONFIG,\n  InitNewTaperConfigAction,\n  EMPTY_TAPER_CONFIG_PAGE,\n  EmptyTaperConfigPage,\n} from '../../redux/actions/taperConfig';\nimport { CreateTaperConfiguration, EditTaperConfiguration, ConfirmTaperConfiguration } from './index';\nimport { UserState } from '../../redux/reducers/user';\nimport { checkCurrentPatientAndRender } from '../../utils/pages';\n\nconst navTextStyle = css`\n  display: flex;\n  font-family: Verdana;\n  font-size: 1rem;\n  color: #636E72;\n  margin-bottom: 20px;\n\n  & > div {\n    margin-right: 22px;\n  }\n`;\n\nconst patientPageHeaderStyle = css`\n  & > h2 {\n    //font-size: 32px;\n    font-size: 1.5rem;\n    font-weight: bold;\n    margin: 0;\n  }\n\n  &:nth-child(2) {\n    //font-size: 20px;\n    font-size: 0.8rem;\n  }\n\n  & > hr {\n    border: none;\n    width: 100%;\n    height: 2px;\n    margin: 8px auto;\n    background-color: #D1D1D1;\n  }\n`;\n\nconst TaperConfigurationPage = () => {\n  const dispatch = useDispatch();\n  const { me, currentPatient } = useSelector<RootState, UserState>((state) => state.user);\n  const urlSearchParams = useRef<URLSearchParams>(new URLSearchParams(useLocation().search));\n  const { path, url } = useRouteMatch();\n  const location = useLocation();\n  const [step, setStep] = useState<1 | 2 | 3>(1);\n  const titles = useRef<['Create', 'Prescribe', 'Share']>(['Create', 'Prescribe', 'Share']);\n  const taperConfigRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    console.group('TaperConfigurationPage');\n    const id = urlSearchParams.current.get('id');\n    console.log('id: ', id);\n    console.log('path: ', path);\n    console.log('url: ', url);\n    console.groupEnd();\n\n    if (id) {\n      dispatch<FetchTaperConfigRequestAction>({\n        type: FETCH_TAPER_CONFIG_REQUEST,\n        data: { clinicianId: me!.id, patientId: currentPatient!.id },\n      });\n    } else {\n      dispatch<InitNewTaperConfigAction>({\n        type: INIT_NEW_TAPER_CONFIG,\n        data: {\n          clinicianId: me!.id,\n          patientId: currentPatient!.id,\n        },\n      });\n    }\n    return () => {\n      // dispatch<EmptyTaperConfigPage>({\n      //   type: EMPTY_TAPER_CONFIG_PAGE,\n      // });\n    };\n  }, []);\n\n  useEffect(() => {\n    if (location.pathname.includes('create')) {\n      setStep(1);\n    } else if (location.pathname.includes('edit')) {\n      setStep(2);\n    } else {\n      setStep(3);\n    }\n  }, [location]);\n\n  useEffect(() => {\n    taperConfigRef.current!.scrollTo(0, 0);\n  }, [location.pathname]);\n\n  const assignStyle = (stepNumber: number) => {\n    return css`\n      ${stepNumber === step ? 'color: #0984E3; font-weight: bold;' : 'color: 636E72; font-weight: normal;'}`;\n  };\n\n  return (\n    <div css={css`\n      //height: calc(100vh - 307px);\n      //height: calc(100vh - 255px);\n      height: 100%;\n      overflow-y: scroll;\n      padding-right: 10px;\n    `} className='taper-configuration'\n    ref={taperConfigRef}>\n      <div css={patientPageHeaderStyle}>\n        <h2>{currentPatient!.name}</h2>\n        <div>Last Visit: {format(currentPatient!.recentVisit, 'MM/dd/yyyy')}</div>\n        <hr/>\n      </div>\n      <div css={css`\n        font-size: 1.2rem;\n        color: #0984E3;\n        font-weight: bold;\n        margin-bottom: 5px;\n\n        & > hr {\n          border: none;\n          width: 100%;\n          height: 2px;\n          margin: 5px auto;\n          background-color: #D1D1D1;\n        }`}>\n        {titles.current[step - 1]}\n        <hr/>\n      </div>\n      <div css={css`display: flex;\n        //height: calc(100% - 55px);\n        height: 100%;\n      `} className='taper-configuration-pages'>\n        <Switch>\n          <Route path={`${path}/create`}\n                 render={checkCurrentPatientAndRender(currentPatient, CreateTaperConfiguration)}/>\n          <Route path={`${path}/edit`} render={checkCurrentPatientAndRender(currentPatient, EditTaperConfiguration)}/>\n          <Route path={`${path}/confirm`}\n                 render={checkCurrentPatientAndRender(currentPatient, ConfirmTaperConfiguration)}/>\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default TaperConfigurationPage;\n","import TaperConfigurationPage from './TaperConfigurationPage';\nimport CreateTaperConfiguration from './CreateTaperConfiguration';\nimport EditTaperConfiguration from './EditTaperConfiguration';\nimport ConfirmTaperConfiguration from './ConfirmTaperConfiguration';\n\nexport {\n  TaperConfigurationPage, CreateTaperConfiguration, EditTaperConfiguration, ConfirmTaperConfiguration,\n};\n","import { CellEditingStoppedEvent } from 'ag-grid-community';\nimport {\n  DrugFormNames,\n  PrescribedDrug, Prescriptions, TableRowData, TaperingConfiguration,\n} from '../../types';\nimport { Schedule } from '../../components/Schedule/ProjectedSchedule';\nimport { ScheduleChartData } from '../../utils/taperConfig';\n\nexport const GENERATE_SCHEDULE = 'GENERATE_SCHEDULE' as const;\nexport const CLEAR_SCHEDULE = 'CLEAR_SCHEDULE' as const;\n\nexport interface GenerateScheduleAction {\n  type: typeof GENERATE_SCHEDULE,\n  data: PrescribedDrug[]\n}\n\nexport interface ClearScheduleAction {\n  type: typeof CLEAR_SCHEDULE\n}\n\nexport const UPDATE_CHART = 'UPDATE_CHART' as const;\n\nexport interface UpdateChartAction {\n  type: typeof UPDATE_CHART,\n}\n\nexport const INIT_NEW_TAPER_CONFIG = 'INIT_NEW_TAPER_CONFIG' as const;\n\nexport interface InitNewTaperConfigAction {\n  type: typeof INIT_NEW_TAPER_CONFIG,\n  data: { clinicianId: number, patientId: number }\n}\n\nexport const EMPTY_TAPER_CONFIG_PAGE = 'EMPTY_TAPER_CONFIG_PAGE' as const;\n\nexport interface EmptyTaperConfigPage {\n  type: typeof EMPTY_TAPER_CONFIG_PAGE,\n}\n\nexport const EMPTY_PRESCRIBED_DRUGS = 'EMPTY_PRESCRIBED_DRUGS' as const;\n\nexport interface EmptyPrescribedDrugs {\n  type: typeof EMPTY_PRESCRIBED_DRUGS\n}\n\nexport const ADD_OR_UPDATE_TAPER_CONFIG_REQUEST = 'ADD_OR_UPDATE_TAPER_CONFIG_REQUEST' as const;\nexport const ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS = 'ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS' as const;\nexport const ADD_OR_UPDATE_TAPER_CONFIG_FAILURE = 'ADD_OR_UPDATE_TAPER_CONFIG_FAILURE' as const;\n\nexport interface AddOrUpdateTaperConfigRequestAction {\n  type: typeof ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\n  data: Omit<TaperingConfiguration, 'id'|'createdAt'> & { taperConfigId?: number }\n}\n\nexport const addOrUpdateTaperConfigRequest = (data: AddOrUpdateTaperConfigRequestAction['data']): AddOrUpdateTaperConfigRequestAction => ({\n  type: ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\n  data,\n});\n\nexport interface AddOrUpdateTaperConfigSuccessAction {\n  type: typeof ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\n  data: TaperingConfiguration\n}\n\nexport interface AddOrUpdateTaperConfigFailureAction {\n  type: typeof ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\n  error: any;\n}\n\nexport type AddOrUpdateTaperConfigAyncActions =\n  | AddOrUpdateTaperConfigRequestAction\n  | AddOrUpdateTaperConfigSuccessAction\n  | AddOrUpdateTaperConfigFailureAction;\n\nexport const ADD_NEW_DRUG_FORM = 'ADD_NEW_DRUG_FORM' as const;\nexport const REMOVE_DRUG_FORM = 'REMOVE_DRUG_FORM' as const;\n\nexport interface AddNewDrugFormAction {\n  type: typeof ADD_NEW_DRUG_FORM\n  data: PrescribedDrug | null;\n}\n\nexport interface RemoveDrugFormAction {\n  type: typeof REMOVE_DRUG_FORM,\n  data?: number;\n}\n\nexport const SCHEDULE_ROW_SELECTED = 'SCHEDULE_ROW_SELECTED' as const;\n\nexport interface ScheduleRowSelectedAction {\n  type: typeof SCHEDULE_ROW_SELECTED,\n  data: (number | null)[];\n}\n\n// export interface ScheduleRowSelectedAction {\n//   type: typeof SCHEDULE_ROW_SELECTED,\n//   data: { rowIdx: number, selected: boolean }\n// }\n\nexport const FETCH_TAPER_CONFIG_REQUEST = 'FETCH_TAPER_CONFIG_REQUEST' as const;\nexport const FETCH_TAPER_CONFIG_SUCCESS = 'FETCH_TAPER_CONFIG_SUCCESS' as const;\nexport const FETCH_TAPER_CONFIG_FAILURE = 'FETCH_TAPER_CONFIG_FAILURE' as const;\n\nexport interface FetchTaperConfigRequestAction {\n  type: typeof FETCH_TAPER_CONFIG_REQUEST,\n  data: { clinicianId: number, patientId: number };\n}\n\nexport interface FetchTaperConfigSuccessAction {\n  type: typeof FETCH_TAPER_CONFIG_SUCCESS\n  data: TaperingConfiguration;\n}\n\nexport interface FetchTaperConfigFailureAction {\n  type: typeof FETCH_TAPER_CONFIG_FAILURE\n  error: any;\n}\n\nexport type FetchTaperConfigAsyncActions =\n  | FetchTaperConfigRequestAction\n  | FetchTaperConfigSuccessAction\n  | FetchTaperConfigFailureAction;\n\nexport const FETCH_PRESCRIBED_DRUGS_REQUEST = 'FETCH_PRESCRIBED_DRUGS_REQUEST' as const;\nexport const FETCH_PRESCRIBED_DRUGS_SUCCESS = 'FETCH_PRESCRIBED_DRUGS_SUCCESS' as const;\nexport const FETCH_PRESCRIBED_DRUGS_FAILURE = 'FETCH_PRESCRIBED_DRUGS_FAILURE' as const;\n\nexport interface FetchPrescribedDrugsRequestAction {\n  type: typeof FETCH_PRESCRIBED_DRUGS_REQUEST,\n  data: number; // tapering configuration id\n}\n\nexport interface FetchPrescribedDrugsSuccessAction {\n  type: typeof FETCH_PRESCRIBED_DRUGS_SUCCESS,\n  data: PrescribedDrug[];\n}\n\nexport interface FetchPrescribedDrugsFailureAction {\n  type: typeof FETCH_PRESCRIBED_DRUGS_FAILURE,\n  error: any;\n}\n\nexport type FetchPrescribedDrugAsyncActions =\n  | FetchPrescribedDrugsRequestAction\n  | FetchPrescribedDrugsSuccessAction\n  | FetchPrescribedDrugsFailureAction;\n\nexport const SHARE_WITH_PATIENT_APP_REQUEST = 'SHARE_WITH_PATIENT_APP_REQUEST' as const;\nexport const SHARE_WITH_PATIENT_APP_SUCCESS = 'SHARE_WITH_PATIENT_APP_SUCCESS' as const;\nexport const SHARE_WITH_PATIENT_APP_FAILURE = 'SHARE_WITH_PATIENT_APP_FAILURE' as const;\n\nexport interface ShareWithPatientAppRequest {\n  type: typeof SHARE_WITH_PATIENT_APP_REQUEST;\n  data: { patientId: number; clinicianId: number }\n}\n\nexport interface ShareWithPatientAppSuccess {\n  type: typeof SHARE_WITH_PATIENT_APP_SUCCESS;\n}\n\nexport interface ShareWithPatientAppFailure {\n  type: typeof SHARE_WITH_PATIENT_APP_FAILURE,\n  error: any;\n}\n\nexport type ShareWithPatientAppAsyncActions =\n  | ShareWithPatientAppRequest\n  | ShareWithPatientAppSuccess\n  | ShareWithPatientAppFailure;\n\nexport const SHARE_WITH_PATIENT_EMAIL_REQUEST = 'SHARE_WITH_PATIENT_EMAIL_REQUEST' as const;\nexport const SHARE_WITH_PATIENT_EMAIL_SUCCESS = 'SHARE_WITH_PATIENT_EMAIL_SUCCESS' as const;\nexport const SHARE_WITH_PATIENT_EMAIL_FAILURE = 'SHARE_WITH_PATIENT_EMAIL_FAILURE' as const;\n\nexport interface ShareWithPatientEmailRequest {\n  type: typeof SHARE_WITH_PATIENT_EMAIL_REQUEST,\n  data: { patientId: number; clinicianId: number }\n}\n\nexport interface ShareWithPatientEmailSuccess {\n  type: typeof SHARE_WITH_PATIENT_EMAIL_SUCCESS\n}\n\nexport interface ShareWithPatientEmailFailure {\n  type: typeof SHARE_WITH_PATIENT_EMAIL_FAILURE;\n  error: any;\n}\n\nexport type ShareWithPatientEmailAsyncActions =\n  | ShareWithPatientEmailRequest\n  | ShareWithPatientEmailSuccess\n  | ShareWithPatientEmailFailure;\n\nexport const TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT = 'TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT' as const;\n\nexport interface ToggleShareProjectedScheduleWithPatient {\n  type: typeof TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT;\n}\n\nexport const CHANGE_MESSAGE_FOR_PATIENT = 'CHANGE_MESSAGE_FOR_PATIENT' as const;\n\nexport interface ChangeMessageForPatient {\n  type: typeof CHANGE_MESSAGE_FOR_PATIENT,\n  data: string;\n}\n\nexport const changeMessageForPatient = (data: ChangeMessageForPatient['data']): ChangeMessageForPatient => ({\n  type: CHANGE_MESSAGE_FOR_PATIENT,\n  data,\n});\n\nexport const CHANGE_NOTE_AND_INSTRUCTIONS = 'CHANGE_NOTE_AND_INSTRUCTIONS' as const;\n\nexport interface ChangeNoteAndInstructions {\n  type: typeof CHANGE_NOTE_AND_INSTRUCTIONS,\n  data: string;\n}\n\nexport const changeNoteAndInstructions = (data: ChangeNoteAndInstructions['data']): ChangeNoteAndInstructions => ({\n  type: CHANGE_NOTE_AND_INSTRUCTIONS,\n  data,\n});\n\nexport const FINAL_PRESCRIPTION_QUANTITY_CHANGE = 'FINAL_PRESCRIPTION_QUANTITY_CHANGE' as const;\n\nexport interface FinalPrescriptionQuantityChange {\n  type: typeof FINAL_PRESCRIPTION_QUANTITY_CHANGE,\n  data: { id: number, dosage: string, quantity: number, form: DrugFormNames }\n}\n\nexport const finalPrescriptionQuantityChange = (data: FinalPrescriptionQuantityChange['data']): FinalPrescriptionQuantityChange => ({\n  type: FINAL_PRESCRIPTION_QUANTITY_CHANGE,\n  data,\n});\n\nexport const TABLE_START_DATE_EDITED = 'TABLE_START_DATE_EDITED' as const;\n\nexport interface TableStartDateEditedAction {\n  type: typeof TABLE_START_DATE_EDITED;\n  data: CellEditingStoppedEvent;\n}\n\nexport const TABLE_END_DATE_EDITED = 'TABLE_END_DATE_EDITED' as const;\n\nexport interface TableEndDateEditedAction {\n  type: typeof TABLE_END_DATE_EDITED,\n  data: CellEditingStoppedEvent;\n}\n\nexport const TABLE_DOSAGE_EDITED = 'TABLE_DOSAGE_EDITED' as const;\n\nexport interface TableDosageEditedAction {\n  type: typeof TABLE_DOSAGE_EDITED,\n  data: CellEditingStoppedEvent;\n}\n\nexport type TableEditingAction =\n  | TableStartDateEditedAction\n  | TableEndDateEditedAction\n  | TableDosageEditedAction;\n\nexport const SET_IS_INPUT_COMPLETE = 'SET_IS_INPUT_COMPLETE' as const;\n\nexport interface SetIsInputComplete {\n  type: typeof SET_IS_INPUT_COMPLETE,\n  data: { isComplete: boolean }\n}\n\nexport const VALIDATE_INPUT_COMPLETION = 'VALIDATE_INPUT_COMPLETION' as const;\n\nexport interface ValidateInputCompletionAction {\n  type: typeof VALIDATE_INPUT_COMPLETION;\n  data?: { isGoalDosageValid: boolean; }\n}\n\nexport const EDIT_PROJECTED_SCHEDULE_FROM_MODAL = 'EDIT_PROJECTED_SCHEDULE_FROM_MODAL';\n\nexport interface EditProjectedScheduleFromModal {\n  type: typeof EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\n  data: { prevRow: TableRowData, clickedRow: TableRowData; prescribedDrug: PrescribedDrug }\n}\n\nexport const OPEN_MODAL = 'OPEN_MODAL';\nexport interface OpenModalAction {\n  type: typeof OPEN_MODAL,\n  data: { prevRow: TableRowData, doubleClickedRow: TableRowData, drugFromRows: PrescribedDrug }\n}\n\nexport const MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE = 'MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE';\nexport interface MoveFromCreateToPrescribePage {\n  type: typeof MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE;\n}\n","import { Clinician, Patient } from '../../types';\n\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST' as const;\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS' as const;\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE' as const;\n\nexport interface LoginRequestAction {\n  type: typeof LOGIN_REQUEST;\n  // data: { email: string; password: string }\n  data: { name: string };\n}\n\nexport interface LoginSuccessAction {\n  type: typeof LOGIN_SUCCESS;\n  data: Omit<Clinician, 'password'>\n}\n\nexport interface LoginFailureAction {\n  type: typeof LOGIN_FAILURE;\n  error: any;\n}\n\nexport type LoginActions =\n  | LoginRequestAction\n  | LoginSuccessAction\n  | LoginFailureAction;\n\nexport const ADD_NEW_PATIENT_REQUEST = 'ADD_NEW_PATIENT' as const;\nexport const ADD_NEW_PATIENT_SUCCESS = 'ADD_NEW_PATIENT_SUCCESS' as const;\nexport const ADD_NEW_PATIENT_FAILURE = 'ADD_NEW_PATIENT_FAILURE' as const;\n\nexport interface AddNewPatientRequest {\n  type: typeof ADD_NEW_PATIENT_REQUEST,\n  data: { name: string; email: string }\n}\n\nexport interface AddNewPatientSuccess {\n  type: typeof ADD_NEW_PATIENT_SUCCESS,\n  data: Omit<Patient, 'password'>\n}\n\nexport interface AddNewPatientFailure {\n  type: typeof ADD_NEW_PATIENT_FAILURE,\n  error: any;\n}\n\nexport type AddNewPatientActions =\n  | AddNewPatientRequest\n  | AddNewPatientSuccess\n  | AddNewPatientFailure;\n\nexport const LOAD_PATIENTS_REQUEST = 'LOAD_PATIENTS_REQUEST' as const;\nexport const LOAD_PATIENTS_SUCCESS = 'LOAD_PATIENTS_SUCCESS' as const;\nexport const LOAD_PATIENTS_FAILURE = 'LOAD_PATIENTS_FAILURE' as const;\n\nexport interface LoadPatientsRequestAction {\n  type: typeof LOAD_PATIENTS_REQUEST,\n  data: number; // clinician id\n}\n\nexport interface LoadPatientsSuccessAction {\n  type: typeof LOAD_PATIENTS_SUCCESS,\n  // data: Omit<Patient, 'password'|'taperConfigurations'>[];\n  data: Omit<Patient, 'password'>[]\n}\n\nexport interface LoadPatientsFailureAction {\n  type: typeof LOAD_PATIENTS_FAILURE,\n  error: any;\n}\n\nexport type LoadPatientsActions =\n  | LoadPatientsRequestAction\n  | LoadPatientsSuccessAction\n  | LoadPatientsFailureAction;\n\nexport const SET_CURRENT_PATIENT = 'SET_CURRENT_PATIENT' as const;\n\nexport interface SetCurrentPatientAction {\n  type: typeof SET_CURRENT_PATIENT,\n  data: number;\n}\n\nexport const CHANGE_PATIENT_NOTES = 'CHANGE_PATIENT_NOTES' as const;\n\nexport interface ChangePatientNotes {\n  type: typeof CHANGE_PATIENT_NOTES,\n  data: string\n}\n\nexport const SAVE_PATIENT_NOTES_REQUEST = 'SAVE_PATIENT_NOTES_REQUEST' as const;\nexport const SAVE_PATIENT_NOTES_SUCCESS = 'SAVE_PATIENT_NOTES_SUCCESS' as const;\nexport const SAVE_PATIENT_NOTES_FAILURE = 'SAVE_PATIENT_NOTES_FAILURE' as const;\n\nexport interface SavePatientNotesRequestAction {\n  type: typeof SAVE_PATIENT_NOTES_REQUEST,\n  data: { notes: string, patientId: number }\n}\n\nexport interface SavePatientNotesSuccessAction {\n  type: typeof SAVE_PATIENT_NOTES_SUCCESS\n  data: { notes: string, patientId: number }\n}\n\nexport interface SavePatientNotesFailureAction {\n  type: typeof SAVE_PATIENT_NOTES_FAILURE,\n  error: any,\n}\n\nexport type SavePatientNotesActions =\n  | SavePatientNotesRequestAction\n  | SavePatientNotesSuccessAction\n  | SavePatientNotesFailureAction;\n","import {\n  PillForm, Drug, OralDosage, OralForm,\n} from '../../types';\n\nexport const drugNameBrandPairs: { [name: string]: string } = {\n  Fluoxetine: 'Prozac',\n  Citalopram: 'Celexa',\n  Sertraline: 'Zoloft',\n  Paroxetine: 'Paxil',\n  Escitalopram: 'Lexapro',\n};\n\nconst drugs: Drug[] = [\n  {\n    name: 'Fluoxetine',\n    halfLife: 'Fluoxetine: 4-6 days\\nNorfluoxetine (active metabolite): 4-16 days',\n    options:\n      [\n        {\n          brand: 'Fluoxetine (generic)',\n          forms: [\n            {\n              // form: 'bottle of oral solution',\n              form: 'oral solution',\n              dosages: { bottles: ['120 ml'], rate: { mg: 4, ml: 1 } } as OralDosage,\n              measureUnit: 'mg',\n            } as OralForm,\n            {\n              form: 'capsule',\n              dosages: [{ dosage: '10 mg' }, { dosage: '20 mg' }, { dosage: '40 mg' }],\n              measureUnit: 'mg',\n            } as PillForm,\n            {\n              form: 'tablet',\n              dosages: [{ dosage: '10 mg', isScored: true }, { dosage: '20 mg', isScored: true }, { dosage: '60 mg', isScored: true }],\n              measureUnit: 'mg',\n            } as PillForm,\n          ],\n        },\n        {\n          brand: 'Prozac (brand)',\n          forms: [\n            {\n              form: 'capsule',\n              dosages: [{ dosage: '10 mg' }, { dosage: '20 mg' }, { dosage: '40 mg' }],\n              measureUnit: 'mg',\n            } as PillForm,\n          ],\n        },\n      ],\n  },\n  {\n    name: 'Citalopram',\n    halfLife: '35 hours',\n    options: [\n      {\n        brand: 'Citalopram (generic)',\n        forms: [\n          {\n            // form: 'ml of oral solution',\n            form: 'oral solution',\n            dosages: {\n              rate: { ml: 1, mg: 2 },\n              bottles: ['75 ml', '150 ml', '240 ml', '300 ml', '450 ml',\n              ],\n            },\n            measureUnit: 'mg',\n          } as OralForm,\n          {\n            form: 'tablet',\n            dosages: [\n              { dosage: '10 mg', isScored: false },\n              { dosage: '20 mg', isScored: true },\n              { dosage: '40 mg', isScored: true }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n      {\n        brand: 'Celexa (brand)',\n        forms: [\n          {\n            form: 'tablet',\n            dosages: [\n              { dosage: '10 mg', isScored: false },\n              { dosage: '20 mg', isScored: true },\n              { dosage: '40 mg', isScored: true }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n    ],\n  },\n  {\n    name: 'Sertraline',\n    halfLife: '24 hours',\n    options: [\n      {\n        brand: 'Sertraline (generic)',\n        forms: [\n          {\n            form: 'oral solution',\n            dosages: {\n              rate: { ml: 1, mg: 20 },\n              bottles: ['60 ml'],\n            },\n            measureUnit: 'mg',\n          } as OralForm,\n          {\n            form: 'tablet',\n            dosages: [\n              { dosage: '25 mg', isScored: true },\n              { dosage: '50 mg', isScored: true },\n              { dosage: '100 mg', isScored: true }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n      {\n        brand: 'Zoloft (brand)',\n        forms: [\n          {\n            form: 'oral solution',\n            dosages: {\n              rate: { ml: 1, mg: 20 },\n              bottles: ['60 ml'],\n            },\n            measureUnit: 'mg',\n          } as OralForm,\n          {\n            form: 'tablet',\n            dosages: [{ dosage: '25 mg', isScored: true },\n              { dosage: '50 mg', isScored: true },\n              { dosage: '100 mg', isScored: true }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n    ],\n  }, {\n    name: 'Paroxetine',\n    halfLife: '21 hours',\n    options: [\n      {\n        brand: 'Paroxetine (generic)',\n        forms: [\n          {\n            form: 'tablet',\n            dosages: [\n              { dosage: '10 mg', isScored: true },\n              { dosage: '20 mg', isScored: true },\n              { dosage: '30 mg', isScored: false },\n              { dosage: '40 mg', isScored: false }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n      {\n        brand: 'Paxil (brand)',\n        forms: [\n          {\n            form: 'oral suspension',\n            dosages: {\n              rate: { ml: 1, mg: 2 },\n              bottles: ['250 ml'],\n            },\n            measureUnit: 'ml',\n          } as OralForm,\n          {\n            form: 'tablet',\n            dosages: [\n              { dosage: '10 mg', isScored: true },\n              { dosage: '20 mg', isScored: true },\n              { dosage: '30 mg', isScored: false },\n              { dosage: '40 mg', isScored: false }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n    ],\n  },\n  {\n    name: 'Escitalopram',\n    halfLife: '27-32 hours',\n    options: [\n      {\n        brand: 'Escitalopram (generic)',\n        forms: [\n          {\n            // form: 'ml of oral solution',\n            form: 'oral solution',\n            dosages: {\n              rate: { ml: 1, mg: 1 },\n              bottles: ['150 ml', '240 ml', '300 ml', '450 ml', '600 ml'],\n            },\n            measureUnit: 'mg',\n          } as OralForm,\n          {\n            form: 'tablet',\n            dosages: [\n              { dosage: '5 mg', isScored: false },\n              { dosage: '10 mg', isScored: true },\n              { dosage: '20 mg', isScored: true }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n      {\n        brand: 'Lexapro (brand)',\n        forms: [\n          {\n            form: 'tablet',\n            dosages: [\n              { dosage: '5 mg', isScored: false },\n              { dosage: '10 mg', isScored: true },\n              { dosage: '20 mg', isScored: true }],\n            measureUnit: 'mg',\n          } as PillForm,\n        ],\n      },\n    ],\n  },\n];\n\nexport default drugs;\n","import { combineReducers } from 'redux';\nimport user from './user';\nimport taperConfig from './taperConfig/taperConfig';\n\nconst rootReducer = combineReducers({\n  user,\n  taperConfig,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import add from 'date-fns/esm/add';\nimport {\n  Drug, PrescribedDrug, Prescriptions, TaperingConfiguration,\n} from '../../../types';\nimport { Schedule } from '../../../components/Schedule/ProjectedSchedule';\nimport { ScheduleChartData } from '../../../utils/taperConfig';\nimport {\n  AddNewDrugFormAction, AddOrUpdateTaperConfigAyncActions,\n  ChangeMessageForPatient,\n  ChangeNoteAndInstructions,\n  ClearScheduleAction, EditProjectedScheduleFromModal,\n  EmptyPrescribedDrugs,\n  EmptyTaperConfigPage, FetchPrescribedDrugAsyncActions, FetchTaperConfigAsyncActions,\n  FinalPrescriptionQuantityChange,\n  GenerateScheduleAction,\n  InitNewTaperConfigAction, OpenModalAction,\n  RemoveDrugFormAction,\n  ScheduleRowSelectedAction, SetIsInputComplete, ShareWithPatientAppAsyncActions, ShareWithPatientEmailAsyncActions,\n  TableEditingAction,\n  ToggleShareProjectedScheduleWithPatient, UpdateChartAction, ValidateInputCompletionAction,\n} from '../../actions/taperConfig';\nimport { PrescriptionFormActions, SetGrowthAction } from '../../../components/PrescriptionForm/actions';\nimport drugs from '../drugs';\nimport { SetCurrentPatientAction } from '../../actions/user';\n\nexport interface TaperConfigState {\n  clinicianId: number;\n  patientId: number;\n  drugs: Drug[];\n  chosenDrugs: { [prescribedDrugId: number]: { drug: string, brand: string } };\n  taperConfigs: TaperingConfiguration[];\n  currentTaperConfigId: number | null;\n  taperConfigCreatedAt: Date | null;\n  lastPrescriptionFormId: number;\n  prescriptionFormIds: number[];\n  prescribedDrugs: PrescribedDrug[] | null;\n  isSaved: boolean;\n\n  projectedSchedule: Schedule;\n  scheduleChartData: ScheduleChartData;\n  tableSelectedRows: (number | null)[];\n  finalPrescription: Prescriptions;\n  isInputComplete: boolean;\n\n  intervalDurationDays: number,\n\n  instructionsForPatient: string;\n  instructionsForPharmacy: string;\n\n  shareProjectedScheduleWithPatient: boolean;\n  showInstructionsForPatient: boolean;\n\n  fetchingTaperConfig: boolean;\n  fetchedTaperConfig: boolean;\n  fetchingTaperConfigError: any;\n\n  fetchingPrescribedDrugs: boolean;\n  fetchedPrescribedDrugs: boolean;\n  fetchingPrescribedDrugsError: any;\n\n  addingTaperConfig: boolean;\n  addedTaperConfig: boolean;\n  addingTaperConfigError: any;\n\n  sharingWithPatientApp: boolean;\n  sharedWithPatientApp: boolean;\n  sharingWithPatientAppError: any;\n\n  sharingWithPatientEmail: boolean;\n  sharedWithPatientEmail: boolean;\n  sharingWithPatientEmailError: any;\n}\n\ntype TaperConfigAsyncActions =\n  | FetchTaperConfigAsyncActions\n  | FetchPrescribedDrugAsyncActions\n  | AddOrUpdateTaperConfigAyncActions\n  | ShareWithPatientAppAsyncActions\n  | ShareWithPatientEmailAsyncActions;\n\nexport type TaperConfigActions =\n  | InitNewTaperConfigAction\n  | EmptyTaperConfigPage\n  | EmptyPrescribedDrugs\n  | AddNewDrugFormAction\n  | RemoveDrugFormAction\n  | GenerateScheduleAction\n  | ClearScheduleAction\n  | ScheduleRowSelectedAction\n  | ChangeMessageForPatient\n  | ChangeNoteAndInstructions\n  | ToggleShareProjectedScheduleWithPatient\n  | FinalPrescriptionQuantityChange\n  | TableEditingAction\n  | UpdateChartAction\n  | SetIsInputComplete\n  | SetGrowthAction\n  | OpenModalAction\n  | SetCurrentPatientAction\n  | ValidateInputCompletionAction\n  | EditProjectedScheduleFromModal\n  | PrescriptionFormActions\n  | TaperConfigAsyncActions;\n\nexport const emptyPrescribedDrug = (id: number): PrescribedDrug => ({\n  id,\n  name: '',\n  brand: '',\n  form: null,\n  currentDosageForm: null,\n  nextDosageForm: null,\n  currentOralDosageInfo: null,\n  nextOralDosageInfo: null,\n  oralDosageInfo: null,\n  halfLife: '',\n  measureUnit: 'mg',\n  isModal: false,\n  applyInSchedule: true,\n  minDosageUnit: 0,\n  currentDosages: [],\n  currentDosageSum: 0,\n  allowChangePriorDosage: true,\n  nextDosages: [],\n  nextDosageSum: 0,\n  targetDosage: 0,\n  growth: 'linear',\n  availableDosageOptions: [],\n  regularDosageOptions: [],\n  allowSplittingUnscoredTablet: false,\n  intervalStartDate: (() => {\n    const date = new Date();\n    return new Date(date.valueOf() + date.getTimezoneOffset() * 60 * 1000);\n  })(),\n  intervalEndDate: (() => {\n    const date = new Date();\n    return add(new Date(date.valueOf() + date.getTimezoneOffset() * 60 * 1000), { days: 6 });\n  })(),\n  intervalCount: 7,\n  intervalUnit: 'Days',\n  intervalDurationDays: 7,\n  prevVisit: false,\n  prescribedAt: new Date(),\n});\n\nexport const initialState: TaperConfigState = {\n  drugs,\n  clinicianId: -1,\n  patientId: -1,\n  taperConfigs: [],\n  chosenDrugs: [],\n  currentTaperConfigId: null,\n  taperConfigCreatedAt: null,\n  lastPrescriptionFormId: 0,\n  prescriptionFormIds: [0],\n  isSaved: false,\n  prescribedDrugs: null,\n\n  projectedSchedule: { data: [], drugs: [] },\n  scheduleChartData: [],\n  tableSelectedRows: [],\n  finalPrescription: {},\n  isInputComplete: false,\n\n  intervalDurationDays: 0,\n\n  instructionsForPatient: '',\n  instructionsForPharmacy: '',\n\n  shareProjectedScheduleWithPatient: false,\n  showInstructionsForPatient: false,\n\n  fetchingTaperConfig: false,\n  fetchedTaperConfig: false,\n  fetchingTaperConfigError: null,\n\n  fetchingPrescribedDrugs: false,\n  fetchedPrescribedDrugs: false,\n  fetchingPrescribedDrugsError: null,\n\n  addingTaperConfig: false,\n  addedTaperConfig: false,\n  addingTaperConfigError: null,\n\n  sharingWithPatientApp: false,\n  sharedWithPatientApp: false,\n  sharingWithPatientAppError: null,\n\n  sharingWithPatientEmail: false,\n  sharedWithPatientEmail: false,\n  sharingWithPatientEmailError: null,\n};\n","import produce from 'immer';\nimport differenceInCalendarDays from 'date-fns/esm/differenceInCalendarDays';\nimport {\n  ADD_NEW_DRUG_FORM,\n  ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\n  ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\n  ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\n  CHANGE_MESSAGE_FOR_PATIENT,\n  CHANGE_NOTE_AND_INSTRUCTIONS,\n  CLEAR_SCHEDULE,\n  EDIT_PROJECTED_SCHEDULE_FROM_MODAL,\n  EMPTY_PRESCRIBED_DRUGS,\n  EMPTY_TAPER_CONFIG_PAGE,\n  FETCH_PRESCRIBED_DRUGS_FAILURE,\n  FETCH_PRESCRIBED_DRUGS_REQUEST,\n  FETCH_PRESCRIBED_DRUGS_SUCCESS,\n  FETCH_TAPER_CONFIG_FAILURE,\n  FETCH_TAPER_CONFIG_REQUEST,\n  FETCH_TAPER_CONFIG_SUCCESS,\n  FINAL_PRESCRIPTION_QUANTITY_CHANGE,\n  GENERATE_SCHEDULE,\n  INIT_NEW_TAPER_CONFIG,\n  REMOVE_DRUG_FORM,\n  SCHEDULE_ROW_SELECTED,\n  SET_IS_INPUT_COMPLETE,\n  SHARE_WITH_PATIENT_APP_FAILURE,\n  SHARE_WITH_PATIENT_APP_REQUEST,\n  SHARE_WITH_PATIENT_APP_SUCCESS, SHARE_WITH_PATIENT_EMAIL_FAILURE,\n  SHARE_WITH_PATIENT_EMAIL_REQUEST, SHARE_WITH_PATIENT_EMAIL_SUCCESS,\n  TABLE_DOSAGE_EDITED,\n  TABLE_END_DATE_EDITED,\n  TABLE_START_DATE_EDITED,\n  TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT,\n  UPDATE_CHART,\n  VALIDATE_INPUT_COMPLETION,\n} from '../../actions/taperConfig';\n\nimport {\n  ALLOW_SPLITTING_UNSCORED_TABLET,\n  CHOOSE_BRAND,\n  CHOOSE_FORM,\n  INTERVAL_COUNT_CHANGE,\n  INTERVAL_END_DATE_CHANGE,\n  INTERVAL_START_DATE_CHANGE,\n  INTERVAL_UNIT_CHANGE,\n  PrescriptionFormActions,\n  CURRENT_DOSAGE_CHANGE,\n  SET_GOAL_DOSAGE, SET_GROWTH,\n  NEXT_DOSAGE_CHANGE,\n} from '../../../components/PrescriptionForm/actions';\nimport {\n  alignEndDates,\n  calcFinalPrescription,\n  calcMinimumQuantityForDosage,\n  chartDataConverter, checkIntervalOverlappingRows, convert,\n  generateInstructionsFromSchedule,\n  generateTableRows, handleIntervalOverlap,\n  isCompleteDrugInput,\n  prescription,\n  ScheduleChartData,\n  scheduleGenerator, sort, TableRowsByDrug,\n  validateCompleteInputs,\n} from '../../../utils/taperConfig';\nimport {\n  TaperConfigState, TaperConfigActions, emptyPrescribedDrug, initialState,\n} from './index';\nimport { Converted, TableRowData } from '../../../types';\nimport { SET_CURRENT_PATIENT } from '../../actions/user';\n\nconst taperConfigReducer = (state: TaperConfigState = initialState, action: TaperConfigActions) => {\n  console.log('taperConfigAction: ', action);\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case INIT_NEW_TAPER_CONFIG:\n        draft.clinicianId = action.data.clinicianId;\n        draft.patientId = action.data.patientId;\n        draft.chosenDrugs = [];\n        draft.taperConfigCreatedAt = null;\n        draft.lastPrescriptionFormId += 1;\n        draft.prescribedDrugs = [emptyPrescribedDrug(draft.lastPrescriptionFormId)];\n        draft.isSaved = false;\n        draft.isInputComplete = false;\n        break;\n\n      case EMPTY_TAPER_CONFIG_PAGE:\n        draft.currentTaperConfigId = null;\n        draft.taperConfigCreatedAt = null;\n        draft.scheduleChartData = [];\n        draft.chosenDrugs = [];\n        draft.isInputComplete = false;\n        // draft.prescribedDrugs = draft.prescribedDrugs!.filter((drug) => isCompleteDrugInput(drug));\n        draft.prescribedDrugs = [];\n        draft.tableSelectedRows = [];\n        draft.projectedSchedule = { drugs: [], data: [] };\n        draft.instructionsForPatient = '';\n        draft.instructionsForPharmacy = '';\n        break;\n\n      case EMPTY_PRESCRIBED_DRUGS:\n        draft.isInputComplete = false;\n        draft.prescribedDrugs = null;\n        draft.projectedSchedule = { drugs: [], data: [] };\n        draft.instructionsForPatient = '';\n        draft.instructionsForPharmacy = '';\n        draft.scheduleChartData = [];\n        break;\n\n      case ADD_NEW_DRUG_FORM:\n        if (action.data === null) {\n          draft.prescriptionFormIds.push(draft.lastPrescriptionFormId + 1);\n          draft.prescribedDrugs!.push(emptyPrescribedDrug(draft.lastPrescriptionFormId + 1));\n          draft.isInputComplete = false;\n          draft.lastPrescriptionFormId += 1;\n          draft.showInstructionsForPatient = false;\n          draft.isSaved = false;\n        } else {\n          // change these on click ok in modal\n          // draft.prescriptionFormIds.push(action.data.id);\n          // draft.lastPrescriptionFormId = action.data.id;\n\n          draft.prescribedDrugs!.push(action.data);\n        }\n        break;\n\n      case REMOVE_DRUG_FORM:\n        if (action.data) {\n          draft.prescriptionFormIds = draft.prescriptionFormIds.filter((id) => id !== action.data);\n          draft.prescribedDrugs = draft.prescribedDrugs!.filter((drug) => drug.id !== action.data);\n          delete draft.chosenDrugs[action.data];\n        } else {\n          draft.prescriptionFormIds.pop();\n          draft.prescribedDrugs!.pop();\n          // draft.chosenDrugs = draft.prescribedDrugs!.map((drug) => drug.name);\n        }\n        draft.isSaved = false;\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        break;\n\n      case GENERATE_SCHEDULE: {\n        draft.projectedSchedule = scheduleGenerator(action.data);\n        draft.scheduleChartData = chartDataConverter(draft.projectedSchedule);\n        draft.tableSelectedRows = draft.projectedSchedule.data.map((row, i) => (row.selected ? i : -1)).filter((idx) => idx !== -1);\n        draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\n        const notes = generateInstructionsFromSchedule(draft.projectedSchedule, 'both', draft.finalPrescription);\n        [draft.instructionsForPatient, draft.instructionsForPharmacy] = [notes.patient!, notes.pharmacy!];\n        draft.showInstructionsForPatient = true;\n        draft.isSaved = false;\n        break;\n      }\n\n      case CLEAR_SCHEDULE:\n        draft.projectedSchedule = { data: [], drugs: [] };\n        draft.scheduleChartData = [];\n        draft.tableSelectedRows = [];\n        draft.showInstructionsForPatient = false;\n        draft.instructionsForPharmacy = '';\n        draft.instructionsForPatient = '';\n        draft.isSaved = false;\n        break;\n\n      case UPDATE_CHART:\n        draft.scheduleChartData = chartDataConverter(draft.projectedSchedule);\n        break;\n\n      case SCHEDULE_ROW_SELECTED: {\n        draft.tableSelectedRows = action.data;\n        draft.projectedSchedule.data.forEach((row, i) => {\n          row.selected = draft.tableSelectedRows.includes(i);\n        });\n\n        /*\n        // const maxIdx = action.data.selected ? action.data.rowIdx : action.data.rowIdx - 1;\n        // draft.tableSelectedRows = [];\n        // draft.projectedSchedule.data.forEach((row) => {\n        //   row.selected = false;\n        // });\n        // draft.projectedSchedule.data.forEach((row, i) => {\n        //   if (i <= maxIdx && !row.isPriorDosage) {\n        //     row.selected = true;\n        //     draft.tableSelectedRows.push(i);\n        //   }\n        // });\n\n        draft.tableSelectedRows = [];\n        draft.projectedSchedule.data.forEach((row, i) => {\n          if (i <= action.data && !row.isPriorDosage) {\n            row.selected = true;\n            draft.tableSelectedRows.push(i);\n          } else {\n            row.selected = false;\n          }\n        });\n         */\n        draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\n        if (draft.finalPrescription && Object.keys(draft.finalPrescription).length === 0) {\n          draft.instructionsForPatient = '';\n          draft.instructionsForPharmacy = '';\n        } else {\n          const notes = generateInstructionsFromSchedule(draft.projectedSchedule, 'both', draft.finalPrescription);\n          [draft.instructionsForPatient, draft.instructionsForPharmacy] = [notes.patient!, notes.pharmacy!];\n        }\n        break;\n      }\n\n      // directly edit notes for patient or pharmacy\n      // case FINAL_PRESCRIPTION_QUANTITY_CHANGE:\n      //   // draft.finalPrescription[action.data.id].dosageQty[action.data.dosage] = action.data.quantity;\n      //   // draft.finalPrescription[action.data.id].find(prescription => prescrioption.form === action.data.)\n      //   draft.instructionsForPharmacy = generateInstructionsFromSchedule(draft.projectedSchedule, 'pharmacyOnly', draft.finalPrescription).pharmacy!;\n      //   draft.isSaved = false;\n      //   break;\n\n      case CHANGE_MESSAGE_FOR_PATIENT:\n        draft.instructionsForPatient = action.data;\n        break;\n\n      case CHANGE_NOTE_AND_INSTRUCTIONS:\n        draft.instructionsForPharmacy = action.data;\n        break;\n\n      case TOGGLE_SHARE_PROJECTED_SCHEDULE_WITH_PATIENT:\n        draft.shareProjectedScheduleWithPatient = !draft.shareProjectedScheduleWithPatient;\n        break;\n\n      case CHOOSE_BRAND: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        const correspondingDrugData = draft.drugs.find((d) => d.options.find((option) => option.brand === action.data.brand))!;\n        draft.chosenDrugs[action.data.id] = {\n          drug: correspondingDrugData.name,\n          brand: action.data.brand,\n        };\n\n        drug.name = correspondingDrugData.name;\n        drug.halfLife = correspondingDrugData.halfLife;\n        drug.brand = action.data.brand;\n        drug.form = null;\n        drug.nextDosageForm = null;\n        drug.nextOralDosageInfo = null;\n        if (!drug.isModal) {\n          drug.currentDosageForm = null;\n          drug.currentOralDosageInfo = null;\n        }\n        drug.allowChangePriorDosage = true;\n        drug.oralDosageInfo = null;\n        drug.currentDosages = [];\n        drug.nextDosages = [];\n        drug.targetDosage = 0;\n        draft.isInputComplete = false;\n        draft.isSaved = false;\n        draft.instructionsForPatient = '';\n        draft.instructionsForPharmacy = '';\n        draft.showInstructionsForPatient = false;\n        break;\n      }\n\n      case CHOOSE_FORM: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        // TODO: remove drug.form?\n        drug.form = action.data.form;\n        drug.nextDosageForm = action.data.form;\n        drug.minDosageUnit = action.data.minDosageUnit;\n        drug.nextDosages = [];\n        drug.nextOralDosageInfo = action.data.oralDosageInfo;\n        drug.oralDosageInfo = action.data.oralDosageInfo;\n\n        if (!drug.isModal) {\n          drug.currentDosages = [];\n          drug.currentDosageForm = action.data.form;\n          drug.currentOralDosageInfo = action.data.oralDosageInfo;\n        }\n\n        drug.availableDosageOptions = action.data.availableDosageOptions;\n        drug.regularDosageOptions = action.data.regularDosageOptions;\n        draft.isInputComplete = false;\n        draft.isSaved = false;\n        draft.instructionsForPatient = '';\n        draft.instructionsForPharmacy = '';\n        break;\n      }\n\n      case CURRENT_DOSAGE_CHANGE: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        const idx = drug.currentDosages.findIndex(\n          (curDosage) => curDosage.dosage === action.data.dosage.dosage,\n        );\n\n        if (idx === -1) {\n          drug.currentDosages.push(action.data.dosage);\n        } else {\n          drug.currentDosages[idx] = action.data.dosage;\n        }\n\n        drug.currentDosageSum = drug.currentDosages.reduce((prev, { dosage, quantity }) => {\n          return prev + parseFloat(dosage) * quantity;\n        }, 0);\n\n        if (drug.currentDosageSum > drug.nextDosageSum) {\n          drug.targetDosage = 0;\n        } else if (drug.currentDosageSum < drug.nextDosageSum) {\n          drug.targetDosage = drug.nextDosageSum;\n        } else {\n          drug.targetDosage = drug.currentDosageSum;\n        }\n\n        draft.isSaved = false;\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        break;\n      }\n\n      case NEXT_DOSAGE_CHANGE: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        const idx = drug.nextDosages.findIndex(\n          (nextDosage) => nextDosage.dosage === action.data.dosage.dosage,\n        );\n\n        if (idx === -1) {\n          drug.nextDosages.push(action.data.dosage);\n        } else {\n          drug.nextDosages[idx] = action.data.dosage;\n        }\n\n        drug.nextDosageSum = drug.nextDosages.reduce((prev, { dosage, quantity }) => {\n          return prev + parseFloat(dosage) * quantity;\n        }, 0);\n\n        if (drug.currentDosageSum < drug.nextDosageSum) {\n          drug.targetDosage = drug.nextDosageSum;\n        } else if (drug.currentDosageSum > drug.nextDosageSum) {\n          if (!drug.isModal) {\n            drug.targetDosage = 0;\n          }\n        } else {\n          drug.targetDosage = drug.nextDosageSum;\n        }\n\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        draft.isSaved = false;\n        break;\n      }\n\n      case SET_GOAL_DOSAGE: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        drug.targetDosage = action.data.dosage;\n        break;\n      }\n\n      case ALLOW_SPLITTING_UNSCORED_TABLET: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        drug.allowSplittingUnscoredTablet = action.data.allow;\n        // TODO: continue from here..\n        if (action.data.allow) {\n          drug.availableDosageOptions = [...new Set(action.data.dosageOptions.map((option) => {\n            if (option.isScored) {\n              return option.dosage;\n            }\n            return [`${parseFloat(option.dosage) / 2}mg`, option.dosage];\n          }).flat())];\n        } else {\n          drug.availableDosageOptions = drug.regularDosageOptions!;\n        }\n        draft.isSaved = false;\n        break;\n      }\n\n      case INTERVAL_START_DATE_CHANGE: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        drug.intervalStartDate = action.data.intervalStartDate;\n        drug.intervalEndDate = action.data.intervalEndDate || drug.intervalEndDate;\n        drug.intervalUnit = action.data.intervalUnit || drug.intervalUnit;\n        drug.intervalDurationDays = action.data.intervalDurationDays || drug.intervalDurationDays;\n        drug.intervalCount = action.data.intervalCount || drug.intervalCount;\n        break;\n      }\n\n      case INTERVAL_END_DATE_CHANGE: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        drug.intervalEndDate = action.data.intervalEndDate;\n        drug.intervalStartDate = action.data.intervalStartDate || drug.intervalStartDate;\n        drug.intervalDurationDays = action.data.intervalDurationDays || drug.intervalDurationDays;\n        drug.intervalCount = action.data.intervalCount || drug.intervalCount;\n        drug.intervalUnit = action.data.intervalUnit || drug.intervalUnit;\n        break;\n      }\n\n      case INTERVAL_UNIT_CHANGE: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        drug.intervalUnit = action.data.unit;\n        drug.intervalEndDate = action.data.intervalEndDate;\n        drug.intervalCount = action.data.intervalCount;\n        drug.intervalDurationDays = action.data.intervalDurationDays;\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        draft.isSaved = false;\n        break;\n      }\n\n      case INTERVAL_COUNT_CHANGE: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        drug.intervalCount = action.data.count;\n        drug.intervalEndDate = action.data.count !== null ? action.data.intervalEndDate : null;\n        drug.intervalDurationDays = action.data.intervalDurationDays;\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        draft.isSaved = false;\n        break;\n      }\n\n      case SET_GROWTH: {\n        const drug = draft.prescribedDrugs!.find((d) => d.id === action.data.id)!;\n        drug.growth = action.data.growth;\n        break;\n      }\n      case TABLE_DOSAGE_EDITED: {\n        if (action.data.rowIndex !== null) {\n          const editedRow = draft.projectedSchedule.data[action.data.rowIndex];\n          const dosage = parseFloat(action.data.newValue);\n          const unitDosages = calcMinimumQuantityForDosage(editedRow.availableDosageOptions!, dosage, editedRow.regularDosageOptions);\n\n          draft.projectedSchedule.data[action.data.rowIndex] = {\n            ...editedRow,\n            dosage,\n            unitDosages,\n            prescription: prescription({ ...editedRow }, unitDosages),\n          };\n          draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\n        }\n\n        break;\n      }\n\n      case TABLE_START_DATE_EDITED:\n        if (action.data.rowIndex !== null) {\n          const editedRow = draft.projectedSchedule.data[action.data.rowIndex];\n          editedRow.startDate = action.data.newValue;\n          editedRow.intervalUnit = 'Days';\n          editedRow.intervalDurationDays = differenceInCalendarDays(editedRow.endDate!, editedRow.startDate!) + 1;\n          editedRow.intervalCount = editedRow.intervalDurationDays;\n          editedRow.prescription = prescription({ ...editedRow }, editedRow.unitDosages!);\n          draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\n        }\n        break;\n\n      case TABLE_END_DATE_EDITED:\n        if (action.data.rowIndex !== null) {\n          const editedRow = draft.projectedSchedule.data[action.data.rowIndex];\n          editedRow.endDate = action.data.newValue;\n          editedRow.intervalUnit = 'Days';\n          editedRow.intervalDurationDays = differenceInCalendarDays(editedRow.endDate!, editedRow.startDate!) + 1;\n          editedRow.intervalCount = editedRow.intervalDurationDays;\n          editedRow.prescription = prescription({ ...editedRow }, editedRow.unitDosages!);\n          draft.finalPrescription = calcFinalPrescription(draft.projectedSchedule.data, draft.tableSelectedRows);\n        }\n        break;\n\n      case SET_IS_INPUT_COMPLETE:\n        draft.isInputComplete = action.data.isComplete;\n        break;\n\n      case VALIDATE_INPUT_COMPLETION:\n        if (!action.data) {\n          draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        } else {\n          draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput) && action.data.isGoalDosageValid;\n        }\n        break;\n\n      case EDIT_PROJECTED_SCHEDULE_FROM_MODAL: {\n        /**\n         * When medication is changed: add new medication with full new settings\n         * When dosage is changed:\n         *  - when dosage was increasing before -> increase the dosage of other table rows by the same amount\n         *  - when dosage was decreasing before -> decrease the dosage of other table rows by new decreasing rate\n         * When start/end date is changed:\n         * - When start date is changed: only affect the double clicked row\n         * - - When new start date is overlapped with previous rows with the same prescribed drug:\n         * - When end date is changed: push the table rows with same prescribed drug back by the same interval unit count\n         */\n\n        /**\n         * Check further: when modal tries to make invalid modification, including invalid start/end dates..\n         */\n\n        // Delete related rows\n        draft.projectedSchedule.data = draft.projectedSchedule.data\n          .filter((row) => (row.brand !== action.data.clickedRow.brand)\n            || (row.brand === action.data.clickedRow.brand\n            && row.rowIndexInPrescribedDrug < action.data.clickedRow.rowIndexInPrescribedDrug));\n\n        // making new rows\n        const converted: Converted[] = convert([action.data.prescribedDrug]);\n\n        const generatedTableRows: TableRowData[] = generateTableRows(converted, action.data.clickedRow.rowIndexInPrescribedDrug);\n\n        const intervalOverlapChecked: TableRowsByDrug = handleIntervalOverlap({\n          originalRows: draft.projectedSchedule.data,\n          newRows: generatedTableRows,\n          prescribedDrugFromModal: action.data.prescribedDrug,\n          clickedRowIndex: action.data.clickedRow.rowIndexInPrescribedDrug,\n        });\n\n        const tableRowsEndDatesAligned = alignEndDates(intervalOverlapChecked);\n        const drugNames: string[] = [...new Set(draft.projectedSchedule.drugs.map((drug) => drug.name).concat([action.data.prescribedDrug.name]))];\n\n        // const sorted: TableRowData[] = sort(drugNames, draft.projectedSchedule.data.concat(intervalOverlapChecked));\n        // const sorted: TableRowData[] = sort(drugNames, intervalOverlapChecked);\n        const sorted: TableRowData[] = sort(drugNames, tableRowsEndDatesAligned);\n\n        draft.projectedSchedule.data = sorted;\n        draft.projectedSchedule.drugs = draft.prescribedDrugs!.filter((drug) => drug.brand === action.data.prescribedDrug.brand).length !== 0\n          ? draft.projectedSchedule.drugs\n          : draft.projectedSchedule.drugs.concat(action.data.prescribedDrug);\n\n        draft.scheduleChartData = chartDataConverter(draft.projectedSchedule);\n\n        draft.tableSelectedRows = [];\n        draft.finalPrescription = {};\n        draft.instructionsForPatient = '';\n        draft.instructionsForPharmacy = '';\n        // const notes = generateInstructionsFromSchedule(draft.projectedSchedule, 'both', draft.finalPrescription);\n        // [draft.instructionsForPatient, draft.instructionsForPharmacy] = [notes.patient!, notes.pharmacy!];\n        break;\n      }\n\n      // case SET_CURRENT_PATIENT:\n      //   draft.prescribedDrugs = [];\n      //   draft.projectedSchedule = { drugs: [], data: [] };\n      //   draft.scheduleChartData = [];\n\n      case ADD_OR_UPDATE_TAPER_CONFIG_REQUEST:\n        draft.addingTaperConfig = true;\n        draft.addedTaperConfig = false;\n        draft.addingTaperConfigError = null;\n        break;\n\n      case ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS: {\n        draft.addingTaperConfig = false;\n        draft.addedTaperConfig = true;\n        draft.currentTaperConfigId = action.data.id;\n\n        // TODO: may not need taperConfigCreatedAt.\n        // draft.taperConfigCreatedAt = action.data.createdAt;\n        // draft.prescribedDrugs!.forEach((drug) => {\n        //   drug.prescribedAt = action.data.createdAt;\n        // });\n\n        const taperConfigIdx = draft.taperConfigs\n          .findIndex((config) => {\n            return config.patientId === action.data.patientId\n              && config.clinicianId === action.data.clinicianId;\n          });\n\n        if (taperConfigIdx !== -1) {\n          draft.taperConfigs[taperConfigIdx] = action.data;\n        } else {\n          draft.taperConfigs.push(action.data);\n        }\n\n        // draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\n        // draft.isSaved = true;\n        break;\n      }\n\n      case ADD_OR_UPDATE_TAPER_CONFIG_FAILURE:\n        draft.addingTaperConfig = false;\n        draft.addedTaperConfig = false;\n        draft.addingTaperConfigError = action.error;\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        break;\n\n      case FETCH_TAPER_CONFIG_REQUEST:\n        draft.fetchingTaperConfig = true;\n        draft.fetchedTaperConfig = false;\n        draft.fetchingTaperConfigError = null;\n        draft.currentTaperConfigId = null;\n        break;\n\n      case FETCH_TAPER_CONFIG_SUCCESS:\n        draft.fetchingTaperConfig = false;\n        draft.fetchedTaperConfig = true;\n        draft.clinicianId = action.data.clinicianId;\n        draft.patientId = action.data.patientId;\n        draft.currentTaperConfigId = action.data.id;\n        draft.projectedSchedule = action.data.projectedSchedule;\n        draft.instructionsForPatient = action.data.instructionsForPatient;\n        draft.instructionsForPharmacy = action.data.instructionsForPharmacy;\n        draft.finalPrescription = action.data.finalPrescription;\n        draft.scheduleChartData = action.data.scheduleChartData;\n        draft.tableSelectedRows = action.data.projectedSchedule.data.map((row, i) => {\n          if (row.selected) {\n            return i;\n          }\n          return -1;\n        }).filter((idx) => idx !== -1);\n        // draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs);\n        draft.isSaved = false;\n        break;\n\n      case FETCH_TAPER_CONFIG_FAILURE:\n        draft.fetchingTaperConfig = false;\n        draft.fetchingTaperConfigError = action.error;\n        break;\n\n      case FETCH_PRESCRIBED_DRUGS_REQUEST:\n        draft.fetchingPrescribedDrugs = true;\n        draft.fetchedPrescribedDrugs = false;\n        draft.fetchingPrescribedDrugsError = false;\n        break;\n\n      case FETCH_PRESCRIBED_DRUGS_SUCCESS:\n        draft.fetchingPrescribedDrugs = false;\n        draft.fetchedPrescribedDrugs = true;\n        draft.prescribedDrugs = action.data;\n        draft.isInputComplete = validateCompleteInputs(draft.prescribedDrugs, isCompleteDrugInput);\n        break;\n\n      case FETCH_PRESCRIBED_DRUGS_FAILURE:\n        draft.fetchingPrescribedDrugs = false;\n        draft.fetchingPrescribedDrugsError = action.error;\n        break;\n\n      case SHARE_WITH_PATIENT_APP_REQUEST:\n        draft.sharingWithPatientApp = true;\n        draft.sharedWithPatientApp = false;\n        draft.sharingWithPatientAppError = null;\n        break;\n\n      case SHARE_WITH_PATIENT_APP_SUCCESS:\n        draft.sharingWithPatientApp = false;\n        draft.sharedWithPatientApp = true;\n        break;\n\n      case SHARE_WITH_PATIENT_APP_FAILURE:\n        draft.sharingWithPatientApp = false;\n        draft.sharingWithPatientAppError = action.error;\n        break;\n\n      case SHARE_WITH_PATIENT_EMAIL_REQUEST:\n        draft.sharingWithPatientEmail = true;\n        draft.sharedWithPatientEmail = false;\n        draft.sharingWithPatientEmailError = null;\n        break;\n\n      case SHARE_WITH_PATIENT_EMAIL_SUCCESS:\n        draft.sharingWithPatientEmail = false;\n        draft.sharedWithPatientEmail = true;\n        break;\n\n      case SHARE_WITH_PATIENT_EMAIL_FAILURE:\n        draft.sharingWithPatientEmail = false;\n        draft.sharingWithPatientEmailError = action.error;\n        break;\n\n      default:\n        return state;\n    }\n  });\n};\nexport default taperConfigReducer;\n","import produce from 'immer';\nimport {\n  ADD_NEW_PATIENT_FAILURE,\n  ADD_NEW_PATIENT_REQUEST,\n  ADD_NEW_PATIENT_SUCCESS,\n  AddNewPatientActions,\n  CHANGE_PATIENT_NOTES,\n  ChangePatientNotes,\n  LOAD_PATIENTS_FAILURE,\n  LOAD_PATIENTS_REQUEST,\n  LOAD_PATIENTS_SUCCESS,\n  LoadPatientsActions,\n  LOGIN_FAILURE,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LoginActions,\n  SAVE_PATIENT_NOTES_FAILURE,\n  SAVE_PATIENT_NOTES_REQUEST,\n  SAVE_PATIENT_NOTES_SUCCESS,\n  SavePatientNotesActions,\n  SET_CURRENT_PATIENT,\n  SetCurrentPatientAction,\n} from '../actions/user';\nimport { Clinician, Patient } from '../../types';\nimport { ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS, AddOrUpdateTaperConfigSuccessAction } from '../actions/taperConfig';\nimport { john, sally } from '../sagas/dummies';\n\nexport interface UserState {\n  loggingIn: boolean;\n  loggedIn: boolean;\n  logInError: any;\n\n  addingPatient: boolean;\n  addedPatient: boolean;\n  addPatientError: any;\n\n  loadingPatients: boolean;\n  loadedPatients: boolean;\n  loadPatientsError: any;\n\n  savingPatientNotes: boolean;\n  savedPatientNotes: boolean;\n  savingPatientNotesError: any;\n\n  // patients: Omit<Patient, 'password'|'taperingConfigurations'>[];\n  patients: Omit<Patient, 'password'>[];\n  currentPatient: Omit<Patient, 'password'>|null;\n  // me: Omit<Clinician, 'password'>|null;\n  me: Omit<Clinician, 'password'>;\n}\n\nexport const initialState: UserState = {\n  loggingIn: false,\n  loggedIn: false,\n  logInError: null,\n\n  addingPatient: false,\n  addedPatient: false,\n  addPatientError: null,\n\n  loadingPatients: false,\n  loadedPatients: false,\n  loadPatientsError: null,\n\n  savingPatientNotes: false,\n  savedPatientNotes: false,\n  savingPatientNotesError: null,\n\n  patients: [],\n  currentPatient: null,\n  me: {\n    id: 1,\n    email: '',\n    // name: action.data.name,\n    name: 'Test',\n    patients: [\n      { id: sally.id, name: sally.name },\n      { id: john.id, name: john.name },\n    ],\n  },\n};\n\ntype UserReducerAction =\n  | LoginActions\n  | AddNewPatientActions\n  | AddOrUpdateTaperConfigSuccessAction\n  | LoadPatientsActions\n  | ChangePatientNotes\n  | SetCurrentPatientAction\n  | SavePatientNotesActions;\n\nconst userReducer = (state: UserState = initialState, action: UserReducerAction): UserState => produce(state, (draft) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      draft.loggingIn = true;\n      draft.loggedIn = false;\n      draft.logInError = null;\n      break;\n\n    case LOGIN_SUCCESS:\n      draft.loggingIn = false;\n      draft.loggedIn = true;\n      draft.me = action.data;\n      break;\n\n    case LOGIN_FAILURE:\n      draft.loggingIn = false;\n      draft.loggedIn = false;\n      draft.logInError = action.error;\n      break;\n\n    case ADD_NEW_PATIENT_REQUEST:\n      draft.addingPatient = true;\n      draft.addedPatient = false;\n      draft.addPatientError = null;\n      break;\n\n    case ADD_NEW_PATIENT_SUCCESS:\n      draft.addingPatient = false;\n      draft.addedPatient = true;\n      break;\n\n    case ADD_NEW_PATIENT_FAILURE:\n      draft.addingPatient = false;\n      draft.addPatientError = action.error;\n      break;\n\n    case LOAD_PATIENTS_REQUEST:\n      draft.loadingPatients = true;\n      draft.loadedPatients = false;\n      draft.loadPatientsError = null;\n      break;\n\n    case LOAD_PATIENTS_SUCCESS:\n      draft.loadingPatients = false;\n      draft.loadedPatients = true;\n      draft.patients = action.data;\n      break;\n\n    case LOAD_PATIENTS_FAILURE:\n      draft.loadingPatients = false;\n      draft.loadPatientsError = action.error;\n      break;\n\n    case SAVE_PATIENT_NOTES_REQUEST:\n      draft.savingPatientNotes = true;\n      draft.savedPatientNotes = false;\n      draft.savingPatientNotesError = null;\n      break;\n\n    case SAVE_PATIENT_NOTES_SUCCESS:\n      draft.savingPatientNotes = false;\n      draft.savedPatientNotes = true;\n      draft.currentPatient!.notes = action.data.notes;\n      break;\n\n    case SAVE_PATIENT_NOTES_FAILURE:\n      draft.savingPatientNotes = false;\n      draft.savingPatientNotesError = action.error;\n      break;\n\n    case SET_CURRENT_PATIENT:\n      if (action.data === -1) {\n        draft.currentPatient = null;\n      }\n      draft.currentPatient = draft.patients.find((patient) => patient.id === action.data)!;\n      break;\n\n    case ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS:\n      draft.currentPatient!.taperingConfiguration = action.data;\n      break;\n\n    case CHANGE_PATIENT_NOTES:\n      draft.currentPatient!.notes = action.data;\n      break;\n\n    default:\n      return state;\n  }\n});\n\nexport default userReducer;\n","import { Clinician, Patient } from '../../types';\n\nexport const sally: Omit<Patient, 'password'> = {\n  id: 1,\n  name: 'Sally Johnson',\n  email: 'sallyj@uci.edu',\n  // taperingConfigurations: [\n  //   {\n  //     id: 1,\n  //     clinicianId: 1,\n  //     patientId: 1,\n  //     createdAt: new Date(),\n  //     prescribedDrugs: [\n  //       {\n  //         name: 'Fluoxetine',\n  //         brand: 'Prozac',\n  //         form: 'capsule',\n  //         currentDosages: [{ dosage: '10mg', quantity: 1 }, { dosage: '20mg', quantity: 2 }],\n  //         nextDosages: [{ dosage: '20mg', quantity: 2 }],\n  //       },\n  //       {\n  //         name: 'Citalopram',\n  //         brand: 'Celexa',\n  //         form: 'tablet',\n  //         currentDosages: [{ dosage: '10mg', count: 1 }],\n  //         nextDosages: [{ dosage: '20mg', count: 1 }],\n  //       },\n  //     ],\n  //   },\n  // ] as TaperingConfiguration[],\n  taperingConfiguration: null,\n  recentVisit: new Date(),\n  notes: '',\n};\n\nexport const john: Omit<Patient, 'password'> = {\n  id: 2,\n  name: 'John Greenberg',\n  email: 'johng@uci.edu',\n  notes: '',\n  taperingConfiguration: null,\n  recentVisit: new Date('2021-05-14T21:13:39.673Z'),\n};\n\nexport const xiao: Omit<Patient, 'password'> = {\n  id: 3,\n  email: 'xiaoz@uci.edu',\n  name: 'Xiao Zhang',\n  taperingConfiguration: null,\n  recentVisit: new Date(),\n  notes: '',\n};\n\nexport const christian: Omit<Clinician, 'password'> = {\n  email: 'clinician@gmail.com',\n  name: 'Christian Lee',\n  id: 1,\n  patients: [\n    { id: sally.id, name: sally.name },\n    { id: john.id, name: john.name },\n  ],\n};\n","import { all, fork } from 'redux-saga/effects';\nimport userSaga from './userSaga';\nimport taperConfigSaga from './taperConfigSaga';\n\nexport default function* rootSaga() {\n  yield all([fork(userSaga), fork(taperConfigSaga)]);\n}\n","import {\n  all, fork, put, select, takeLatest,\n} from 'redux-saga/effects';\nimport {\n  ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\n  ADD_OR_UPDATE_TAPER_CONFIG_REQUEST,\n  ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\n  AddOrUpdateTaperConfigFailureAction,\n  AddOrUpdateTaperConfigRequestAction,\n  AddOrUpdateTaperConfigSuccessAction,\n  CLEAR_SCHEDULE,\n  ClearScheduleAction,\n  FETCH_TAPER_CONFIG_FAILURE,\n  FETCH_TAPER_CONFIG_REQUEST,\n  FETCH_TAPER_CONFIG_SUCCESS,\n  FetchTaperConfigFailureAction,\n  FetchTaperConfigRequestAction,\n  FetchTaperConfigSuccessAction,\n  GENERATE_SCHEDULE,\n  GenerateScheduleAction, INIT_NEW_TAPER_CONFIG, InitNewTaperConfigAction,\n  MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\n  MoveFromCreateToPrescribePage,\n  TABLE_DOSAGE_EDITED,\n  TABLE_END_DATE_EDITED,\n  TABLE_START_DATE_EDITED,\n  UPDATE_CHART,\n  UpdateChartAction,\n} from '../actions/taperConfig';\nimport { Prescriptions } from '../../types';\nimport { completePrescribedDrugs, ScheduleChartData } from '../../utils/taperConfig';\nimport { TaperConfigState } from '../reducers/taperConfig';\nimport { Schedule } from '../../components/Schedule/ProjectedSchedule';\n\nlet taperConfigId = 0;\n\nfunction* generateOrClearSchedule() {\n  const taperConfigState: TaperConfigState = yield select((state) => state.taperConfig);\n\n  const validPrescribedDrugsInputs = completePrescribedDrugs(taperConfigState.prescribedDrugs);\n  if (validPrescribedDrugsInputs.length !== 0) {\n    yield put<GenerateScheduleAction>({\n      type: GENERATE_SCHEDULE,\n      data: validPrescribedDrugsInputs,\n    });\n  } else if (taperConfigState.currentTaperConfigId && taperConfigState.taperConfigs.find((config) => config.id === taperConfigState.currentTaperConfigId)) {\n\n  } else {\n    yield put<ClearScheduleAction>({\n      type: CLEAR_SCHEDULE,\n    });\n  }\n}\n\n//\n// function addOrUpdateTaperConfigAPI(action: AddOrUpdateTaperConfigRequestAction): { data: TaperingConfiguration } {\n//   if (taperConfigState.taperConfigs.findIndex((config) => config.patientId === action.data.patientId && config.clinicianId === action.data.clinicianId)) {\n//     return action.data;\n//   }\n//\n//   taperConfigId += 1;\n//   return {\n//     data: {\n//       id: taperConfigId,\n//       ...action.data,\n//       createdAt: new Date(),\n//     },\n//   };\n// }\n\nfunction* addOrUpdateTaperConfig(action: AddOrUpdateTaperConfigRequestAction) {\n  try {\n    // yield delay(1000);\n    // const result = addOrUpdateTaperConfigAPI(action);\n    const taperConfigState: TaperConfigState = yield select((state) => state.taperConfig);\n\n    const existingTaperConfigIndex = taperConfigState.taperConfigs.findIndex((config) => config.patientId === action.data.patientId && config.clinicianId === action.data.clinicianId);\n\n    if (existingTaperConfigIndex) {\n      yield put<AddOrUpdateTaperConfigSuccessAction>({\n        type: ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\n        data: {\n          ...taperConfigState.taperConfigs[existingTaperConfigIndex],\n          ...action.data,\n          id: taperConfigId,\n          createdAt: new Date(),\n        },\n      });\n    } else {\n      taperConfigId += 1;\n      yield put<AddOrUpdateTaperConfigSuccessAction>({\n        type: ADD_OR_UPDATE_TAPER_CONFIG_SUCCESS,\n        data: { ...action.data, id: taperConfigId, createdAt: new Date() },\n      });\n    }\n  } catch (err) {\n    console.error(err);\n    yield put<AddOrUpdateTaperConfigFailureAction>({\n      type: ADD_OR_UPDATE_TAPER_CONFIG_FAILURE,\n      error: err.response.data,\n    });\n  }\n}\n\nfunction* watchAddOrUpdateTaperConfig() {\n  yield takeLatest(ADD_OR_UPDATE_TAPER_CONFIG_REQUEST, addOrUpdateTaperConfig);\n}\n\n// function fetchTaperConfigAPI(action: FetchTaperConfigRequestAction): { data: TaperingConfiguration } {\n//   return {\n//     data: {\n//       id: action.data,\n//       clinicianId: 1,\n//       patientId: 1,\n//       createdAt: new Date('2021-05-14T21:00:06.387Z'),\n//       projectedSchedule: { drugs: [] as PrescribedDrug[], data: [] as TableRowData[] },\n//       finalPrescription: {} as Prescription,\n//       instructionsForPatient: '',\n//       instructionsForPharmacy: '',\n//       scheduleChartData: {} as ScheduleChartData,\n//     },\n//   };\n// }\n\nfunction* fetchTaperConfig(action: FetchTaperConfigRequestAction) {\n  try {\n    // const result = fetchTaperConfigAPI(action);\n    // yield delay(1000);\n\n    const taperConfigState: TaperConfigState = yield select((state) => state.taperConfig);\n\n    const taperConfigIndex = taperConfigState.taperConfigs.findIndex((config) => config.patientId === action.data.patientId && config.clinicianId === action.data.clinicianId);\n    if (taperConfigIndex !== -1) {\n      yield put<FetchTaperConfigSuccessAction>({\n        type: FETCH_TAPER_CONFIG_SUCCESS,\n        data: taperConfigState.taperConfigs[taperConfigIndex],\n      });\n    } else {\n      // add new taper config\n      taperConfigId += 1;\n      yield put<InitNewTaperConfigAction>({\n        type: INIT_NEW_TAPER_CONFIG,\n        data: { clinicianId: action.data.clinicianId, patientId: action.data.patientId },\n      });\n      // yield put<FetchTaperConfigSuccessAction>({\n      //   type: FETCH_TAPER_CONFIG_SUCCESS,\n      //   data: {\n      //     id: taperConfigId,\n      //     clinicianId: action.data.clinicianId,\n      //     patientId: action.data.patientId,\n      //     createdAt: new Date(),\n      //     projectedSchedule: {} as Schedule,\n      //     instructionsForPharmacy: '',\n      //     instructionsForPatient: '',\n      //     finalPrescription: {} as Prescription,\n      //     scheduleChartData: [] as ScheduleChartData,\n      //   },\n      // });\n    }\n\n    // yield generateOrClearSchedule();\n  } catch (err) {\n    console.error(err);\n    yield put<FetchTaperConfigFailureAction>({\n      type: FETCH_TAPER_CONFIG_FAILURE,\n      error: err.response.data,\n    });\n  }\n}\n\nfunction* watchFetchTaperConfig() {\n  yield takeLatest(FETCH_TAPER_CONFIG_REQUEST, fetchTaperConfig);\n}\n\nfunction* updateChart() {\n  yield put<UpdateChartAction>({\n    type: UPDATE_CHART,\n  });\n}\n\nfunction* moveToPrescribePage() {\n  const taperConfigState: TaperConfigState = yield select((state) => state.taperConfig);\n  const { prescribedDrugs, isInputComplete } = taperConfigState;\n  if (prescribedDrugs && prescribedDrugs.length !== 0 && isInputComplete) {\n    yield generateOrClearSchedule();\n  }\n}\n\nfunction* watchTaperConfigFormChange() {\n  yield takeLatest([MOVE_FROM_CREATE_TO_PRESCRIBE_PAGE,\n    // EDIT_PROJECTED_SCHEDULE_FROM_MODAL\n  ],\n  // generateOrClearSchedule);\n  moveToPrescribePage);\n}\n\nfunction* watchProjectedScheduleTableEdit() {\n  yield takeLatest([TABLE_DOSAGE_EDITED, TABLE_START_DATE_EDITED, TABLE_END_DATE_EDITED], updateChart);\n}\n\nexport default function* taperConfigSaga() {\n  yield all([\n    fork(watchFetchTaperConfig),\n    fork(watchAddOrUpdateTaperConfig),\n    fork(watchTaperConfigFormChange),\n    fork(watchProjectedScheduleTableEdit),\n  ]);\n}\n","import {\n  all, delay, fork, put, takeLatest,\n} from 'redux-saga/effects';\nimport {\n  ADD_NEW_PATIENT_FAILURE,\n  ADD_NEW_PATIENT_REQUEST,\n  ADD_NEW_PATIENT_SUCCESS,\n  AddNewPatientFailure,\n  AddNewPatientRequest,\n  AddNewPatientSuccess,\n  LoadPatientsRequestAction,\n  LoadPatientsSuccessAction,\n  LoadPatientsFailureAction,\n  LOGIN_FAILURE,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LoginFailureAction,\n  LoginRequestAction,\n  LoginSuccessAction,\n  LOAD_PATIENTS_SUCCESS,\n  LOAD_PATIENTS_FAILURE,\n  LOAD_PATIENTS_REQUEST,\n  SavePatientNotesRequestAction,\n  SavePatientNotesSuccessAction,\n  SAVE_PATIENT_NOTES_SUCCESS,\n  SAVE_PATIENT_NOTES_FAILURE,\n  SavePatientNotesFailureAction, SAVE_PATIENT_NOTES_REQUEST,\n\n} from '../actions/user';\nimport { Clinician, Patient } from '../../types';\nimport {\n  christian, xiao, sally, john,\n} from './dummies';\n\nfunction loginAPI(action: LoginRequestAction): { data: Omit<Clinician, 'password'> } {\n  // return { data: christian };\n  return {\n    data: {\n      id: 1,\n      email: '',\n      // name: action.data.name,\n      name: 'Test',\n      patients: [\n        { id: sally.id, name: sally.name },\n        { id: john.id, name: john.name },\n      ],\n    },\n  };\n}\n\nfunction* logIn(action: LoginRequestAction) {\n  try {\n    // yield delay(1000);\n    const result = loginAPI(action);\n\n    yield put<LoginSuccessAction>({\n      type: LOGIN_SUCCESS,\n      data: result.data,\n    });\n  } catch (err) {\n    console.error(err);\n    yield put<LoginFailureAction>({\n      type: LOGIN_FAILURE,\n      error: err.response.data,\n    });\n  }\n}\n\nfunction addPatientAPI(action: AddNewPatientRequest): { data: Omit<Patient, 'password'> } {\n  return { data: xiao };\n}\n\nfunction* addPatient(action: AddNewPatientRequest) {\n  try {\n    // yield delay(1000);\n    const result = addPatientAPI(action);\n\n    yield put<AddNewPatientSuccess>({\n      type: ADD_NEW_PATIENT_SUCCESS,\n      data: result.data,\n    });\n  } catch (err) {\n    console.error(err);\n    yield put<AddNewPatientFailure>({\n      type: ADD_NEW_PATIENT_FAILURE,\n      error: err.response.data,\n    });\n  }\n}\n\nfunction loadPatientsAPI(action: LoadPatientsRequestAction): { data: Omit<Patient, 'password'>[] } {\n  return { data: [sally, john, xiao] };\n}\n\nfunction* loadPatients(action: LoadPatientsRequestAction) {\n  try {\n    // yield delay(1000);\n    const result = loadPatientsAPI(action);\n\n    yield put<LoadPatientsSuccessAction>({\n      type: LOAD_PATIENTS_SUCCESS,\n      data: result.data,\n    });\n  } catch (err) {\n    console.error(err);\n    yield put<LoadPatientsFailureAction>({\n      type: LOAD_PATIENTS_FAILURE,\n      error: err.response.data,\n    });\n  }\n}\n\nfunction savePatientNotesApi(action: SavePatientNotesRequestAction): { data: SavePatientNotesSuccessAction['data'] } {\n  return { data: action.data };\n}\n\nfunction* savePatientNotes(action: SavePatientNotesRequestAction) {\n  try {\n    const result = savePatientNotesApi(action);\n\n    yield put<SavePatientNotesSuccessAction>({\n      type: SAVE_PATIENT_NOTES_SUCCESS,\n      data: result.data,\n    });\n  } catch (err) {\n    console.error(err);\n    yield put<SavePatientNotesFailureAction>({\n      type: SAVE_PATIENT_NOTES_FAILURE,\n      error: err.response.data,\n    });\n  }\n}\n\nfunction* watchLogIn() {\n  yield takeLatest(LOGIN_REQUEST, logIn);\n}\n\nfunction* watchAddPatient() {\n  yield takeLatest(ADD_NEW_PATIENT_REQUEST, addPatient);\n}\n\nfunction* watchLoadPatients() {\n  yield takeLatest(LOAD_PATIENTS_REQUEST, loadPatients);\n}\n\nfunction* watchSavePatientNotes() {\n  yield takeLatest(SAVE_PATIENT_NOTES_REQUEST, savePatientNotes);\n}\n\nexport default function* userSaga() {\n  yield all([\n    fork(watchLogIn),\n    fork(watchAddPatient),\n    fork(watchLoadPatients),\n    fork(watchSavePatientNotes)]);\n}\n","import {\n  AnyAction, applyMiddleware, compose, createStore, Middleware, Store,\n} from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport createSagaMiddleware, { Task } from 'redux-saga';\n\nimport reducer, { RootState } from './reducers';\nimport rootSaga from './sagas';\n\ninterface SagaStore extends Store<RootState, AnyAction> {\n  sagaTask: Task;\n}\n\nconst sagaMiddleware = createSagaMiddleware();\nconst middlewares: Middleware[] = [sagaMiddleware];\nconst enhancer = process.env.NODE_ENV === 'production'\n  ? compose(applyMiddleware(...middlewares))\n  : composeWithDevTools(applyMiddleware(...middlewares));\n\nconst store = createStore(reducer, enhancer);\n(store as unknown as SagaStore).sagaTask = sagaMiddleware.run(rootSaga);\n\nexport default store;\n","import { Schedule } from '../components/Schedule/ProjectedSchedule';\nimport { ScheduleChartData } from '../utils/taperConfig';\n\nexport interface Clinician {\n  id: number;\n  email: string;\n  password: string;\n  name: string;\n  patients: Pick<Patient, 'id' | 'name' | 'image'>[];\n  taperingConfigurations?: TaperingConfiguration[];\n}\n\nexport interface Patient {\n  id: number;\n  email: string;\n  password: string;\n  name: string;\n  image?: string;\n  patientSignedUp?: boolean; // considering Clinician's adding patient account in the office\n  taperingConfiguration: TaperingConfiguration | null;\n  recentVisit: Date;\n  notes: string;\n}\n\nexport interface TaperingConfiguration {\n  id: number;\n  clinicianId: number;\n  patientId: number;\n  createdAt: Date;\n  projectedSchedule: Schedule;\n  instructionsForPatient: string;\n  instructionsForPharmacy: string;\n  finalPrescription: Prescriptions;\n  scheduleChartData: ScheduleChartData;\n}\n\nexport interface Drug {\n  name: string;\n  halfLife: string;\n  options: DrugOption[]\n}\n\nexport interface DrugOption {\n  brand: string;\n  forms: DrugForm[]\n}\n\nexport type OralFormNames = 'oral solution' | 'oral suspension';\nexport type PillFormNames = 'capsule' | 'tablet';\n// export type DrugFormNames = 'capsule' | 'tablet' | 'oral solution' | 'oral suspension';\nexport type DrugFormNames = OralFormNames | PillFormNames;\nexport interface PillForm {\n  form: PillFormNames;\n  measureUnit: string;\n  dosages: PillDosage[];\n}\n\nexport interface OralForm {\n  form: OralFormNames;\n  measureUnit: string;\n  dosages: OralDosage;\n}\n\nexport type DrugForm = PillForm | OralForm;\n\nexport interface PillDosage {\n  dosage: string;\n  isScored?: boolean;\n}\n\nexport interface OralDosage {\n  rate: { mg: number, ml: number },\n  bottles: string[]\n}\n\nexport const isCapsuleOrTablet = (form: DrugForm | PrescribedDrug): form is PillForm => {\n  return form.form === 'tablet' || form.form === 'capsule';\n};\n\nexport interface PrescribedDrug {\n  id: number;\n  name: string;\n  brand: string;\n  form: DrugFormNames | null;\n  currentDosageForm: DrugFormNames | null;\n  nextDosageForm: DrugFormNames | null;\n  halfLife: string;\n  measureUnit: string;\n  minDosageUnit: number;\n\n  /**\n   * available dosage options including splitting tablet\n   */\n  availableDosageOptions: string[];\n\n  /**\n   * available dosage options without considering splitting tablet\n   */\n  regularDosageOptions: string[] | null;\n  /**\n   * In modal, keep setting false before adding to taperConfig state\n   */\n  applyInSchedule: boolean;\n  isModal: boolean;\n  /**\n   * When opening a PrescriptionForm in Modal, it disallows to change prior dosage\n   * unless drug name or brand are not changed.\n   */\n  allowChangePriorDosage: boolean;\n  currentDosages: { dosage: string; quantity: number }[];\n  nextDosages: { dosage: string; quantity: number }[];\n  /**\n   * priorDosageSum, upcomingDosageSum are used only in modal\n   */\n  currentDosageSum: number;\n  nextDosageSum: number;\n  targetDosage: number;\n  growth: 'linear' | 'exponential';\n  intervalStartDate: Date;\n  intervalEndDate: Date | null;\n  intervalCount: number;\n  intervalUnit: 'Days' | 'Weeks' | 'Months';\n  intervalDurationDays: number;\n  allowSplittingUnscoredTablet: boolean;\n  prevVisit: boolean;\n  prescribedAt: Date;\n  oralDosageInfo: OralDosage | null;\n  currentOralDosageInfo: OralDosage | null;\n  nextOralDosageInfo: OralDosage|null;\n}\n\nexport interface Prescription {\n  // name: string,\n  brand: string,\n  form: DrugFormNames | null,\n  oralDosageInfo: OralDosage | null;\n  /*\n  // available options for capsule or tablet\n  availableDosages: string[];\n   */\n  regularDosageOptions: string[];\n  dosageQty: { [dosage: string]: number }\n}\n\nexport interface Prescriptions {\n  [drugName: string]: Prescription[];\n}\n\nexport type ValueOf<T> = T[keyof T];\n\nexport interface Converted extends PrescribedDrug {\n  intervalEndDate: Date;\n  currentDosageSum: number;\n  nextDosageSum: number;\n  changeRate: number;\n  changeAmount: number;\n  // isIncreasing: boolean;\n  changeDirection: 'increase' | 'decrease' | 'same';\n}\n\nexport interface TableRowData {\n  rowIndexInPrescribedDrug: number;\n  prescribedDrugId: number;\n  prescribedDrug: PrescribedDrug;\n  isPriorDosage: boolean;\n  drug: string;\n  brand: string;\n  dosage: number;\n  prescription: {\n    message: string,\n    data: {\n      form: DrugFormNames | null,\n      unit: string,\n      intervalCount: number;\n      intervalUnit: 'Days' | 'Weeks' | 'Months' | null;\n      intervalDurationDays: number;\n      oralDosageInfo: OralDosage | null;\n      dosage: { [dosage: string]: number },\n    }\n  } | null;\n  startDate: Date | null,\n  endDate: Date | null,\n  selected: boolean,\n  /**\n   * Includes Oral solution\n   */\n  availableDosageOptions: string[] | null;\n\n  /**\n   * In case of capsule or tablet\n   */\n  regularDosageOptions: string[] | null;\n  /**\n   * dosages counts from next dosages\n   * or minimum quantity calculation without considering intervalDurationDays\n   */\n  unitDosages: { [dosage: string]: number } | null,\n  addedInCurrentVisit: boolean,\n  intervalDurationDays: number,\n  intervalCount: number,\n  intervalUnit: 'Days' | 'Weeks' | 'Months' | null,\n  oralDosageInfo: OralDosage | null,\n  currentOralDosageInfo: OralDosage | null,\n  nextOralDosageInfo: OralDosage | null,\n  measureUnit: string,\n  form: DrugFormNames | null,\n  currentDosageForm: DrugFormNames | null,\n  nextDosageForm: DrugFormNames | null,\n  goalDosage: number;\n  changeDirection: 'increase'|'decrease'|'same';\n}\n","import { Link, Redirect, RouteComponentProps } from 'react-router-dom';\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { UserState } from '../redux/reducers/user';\n\nexport const checkCurrentPatientAndRender = (currentPatient: UserState['currentPatient'], Component: FC) => (props: RouteComponentProps) => {\n  return currentPatient ? <Component /> : <Redirect to={'/'}/>;\n};\n\nexport const checkAndRenderLink = (currentPatient: UserState['currentPatient'], link: string, title: string) => {\n  return currentPatient ? <Link to={link}>{title}</Link> : null;\n};\n","import add from 'date-fns/esm/add';\nimport areIntervalsOverlapping from 'date-fns/esm/areIntervalsOverlapping';\nimport differenceInCalendarDays from 'date-fns/esm/differenceInCalendarDays';\nimport format from 'date-fns/esm/format';\nimport isAfter from 'date-fns/esm/isAfter';\nimport isBefore from 'date-fns/esm/isBefore';\nimport sub from 'date-fns/esm/sub';\n\nimport {\n  OralDosage, PrescribedDrug, TableRowData, Converted, Prescriptions, ValueOf, DrugFormNames, Prescription,\n} from '../types';\nimport { Schedule } from '../components/Schedule/ProjectedSchedule';\nimport { drugNameBrandPairs } from '../redux/reducers/drugs';\n\nexport const isCompleteDrugInput = (drug: PrescribedDrug) => {\n  const currentDosageSum = drug.currentDosages.reduce((prev, { dosage, quantity }) => {\n    return prev + parseFloat(dosage) * quantity;\n  }, 0);\n\n  const nextDosageSum = drug.nextDosages.reduce((prev, { dosage, quantity }) => {\n    return prev + parseFloat(dosage) * quantity;\n  }, 0);\n\n  return drug.name !== ''\n    && drug.brand !== ''\n    && drug.form !== null\n    && drug.intervalEndDate !== null\n    && drug.intervalCount !== 0\n    && (\n      (currentDosageSum < nextDosageSum && drug.targetDosage >= nextDosageSum)\n      || (currentDosageSum > nextDosageSum && drug.targetDosage <= nextDosageSum)\n      || (currentDosageSum === nextDosageSum && nextDosageSum === drug.targetDosage)\n    )\n    && drug.nextDosages.length !== 0\n    && !drug.nextDosages.every((dosage) => dosage.quantity === 0);\n};\n\nexport const completePrescribedDrugs = (drugs: PrescribedDrug[] | null | undefined): PrescribedDrug[] | [] => {\n  return drugs ? drugs.filter((drug) => isCompleteDrugInput(drug)) : [];\n};\n\nexport const validateCompleteInputs = (drugs: PrescribedDrug[] | null | undefined, isCompleteDrugInput: (drug: PrescribedDrug) => boolean): boolean => {\n  return !(drugs === null || drugs === undefined || drugs.length === 0) && drugs\n    .map((drug) => isCompleteDrugInput(drug))\n    .every((cond) => cond);\n};\n\nconst rowIntervalOverlapping = (prev: TableRowData, current: TableRowData) => {\n  return prev.drug === current.drug\n    && (areIntervalsOverlapping(\n      { start: prev.startDate!, end: prev.endDate! },\n      { start: current.startDate!, end: current.endDate! },\n      { inclusive: true },\n    ));\n};\n\nconst rowIntervalIsAfter = (fromPrev: TableRowData, fromCurrent: TableRowData) => {\n  return fromPrev.drug === fromCurrent.drug\n    && isAfter(fromPrev.startDate!, fromCurrent.endDate!);\n};\n\nexport const convert = (drugs: PrescribedDrug[]): Converted[] => {\n  return drugs.map((drug) => {\n    // const priorDosageSum = drug.priorDosages\n    //   .reduce((acc, d) => acc + parseFloat(d.dosage) * d.quantity, 0);\n    // const upcomingDosageSum = drug.upcomingDosages\n    //   .reduce((acc, d) => acc + parseFloat(d.dosage) * d.quantity, 0);\n\n    const changeDirection = (() => {\n      if (drug.currentDosageSum < drug.nextDosageSum) {\n        return 'increase';\n      }\n      if (drug.currentDosageSum > drug.nextDosageSum) {\n        return 'decrease';\n      }\n      return 'same';\n    })();\n\n    return {\n      ...drug,\n      // priorDosageSum,\n      // upcomingDosageSum,\n      changeAmount: drug.nextDosageSum - drug.currentDosageSum,\n      changeRate: drug.nextDosageSum / drug.currentDosageSum,\n      intervalEndDate: drug.intervalEndDate!,\n      changeDirection,\n    };\n  });\n};\n\nconst compareDosageToTargetDosage = (dosage: number, changeAmount: number, targetDosage: number, direction: 'increase' | 'decrease' | 'same'): boolean => {\n  if (direction === 'increase') {\n    return dosage + changeAmount < targetDosage;\n  }\n\n  return dosage + changeAmount > targetDosage;\n};\n\nconst calcProjectedDosages = (drug: Converted, prescribedDosage: number, length: number): number[] => {\n  const res: number[] = [];\n  res.push(prescribedDosage);\n\n  if (drug.growth === 'exponential') {\n    const minDosage = parseFloat(drug.availableDosageOptions[0]);\n    // Array(length - 1).fill(null).forEach((_, i) => {\n    Array(length).fill(null).forEach((_, i) => {\n      const nextTemp = drug.changeRate * res[i];\n      const remainder = nextTemp % minDosage;\n\n      if ((drug.changeDirection === 'decrease' && nextTemp < drug.targetDosage!)\n        || (drug.changeDirection === 'increase' && nextTemp > drug.targetDosage!)) {\n        res.push(drug.targetDosage!);\n      } else if (remainder === 0) {\n        res.push(nextTemp);\n      } else {\n        const floor = Math.floor(nextTemp / minDosage) * minDosage;\n        const ceiling = Math.ceil(nextTemp / minDosage) * minDosage;\n\n        if (i === length - 2 && drug.form === 'tablet' && drug.allowSplittingUnscoredTablet) {\n          res.push(ceiling - minDosage / 2);\n        } else if (ceiling === res[i]) {\n          res.push(floor);\n        } else if (ceiling > nextTemp) {\n          res.push(floor);\n        } else {\n          res.push(ceiling);\n        }\n      }\n      if (drug.oralDosageInfo) {\n        const { rate } = drug.oralDosageInfo;\n        const mlRounded = Math.round((res[i + 1] / rate.mg) * rate.ml);\n        const mg = (mlRounded / rate.ml) * rate.mg;\n        res[i + 1] = mg;\n      }\n    });\n  } else { // linear\n    Array(length).fill(null).forEach((_, i) => {\n      if (compareDosageToTargetDosage(res[i], drug.changeAmount, drug.targetDosage!, drug.changeDirection)) {\n        res.push(res[i] + drug.changeAmount);\n      } else {\n        res.push(drug.targetDosage!);\n      }\n\n      if (drug.oralDosageInfo) {\n        const { rate } = drug.oralDosageInfo;\n        const mlRounded = Math.round((res[i + 1] / rate.mg) * rate.ml);\n        const mg = (mlRounded / rate.ml) * rate.mg;\n        res[i + 1] = mg;\n      }\n    });\n  }\n  return res;\n};\n\nconst subtractDosageOptionsFromDosage = (dosage: number, dosageOptions: string[]): [number, { [dosage: string]: number }] => {\n  const dosages: { [dosage: string]: number } = {};\n  let d = dosage;\n  dosageOptions.concat()\n    .sort((a, b) => parseFloat(b) - parseFloat(a))\n    .forEach((dos) => {\n      const quot = Math.floor(d / parseFloat(dos));\n      if (quot >= 1) {\n        // while (quot >= 1) {\n        dosages[dos] = quot;\n        d -= quot * parseFloat(dos);\n      }\n    });\n\n  return [d, dosages];\n};\n\nexport const calcMinimumQuantityForDosage = (availableOptions: string[], dosage: number, regularDosageOptions: string[] | null): { [dosageQty: string]: number } => {\n  if (dosage === 0) {\n    const putZeros = (prev: { [p: string]: number }, option: string) => {\n      prev[option] = 0;\n      return prev;\n    };\n\n    if (regularDosageOptions) {\n      return regularDosageOptions.reduce(putZeros, {});\n    }\n    return availableOptions.reduce(putZeros, {});\n  }\n\n  if (regularDosageOptions) { // in case of tablet or capsules\n    const [d, dosages] = subtractDosageOptionsFromDosage(dosage, regularDosageOptions);\n\n    if (d > 0) {\n      const splittingOption = availableOptions.find((option) => parseFloat(option) === d);\n      if (!splittingOption) {\n        console.error('dosage case not covered.');\n        return dosages;\n      }\n\n      const dosageToAdd = regularDosageOptions.find((dos) => parseFloat(splittingOption) / parseFloat(dos) === 0.5);\n      if (!dosageToAdd) {\n        console.error('dosage case not covered. - no dosage to split');\n        return dosages;\n      }\n      if (dosages[dosageToAdd]) {\n        dosages[dosageToAdd] += 0.5;\n      } else {\n        dosages[dosageToAdd] = 0.5;\n      }\n    }\n    return dosages;\n  }\n\n  // oral solution / suspense\n  let [d, dosages] = subtractDosageOptionsFromDosage(dosage, availableOptions);\n\n  if (Object.values(dosages).every((qty) => qty === 0)) {\n    dosages[availableOptions[0]] = 1;\n    d = 0;\n  }\n\n  if (d > 0) {\n    dosages[availableOptions[0]] += 1;\n  }\n  return dosages;\n};\n\ninterface PrescriptionFunction {\n  (args: {\n    form: DrugFormNames | null,\n    intervalDurationDays: number,\n    intervalCount: number,\n    intervalUnit: 'Days' | 'Weeks' | 'Months' | null,\n    oralDosageInfo: OralDosage | null\n  },\n    dosageQty: { [dosage: string]: number })\n  : {\n    message: string;\n    data: {\n      form: DrugFormNames | null,\n      unit: string;\n      intervalCount: number;\n      intervalUnit: 'Days' | 'Weeks' | 'Months' | null;\n      intervalDurationDays: number;\n      oralDosageInfo: OralDosage | null;\n      dosage: { [dosage: string]: number }\n    }\n  }\n}\n\nexport const prescription: PrescriptionFunction = (\n  {\n    form,\n    intervalCount,\n    intervalUnit,\n    oralDosageInfo,\n    intervalDurationDays,\n  },\n  dosageQty,\n) => {\n  console.log('oralDosageInfo: ', oralDosageInfo);\n  const checkedIntervalUnit = intervalCount === 1 ? intervalUnit!.toLowerCase().replace('s', '') : intervalUnit!.toLowerCase();\n\n  const message = Object.entries(dosageQty)\n    .filter(([dosage, qty]) => qty !== 0)\n    .reduce((res, [dosage, qty], i, arr) => {\n      if (form === 'oral solution' || form === 'oral suspension') {\n        const { rate } = oralDosageInfo!;\n        return `${res} ${(qty / rate.mg) * rate.ml} ml ${form} by mouth daily for ${intervalCount} ${checkedIntervalUnit}`;\n      }\n\n      const checkedForm = qty === 1 ? form : `${form}s`;\n      if (i === arr.length - 1) {\n        return `${res} ${dosage} ${checkedForm}, ${qty} ${checkedForm} by mouth daily for ${intervalCount} ${checkedIntervalUnit}`;\n      }\n\n      return `${res} ${dosage} ${checkedForm}, ${qty} ${checkedForm} +`;\n    }, '');\n\n  const data = {\n    form,\n    unit: oralDosageInfo !== null ? 'ml' : 'mg',\n    dosage: Object.entries(dosageQty).filter(([dosage, qty]) => qty !== 0).reduce((prev, [dosage, qty]) => {\n      prev[dosage] = qty;\n      return prev;\n    }, {} as { [dosage: string]: number }),\n    oralDosageInfo,\n    intervalCount,\n    intervalUnit,\n    intervalDurationDays,\n  };\n\n  return {\n    message,\n    data,\n  };\n};\n\nconst projectionLengthOfEachDrug = (drug: Converted): number => {\n  if (drug.changeDirection === 'increase') {\n    const increasingLength = drug.targetDosage! / drug.changeAmount;\n    return Number.isInteger(increasingLength) ? increasingLength - 1 : Math.floor(increasingLength);\n  }\n\n  if (drug.changeDirection === 'decrease') {\n    if (drug.targetDosage === drug.nextDosageSum) {\n      return 0;\n    }\n    if (drug.targetDosage === 0) {\n      return Math.floor(Math.log(drug.nextDosageSum) / Math.log(1 / drug.changeRate)) + 1;\n    }\n\n    return Math.floor(Math.log(drug.nextDosageSum) / Math.log(1 / drug.changeRate)) + 1;\n    // return Math.floor(Math.log(drug.targetDosage / drug.upcomingDosageSum) / Math.log(drug.changeRate));\n  }\n\n  // when drug.changeDirection === 'same'\n  return 0;\n};\n\nexport type TableRowsByDrug = { drug: string, lastEndDate: Date, rows: TableRowData[] }[];\nexport const alignEndDates = (tableRowsByDrug: TableRowsByDrug): TableRowData[] => {\n  const endDates = tableRowsByDrug.map((d) => d.lastEndDate);\n  const lastEndDateAndIndex: [number, Date] = endDates.reduce(([i, prev], curr, j) => {\n    if (isAfter(prev, curr)) {\n      return [i, prev];\n    }\n    return [j, curr];\n  }, [0, endDates[0]]);\n\n  tableRowsByDrug.forEach((drug, i) => {\n    if (i !== lastEndDateAndIndex[0]) {\n      const startDate = add(drug.lastEndDate, { days: 1 });\n      const endDate = lastEndDateAndIndex[1];\n      const intervalDurationDays = differenceInCalendarDays(endDate, startDate) + 1;\n      const intervalCount = intervalDurationDays;\n      const intervalUnit = 'Days';\n\n      drug.rows.push({\n        ...drug.rows[drug.rows.length - 1],\n        startDate,\n        endDate,\n        intervalUnit,\n        intervalDurationDays,\n        intervalCount,\n        rowIndexInPrescribedDrug: drug.rows[drug.rows.length - 1].rowIndexInPrescribedDrug + 1,\n        prescription: prescription({\n          form: drug.rows[drug.rows.length - 1].form,\n          oralDosageInfo: drug.rows[drug.rows.length - 1].oralDosageInfo,\n          intervalCount,\n          intervalUnit,\n          intervalDurationDays,\n        }, drug.rows[drug.rows.length - 1].unitDosages!),\n      });\n    }\n  });\n  return tableRowsByDrug.flatMap((drug) => drug.rows);\n};\n\nexport const generateTableRows = (drugs: Converted[], startRowIndexInPrescribedDrug = 0): TableRowData[] => {\n  // const lengthOfProjection = Math.max(...drugs.map(projectionLengthOfEachDrug));\n  console.group('generateTableRows');\n  const tableRowsByDrug = drugs.map((drug) => {\n    const rows: TableRowData[] = [];\n    const durationInDaysCount = { days: differenceInCalendarDays(drug.intervalEndDate, drug.intervalStartDate) + 1 };\n    console.log('drug: ', drug);\n    const lengthOfProjection: number = projectionLengthOfEachDrug(drug);\n    console.log('lengthOfProjection: ', lengthOfProjection);\n    const upcomingDosages: number[] = calcProjectedDosages(drug, drug.nextDosageSum, lengthOfProjection);\n\n    // correct error in upcomingDosage caculation\n    const upcomingDosagesNoRepetition = [...new Set(upcomingDosages)];\n    console.log('upcomingDosages: ', upcomingDosages);\n    console.log('upcomingDosagesNoRepetition: ', upcomingDosagesNoRepetition);\n\n    rows.push({\n      rowIndexInPrescribedDrug: startRowIndexInPrescribedDrug,\n      prescribedDrugId: drug.id,\n      prescribedDrug: drug,\n      drug: drug.name,\n      brand: drug.brand,\n      // dosage: upcomingDosages[0],\n      dosage: upcomingDosagesNoRepetition[0],\n      changeDirection: drug.changeDirection,\n      startDate: drug.intervalStartDate,\n      endDate: drug.intervalEndDate,\n      goalDosage: drug.targetDosage,\n      prescription: prescription({ ...drug },\n        drug.nextDosages.reduce((prev, d) => ({ ...prev, [d.dosage]: d.quantity }), {})),\n      unitDosages: drug.nextDosages.reduce((prev, { dosage, quantity }) => {\n        prev[dosage] = quantity;\n        return prev;\n      }, {} as { [dosage: string]: number }),\n      addedInCurrentVisit: !drug.prevVisit,\n      selected: true,\n      availableDosageOptions: drug.availableDosageOptions,\n      regularDosageOptions: drug.regularDosageOptions,\n      form: drug.form,\n      currentDosageForm: drug.currentDosageForm,\n      nextDosageForm: drug.nextDosageForm,\n      isPriorDosage: false,\n      intervalDurationDays: drug.intervalDurationDays,\n      intervalCount: drug.intervalCount,\n      intervalUnit: drug.intervalUnit,\n      measureUnit: drug.measureUnit,\n      oralDosageInfo: drug.oralDosageInfo || null,\n      currentOralDosageInfo: drug.currentOralDosageInfo,\n      nextOralDosageInfo: drug.nextOralDosageInfo,\n    });\n\n    const projectionStartDate = add(drug.intervalEndDate, { days: 1 });\n    const newEndDate = sub(add(projectionStartDate, durationInDaysCount), { days: 1 });\n    const newRowData = {\n      Drug: drug.name,\n      // upcomingDosageSum: upcomingDosages[1],\n      nextDosageSum: upcomingDosagesNoRepetition[1],\n      // prescribedDosages: calcMinimumQuantityForDosage(drug.availableDosageOptions, upcomingDosages[1], drug.regularDosageOptions),\n      // unitDosages: calcMinimumQuantityForDosage(drug.availableDosageOptions, upcomingDosages[1], drug.regularDosageOptions),\n      unitDosages: calcMinimumQuantityForDosage(drug.availableDosageOptions, upcomingDosagesNoRepetition[1], drug.regularDosageOptions),\n      startDate: projectionStartDate,\n      endDate: newEndDate,\n      selected: false,\n      form: drug.form,\n      Prescription: '',\n      intervalCount: drug.intervalCount,\n      intervalUnit: drug.intervalUnit,\n      oralDosageInfo: drug.oralDosageInfo ? drug.oralDosageInfo : undefined,\n      currentOralDosageInfo: drug.nextOralDosageInfo,\n      nextOralDosageInfo: drug.nextOralDosageInfo,\n    };\n\n    // Array(lengthOfProjection).fill(null).forEach((_, i) => {\n    Array(upcomingDosagesNoRepetition.length).fill(null).forEach((_, i) => {\n      if (newRowData.nextDosageSum !== 0) {\n        rows.push({\n          rowIndexInPrescribedDrug: startRowIndexInPrescribedDrug + i + 1,\n          prescribedDrug: drug,\n          prescribedDrugId: drug.id,\n          drug: drug.name,\n          brand: drug.brand,\n          dosage: newRowData.nextDosageSum,\n          startDate: newRowData.startDate,\n          endDate: newRowData.endDate,\n          prescription: prescription({\n            ...drug,\n            form: drug.nextDosageForm,\n          }, newRowData.unitDosages),\n          selected: false,\n          goalDosage: drug.targetDosage,\n          addedInCurrentVisit: !drug.prevVisit,\n          availableDosageOptions: drug.availableDosageOptions,\n          regularDosageOptions: drug.regularDosageOptions,\n          unitDosages: newRowData.unitDosages,\n          isPriorDosage: false,\n          intervalDurationDays: drug.intervalDurationDays,\n          intervalCount: drug.intervalCount,\n          intervalUnit: drug.intervalUnit,\n          measureUnit: drug.measureUnit,\n          form: drug.form,\n          currentDosageForm: drug.nextDosageForm,\n          nextDosageForm: drug.nextDosageForm,\n          oralDosageInfo: drug.oralDosageInfo || null,\n          currentOralDosageInfo: newRowData.currentOralDosageInfo,\n          nextOralDosageInfo: newRowData.nextOralDosageInfo,\n          changeDirection: drug.changeDirection,\n        });\n\n        // newRowData.upcomingDosageSum = upcomingDosages[i + 2];\n        newRowData.nextDosageSum = upcomingDosagesNoRepetition[i + 2];\n        newRowData.unitDosages = calcMinimumQuantityForDosage(drug.availableDosageOptions, newRowData.nextDosageSum, drug.regularDosageOptions);\n        newRowData.startDate = add(newRowData.endDate, { days: 1 });\n        newRowData.endDate = sub(add(newRowData.startDate, durationInDaysCount), { days: 1 });\n      }\n    });\n    const rowsToReturn = rows.filter((row) => row.dosage !== undefined);\n    return {\n      drug: drug.name,\n      rows: rowsToReturn,\n      lastEndDate: rowsToReturn[rowsToReturn.length - 1].endDate!,\n    };\n  });\n  return alignEndDates(tableRowsByDrug);\n};\n\n// todo: check with two drugs..\nexport const replaceRowsWithModifiedNewOnes = (originalRows: TableRowData[], newRows: TableRowData[]): TableRowData[] => {\n  const newRowsMinIdx = Math.min(...newRows.map((row) => row.rowIndexInPrescribedDrug));\n  const originalRowsWithSameDrug = originalRows.filter((row) => row.drug === newRows[0].drug);\n  const restRows = originalRows.filter((row) => row.drug !== newRows[0].drug);\n  return [...originalRowsWithSameDrug.filter((row) => row.rowIndexInPrescribedDrug < newRowsMinIdx), ...newRows, ...restRows];\n};\n\ninterface IHandleIntervalOverlap {\n  originalRows: TableRowData[];\n  newRows: TableRowData[];\n  clickedRowIndex: number;\n  prescribedDrugFromModal: PrescribedDrug\n}\n\nexport const handleIntervalOverlap = ({\n  originalRows,\n  newRows,\n  clickedRowIndex,\n  prescribedDrugFromModal,\n}: IHandleIntervalOverlap): TableRowsByDrug => {\n  // remove old rows and merge the newly generated ones\n  const rowsReplacedWithNewOnes = replaceRowsWithModifiedNewOnes(originalRows, newRows);\n\n  // fix interval overlapping\n  const overlappingRows = rowsReplacedWithNewOnes.map((row, i) => {\n    if (row.drug === prescribedDrugFromModal.name && row.rowIndexInPrescribedDrug !== clickedRowIndex && areIntervalsOverlapping({\n      start: row.startDate || row.endDate!,\n      end: row.endDate!,\n    }, {\n      start: prescribedDrugFromModal.intervalStartDate, end: prescribedDrugFromModal.intervalEndDate!,\n    })) {\n      return row;\n    }\n    return null;\n  }).filter((row) => row !== null) as TableRowData[];\n\n  const earliestOverlappingRowIndex = Math.min(...overlappingRows.map((row) => row.rowIndexInPrescribedDrug));\n\n  const overlapCheckedRows: TableRowData[] = rowsReplacedWithNewOnes.map((row) => {\n    if (row.drug === prescribedDrugFromModal.name\n      && overlappingRows.map((overlappingRow) => overlappingRow.rowIndexInPrescribedDrug).includes(row.rowIndexInPrescribedDrug)) {\n      // when the row is above the clicked row\n      if (row.rowIndexInPrescribedDrug < clickedRowIndex) {\n        if (row.rowIndexInPrescribedDrug === earliestOverlappingRowIndex) {\n          const endDate = sub(prescribedDrugFromModal.intervalStartDate!, { days: 1 });\n          const intervalCount = row.isPriorDosage ? -1 : differenceInCalendarDays(endDate, row.startDate!);\n          const intervalDurationDays = intervalCount;\n          const intervalUnit = 'Days';\n          return {\n            ...row,\n            endDate,\n            intervalCount,\n            intervalDurationDays,\n            intervalUnit,\n            prescription: row.isPriorDosage ? null : prescription({\n              form: row.form,\n              intervalCount,\n              intervalUnit,\n              intervalDurationDays,\n              oralDosageInfo: row.oralDosageInfo,\n            }, row.unitDosages!),\n          };\n        }\n\n        // when the row is fully covered by the new start date and end date of clicked row -> remove\n        return null;\n      }\n\n      // when the row is below the clicked row\n      const startDate = add(prescribedDrugFromModal.intervalEndDate!, { days: (row.rowIndexInPrescribedDrug - clickedRowIndex) * prescribedDrugFromModal.intervalDurationDays + 1 });\n      const endDate = add(startDate, { days: prescribedDrugFromModal.intervalDurationDays - 1 });\n      const intervalCount = prescribedDrugFromModal.intervalDurationDays;\n      const intervalUnit = 'Days';\n\n      return {\n        ...row,\n        startDate,\n        endDate,\n        intervalCount,\n        intervalUnit,\n        intervalDurationDays: intervalCount,\n        prescription: prescription({\n          form: row.form,\n          intervalCount,\n          intervalUnit,\n          intervalDurationDays: intervalCount,\n          oralDosageInfo: row.oralDosageInfo,\n        }, row.unitDosages!),\n      };\n    }\n    return row;\n  }).filter((row) => row !== null) as TableRowData[];\n\n  const rowsWithEditedDrug = (() => {\n    const res = [];\n    let idx = 0;\n    for (const row of overlapCheckedRows.filter((row) => row.drug === prescribedDrugFromModal.name)) {\n      if (row.rowIndexInPrescribedDrug === -1) {\n        res.push(row);\n      } else {\n        res.push({ ...row, rowIndexInPrescribedDrug: idx });\n        idx += 1;\n      }\n    }\n    return res;\n  })();\n\n  const rowsUnchanged = overlapCheckedRows.filter((row) => row.drug !== prescribedDrugFromModal.name);\n\n  // return [...rowsWithEditedDrug, ...rowsUnchanged];\n  if (rowsUnchanged.length === 0) {\n    return [{\n      drug: rowsWithEditedDrug[0].drug,\n      lastEndDate: rowsWithEditedDrug[rowsWithEditedDrug.length - 1].endDate!,\n      rows: rowsWithEditedDrug,\n    }];\n  }\n  return [{\n    drug: rowsWithEditedDrug[0].drug,\n    lastEndDate: rowsWithEditedDrug[rowsWithEditedDrug.length - 1].endDate!,\n    rows: rowsWithEditedDrug,\n  },\n  { drug: rowsUnchanged[0].drug, lastEndDate: rowsUnchanged[rowsUnchanged.length - 1].endDate!, rows: rowsUnchanged }];\n};\n\nexport const checkIntervalOverlappingRows = (rows: TableRowData[]): TableRowData[] => {\n  const rowsAddedInCurrentVisit = rows.filter((row) => row.addedInCurrentVisit);\n  const rowsFromPreviousVisits = rows.filter((row) => !row.addedInCurrentVisit);\n\n  rowsAddedInCurrentVisit.forEach((fromCurrent) => {\n    rowsFromPreviousVisits.forEach((fromPrev, i, arr) => {\n      if (rowIntervalOverlapping(fromPrev, fromCurrent)) {\n        fromPrev.endDate = sub(fromCurrent.startDate!, { days: 1 });\n        // fromPrev.Dates = `${format(fromPrev.startDate, 'MM/dd/yyyy')} - ${format(fromPrev.endDate, 'MM/dd/yyyy')}`;\n        fromPrev.intervalUnit = 'Days';\n        fromPrev.intervalCount = differenceInCalendarDays(fromPrev.endDate, fromPrev.startDate!) + 1;\n        fromPrev.prescription = prescription({\n          form: fromPrev.form,\n          intervalCount: fromPrev.intervalCount,\n          intervalUnit: fromPrev.intervalUnit,\n          oralDosageInfo: fromPrev.oralDosageInfo,\n          intervalDurationDays: fromPrev.intervalDurationDays,\n        },\n        fromPrev.unitDosages!);\n\n        if (isBefore(fromPrev.endDate, fromPrev.startDate!)) {\n          arr.splice(i, 1);\n        }\n      }\n\n      if (rowIntervalIsAfter(fromPrev, fromCurrent)) {\n        arr.splice(i, 1);\n      }\n    });\n  });\n\n  return [...rowsFromPreviousVisits, ...rowsAddedInCurrentVisit];\n};\n\nexport const sort = (drugNames: string[], rows: TableRowData[]): TableRowData[] => {\n  const compare = (a: TableRowData, b: TableRowData) => {\n    if (isBefore(a.startDate!, b.startDate!)) {\n      return -1;\n    }\n\n    if (a.startDate === b.startDate) {\n      return 1;\n    }\n\n    const compareDrugNames = drugNames\n      .findIndex((drug) => drug === a.drug) < drugNames.findIndex((drug) => drug === b.drug);\n\n    if (compareDrugNames) {\n      return -1;\n    }\n\n    if (a.isPriorDosage && !b.isPriorDosage) {\n      return -1;\n    }\n    return 1;\n  };\n\n  return rows.sort(compare);\n};\n\nexport const scheduleGenerator = (prescribedDrugs: PrescribedDrug[]): Schedule => {\n  console.group('scheduleGenerator');\n  console.log('prescribedDrugs: ', prescribedDrugs);\n  const drugsToApplyInSchedule = prescribedDrugs.filter((drug) => drug.applyInSchedule);\n  // const drugNames = prescribedDrugs.map((drug) => drug.name);\n  const drugNames = drugsToApplyInSchedule.map((drug) => drug.name);\n\n  // const converted: Converted[] = convert(prescribedDrugs);\n  const converted: Converted[] = convert(drugsToApplyInSchedule);\n  console.log('converted: ', converted);\n  const rows: TableRowData[] = generateTableRows(converted);\n  console.log('rows: ', rows);\n\n  // const intervalOverlapCheckedRows: TableRowData[] = checkIntervalOverlappingRows(rows);\n  // console.log('intervalOverlapCheckedRows: ', intervalOverlapCheckedRows);\n  // const tableDataSorted: TableRowData[] = sort(drugNames, intervalOverlapCheckedRows);\n  const tableDataSorted: TableRowData[] = sort(drugNames, rows);\n  console.log('tableData: ', tableDataSorted);\n  // tableDataSorted.unshift(...prescribedDrugs.map((drug) => ({\n  // tableDataSorted.unshift(...drugsToApplyInSchedule\n  tableDataSorted.unshift(...converted\n    .filter((drug) => !drug.isModal)\n    .map((drug) => ({\n      rowIndexInPrescribedDrug: -1,\n      prescribedDrugId: drug.id,\n      changeDirection: drug.changeDirection,\n      isPriorDosage: true,\n      prescribedDrug: drug,\n      drug: drug.name,\n      brand: drug.brand,\n      dosage: drug.currentDosages.reduce((prev, { dosage, quantity }) => {\n        return prev + parseFloat(dosage) * quantity;\n      }, 0),\n      prescription: {\n        ...prescription({\n          form: drug.currentDosageForm,\n          intervalCount: drug.intervalCount,\n          intervalUnit: drug.intervalUnit,\n          oralDosageInfo: drug.oralDosageInfo,\n          intervalDurationDays: drug.intervalDurationDays,\n        }, drug.currentDosages.reduce((prev, { dosage, quantity }) => {\n          prev[dosage] = quantity;\n          return prev;\n        }, {} as { [dosage: string]: number })),\n        message: '',\n      },\n      startDate: null,\n      endDate: tableDataSorted[0].startDate,\n      selected: false,\n      availableDosageOptions: [],\n      regularDosageOptions: null,\n      unitDosages: {},\n      addedInCurrentVisit: false,\n      intervalDurationDays: -1,\n      goalDosage: drug.targetDosage,\n      intervalCount: -1,\n      intervalUnit: null,\n      measureUnit: drug.measureUnit,\n      form: drug.form,\n      currentDosageForm: drug.currentDosageForm,\n      oralDosageInfo: drug.oralDosageInfo,\n      currentOralDosageInfo: drug.currentOralDosageInfo,\n      nextOralDosageInfo: drug.nextOralDosageInfo,\n      nextDosageForm: drug.nextDosageForm,\n      currentDosageInfo: drug.currentOralDosageInfo,\n      nextDosageInfo: drug.nextOralDosageInfo,\n    })) as TableRowData[]);\n  console.groupEnd();\n\n  // return { data: tableDataSorted, drugs: prescribedDrugs };\n  return { data: tableDataSorted, drugs: drugsToApplyInSchedule };\n};\n\nexport type ScheduleChartData = { name: string, brand: string, changeDirection: 'increase' | 'decrease' | 'same', data: { timestamp: number, dosage: number }[] }[];\n\nexport const chartDataConverter = (schedule: Schedule): ScheduleChartData => {\n  const rowsGroupByDrug: { [drugName_brand: string]: TableRowData[] } = {};\n\n  const scheduleChartData: ScheduleChartData = [];\n\n  schedule.drugs.forEach((drug) => {\n    rowsGroupByDrug[`${drug.name}_${drug.brand}`] = [];\n  });\n\n  schedule.data\n    .filter((row) => !row.isPriorDosage)\n    .forEach((row) => {\n      rowsGroupByDrug[`${row.drug}_${row.brand}`].push(row);\n    });\n\n  const changeDirections: { [drugName_brand: string]: 'increase' | 'decrease' | 'same' } = schedule.drugs.reduce((prev, drug) => {\n    const priorDosageSum = drug.currentDosages.reduce((acc, { dosage, quantity }) => {\n      return acc + parseFloat(dosage) * quantity;\n    }, 0);\n\n    const upcomingDosageSum = drug.nextDosages.reduce((acc, { dosage, quantity }) => {\n      return acc + parseFloat(dosage) * quantity;\n    }, 0);\n\n    if (priorDosageSum > upcomingDosageSum) {\n      prev[`${drug.name}_${drug.brand}`] = 'decrease';\n    } else if (priorDosageSum < upcomingDosageSum) {\n      prev[`${drug.name}_${drug.brand}`] = 'increase';\n    } else {\n      prev[`${drug.name}_${drug.brand}`] = 'same';\n    }\n\n    return prev;\n  }, {} as { [drugName_brand: string]: 'increase' | 'decrease' | 'same' });\n\n  Object.entries(rowsGroupByDrug).forEach(([k, rows]) => {\n    const [drugName, drugBrand] = k.split('_');\n    scheduleChartData.push({\n      name: drugName, brand: drugBrand, changeDirection: changeDirections[k], data: [],\n    });\n\n    rows.forEach((row, i) => {\n      const chartData = scheduleChartData.find((el) => el.brand === drugBrand)!;\n      Array(differenceInCalendarDays(row.endDate!, row.startDate!) + 1).fill(null).forEach((_, j) => {\n        chartData.data.push({\n          timestamp: add(row.startDate!, { days: j }).getTime(),\n          dosage: row.dosage,\n        });\n      });\n\n      if (i === rows.length - 1) {\n        chartData.data.push({\n          timestamp: row.endDate!.getTime(),\n          dosage: row.dosage,\n        });\n      }\n    });\n  });\n\n  return scheduleChartData;\n};\n\nconst getCountRead = (num: number): string => {\n  const counts: { [num: string]: string } = {\n    1: 'one',\n    2: 'two',\n    3: 'three',\n    4: 'four',\n    5: 'five',\n    6: 'six',\n    7: 'seven',\n    8: 'eight',\n    9: 'nine',\n    10: 'ten',\n  };\n\n  const numStr = `${num}`;\n  if (numStr.endsWith('.5')) {\n    const numStrSplit = numStr.split('.');\n    const intCount = counts[numStrSplit[0]] || numStrSplit[0];\n    const decimalCount = 'a half';\n    return parseFloat(intCount) !== 0 ? `${intCount} and ${decimalCount}` : `${decimalCount}`;\n    // return `${parseFloat(intCount) !== 0 ? intCount : ''} and ${decimalCount}`;\n  }\n\n  return counts[numStr] || numStr;\n};\n\nconst capitalize = (str: DrugFormNames | null): string => {\n  if (str === null) {\n    return '';\n  }\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\n// oralDosageInfo -> nextOralDosageInfo\nconst generateNotesForPatientFromRows = (rows: TableRowData[]): string => {\n  const drugTitle = rows[0].brand.includes('generic')\n    ? `${rows[0].drug.replace(' (generic)', '')} (${drugNameBrandPairs[rows[0].drug]})`\n    : `${rows[0].brand.split(' ')[0]} (${rows[0].drug})`;\n\n  const messageHeading = rows[0].changeDirection === 'decrease' ? `Reduce ${drugTitle} to\\n` : `Take ${drugTitle}\\n`;\n\n  const selectedRows = rows.filter((row) => row.selected && !row.isPriorDosage);\n\n  if (selectedRows.length === 0) {\n    return '';\n  }\n\n  return rows\n    .filter((row) => row.selected && !row.isPriorDosage)\n    .reduce((message, row, j, rowArr) => {\n      const rowPrescription = row.prescription!;\n      const intervalUnit = rowPrescription.data.intervalCount === 1 ? rowPrescription.data.intervalUnit!.toLowerCase().replace('s', '') : rowPrescription.data.intervalUnit!.toLowerCase();\n      const messageLine = Object.entries(rowPrescription.data.dosage)\n        .reduce((prev, [dosage, qty], i, arr) => {\n          if (!row.oralDosageInfo) {\n            const quantity = getCountRead(qty);\n            if (i === arr.length - 1) {\n              const messageBeforeThen = `${prev}${dosage} ${rowPrescription.data.form}s, ${quantity} ${rowPrescription.data.form}(s) by mouth daily from ${format(row.startDate!, 'MM/dd/yyyy')} to ${format(row.endDate!, 'MM/dd/yyyy')} (${rowPrescription.data.intervalCount} ${intervalUnit})`;\n              if (j === rowArr.length - 1) {\n                if (row.changeDirection === 'increase') {\n                  return `${messageBeforeThen}.\\n`;\n                }\n                return `${messageBeforeThen},\\n\\tThen STOP.\\n`;\n              }\n              return `${messageBeforeThen} then,\\n`;\n            }\n            return `${prev}${dosage} ${rowPrescription.data.form}s, ${quantity} ${rowPrescription.data.form}(s) + `;\n          }\n          const { rate } = row.oralDosageInfo;\n          const formCapitalized = capitalize(rowPrescription.data.form);\n          if (i === arr.length - 1) {\n            const messageBeforeThen = `${prev}${formCapitalized}, ${(qty / rate.mg) * rate.ml} ml ${rowPrescription.data.form} by mouth daily from ${format(row.startDate!, 'MM/dd/yyyy')} to ${format(row.endDate!, 'MM/dd/yyyy')} (${rowPrescription.data.intervalCount} ${intervalUnit})`;\n            if (j === rowArr.length - 1) {\n              return `${messageBeforeThen},\\n\\tThen STOP.\\n`;\n            }\n            return `${messageBeforeThen} then,\\n`;\n          }\n          return `${prev}${formCapitalized}, ${(qty / rate.mg) * rate.ml} ml ${rowPrescription.data.form} + `;\n        }, '');\n      return `${message}\\t${messageLine}`;\n    }, messageHeading).trim();\n};\n\n// const generateNotesForPharmacyFromRows = (rows: TableRowData[], finalPrescription: Prescription): string => {\nconst generateNotesForPharmacyFromRows = (rows: TableRowData[], finalPrescription: ValueOf<Prescriptions>): string => {\n  const drugTitle = rows[0].brand.includes('generic')\n    ? `${rows[0].drug.replace(' (generic)', '')} (${drugNameBrandPairs[rows[0].drug]})`\n    : `${rows[0].brand.split(' ')[0]} (${rows[0].drug})`;\n\n  const linesWithSubtotal = rows\n    .filter((row) => row.selected && !row.isPriorDosage)\n    .reduce((message, row, j, rowArr) => {\n      const rowPrescription = row.prescription!;\n      const messageLine = Object.entries(rowPrescription.data.dosage)\n        .reduce((prev, [dosage, qty], i, arr) => {\n          if (!row.oralDosageInfo) {\n            const quantity = getCountRead(qty);\n            if (i === arr.length - 1) {\n              const messageBeforeThen = `${prev}${i === 0 ? `${drugTitle}, take ` : ''}${quantity} ${dosage} ${rowPrescription.data.form}(s) by mouth daily (subtotal: ${Math.round(qty * rowPrescription.data.intervalDurationDays)})`;\n              if (j === rowArr.length - 1) {\n                return `${messageBeforeThen}.\\n`;\n              }\n              return `${messageBeforeThen};\\n`;\n            }\n            return `${prev}${i === 0 ? `${drugTitle}, take ` : ''}${quantity} ${dosage} ${rowPrescription.data.form}(s) by mouth daily (subtotal: ${Math.round(qty * rowPrescription.data.intervalDurationDays)}) + `;\n          }\n\n          const { rate } = row.oralDosageInfo;\n          if (i === arr.length - 1) {\n            const messageBeforeThen = `${prev}${i === 0 ? `${drugTitle}, take ` : ''}${(qty / rate.mg) * rate.ml} ml ${rowPrescription.data.form} by mouth daily (subtotal: ${(qty / rate.mg) * rate.ml * rowPrescription.data.intervalDurationDays} ml)`;\n            if (j === rowArr.length - 1) {\n              return `${messageBeforeThen}.\\n`;\n            }\n            return `${messageBeforeThen};\\n`;\n          }\n          return `${prev}${i === 0 ? `${drugTitle}, take ` : ''}${(qty / rate.ml) * rate.ml} ml ${rowPrescription.data.form} by mouth daily (subtotal: ${(qty / rate.mg) * rate.ml * rowPrescription.data.intervalDurationDays} ml) + `;\n        }, '');\n      return `${message}${messageLine}`;\n    }, '');\n\n  const linesWithTotal = finalPrescription.length === 0 || finalPrescription.some((prescription) => Object.keys(prescription).length === 0)\n    ? ''\n    : finalPrescription.map((prescription) => {\n      return Object.entries(prescription.dosageQty).filter(([dosage, qty]) => qty !== 0).reduce((prev, [dosage, qty]) => {\n        return `${prev}${drugTitle} ${dosage} ${prescription.form} (total: ${Math.round(qty)}).\\n`;\n      }, '');\n    }).join('');\n\n  return `${linesWithSubtotal}${linesWithTotal}`;\n};\n\nexport const generateInstructionsFromSchedule = (schedule: Schedule, idx: 'both' | 'patientOnly' | 'pharmacyOnly', finalPrescription: Prescriptions): { patient: string | null, pharmacy: string | null } => {\n  const rowsGroupByDrug: { [drug: string]: TableRowData[] } = schedule.data\n    .reduce((acc, row) => {\n      return Object.keys(acc).includes(row.drug)\n        ? { ...acc, [row.drug]: [...acc[row.drug], row] }\n        : { ...acc, [row.drug]: [] };\n    }, {} as { [drug: string]: TableRowData[] });\n  const notesForPatient = idx === 'pharmacyOnly'\n    ? null\n    : Object.values(rowsGroupByDrug)\n      .map((rows) => generateNotesForPatientFromRows(rows))\n      .reduce((acc, message) => `${acc}${message}\\n`, '');\n\n  const notesForPharmacy = idx === 'patientOnly'\n    ? null\n    : Object.entries(rowsGroupByDrug)\n      .map(([drugName, rows]) => generateNotesForPharmacyFromRows(rows, finalPrescription[drugName]))\n      .reduce((acc, message) => `${acc}${message}\\n`, '');\n  return {\n    patient: notesForPatient, pharmacy: notesForPharmacy,\n  };\n};\n\nexport const calcFinalPrescription = (scheduleData: TableRowData[], tableSelectedRows: (number | null)[]): Prescriptions => {\n  const finalPrescription = scheduleData\n    .filter((row, i) => tableSelectedRows.includes(i))\n    .reduce((prev, row) => {\n      if (!prev[row.drug] || !prev[row.drug].find((p) => p.form === row.form)) {\n        if (!prev[row.drug]) {\n          prev[row.drug] = [];\n        }\n\n        const obj: Prescription = {\n          brand: '',\n          form: null,\n          regularDosageOptions: [],\n          oralDosageInfo: null,\n          dosageQty: {},\n        };\n        obj.brand = row.brand;\n        obj.form = row.form;\n        if (row.oralDosageInfo) {\n          obj.oralDosageInfo = row.oralDosageInfo;\n        }\n        obj.regularDosageOptions = row.regularDosageOptions!;\n        obj.dosageQty = Object.entries(row.unitDosages!)\n          .reduce((dosages, [dosage, qty]) => {\n            if (!dosages[dosage]) {\n              dosages[dosage] = qty * row.intervalDurationDays!;\n            } else {\n              dosages[dosage] += qty * row.intervalDurationDays!;\n            }\n            return dosages;\n          }, {} as { [dosage: string]: number });\n        prev[row.drug].push(obj);\n      } else {\n        const sameForm = prev[row.drug].find((p) => p.form === row.form)!;\n        Object.entries(row.unitDosages!)\n          .forEach(([dosage, qty]) => {\n            if (!sameForm.dosageQty[dosage]) {\n              sameForm.dosageQty[dosage] = qty * row.intervalDurationDays!;\n            } else {\n              sameForm.dosageQty[dosage] += qty * row.intervalDurationDays!;\n            }\n          });\n      }\n      return prev;\n    }, {} as Prescriptions);\n\n  Object.entries(finalPrescription).forEach(([id, prescriptions]) => {\n    prescriptions.forEach((prescription) => {\n      if (prescription.oralDosageInfo) {\n        const { ml, mg } = prescription.oralDosageInfo.rate;\n        const dosageInMl = prescription.dosageQty['1mg'] / mg * ml;\n        prescription.dosageQty = calcMinimumQuantityForDosage(prescription.oralDosageInfo.bottles, dosageInMl, null);\n      }\n    });\n  });\n\n  return finalPrescription;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktapering_antidepressant\"] = self[\"webpackChunktapering_antidepressant\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [22], () => (__webpack_require__(7070)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}